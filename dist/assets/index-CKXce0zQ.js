var iw=Object.defineProperty;var aw=(s,e,t)=>e in s?iw(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var U=(s,e,t)=>aw(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();function px(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var oh={exports:{}},Kr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function rw(){if(_0)return Kr;_0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,l){var u=null;if(l!==void 0&&(u=""+l),r.key!==void 0&&(u=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:s,type:i,key:u,ref:r!==void 0?r:null,props:l}}return Kr.Fragment=e,Kr.jsx=t,Kr.jsxs=t,Kr}var S0;function ow(){return S0||(S0=1,oh.exports=rw()),oh.exports}var h=ow(),lh={exports:{}},Jr={},ch={exports:{}},uh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function lw(){return M0||(M0=1,function(s){function e(R,G){var se=R.length;R.push(G);e:for(;0<se;){var ue=se-1>>>1,C=R[ue];if(0<r(C,G))R[ue]=G,R[se]=C,se=ue;else break e}}function t(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var G=R[0],se=R.pop();if(se!==G){R[0]=se;e:for(var ue=0,C=R.length,F=C>>>1;ue<F;){var ee=2*(ue+1)-1,K=R[ee],le=ee+1,xe=R[le];if(0>r(K,se))le<C&&0>r(xe,K)?(R[ue]=xe,R[le]=se,ue=le):(R[ue]=K,R[ee]=se,ue=ee);else if(le<C&&0>r(xe,se))R[ue]=xe,R[le]=se,ue=le;else break e}}return G}function r(R,G){var se=R.sortIndex-G.sortIndex;return se!==0?se:R.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();s.unstable_now=function(){return u.now()-d}}var m=[],g=[],y=1,x=null,b=3,w=!1,N=!1,A=!1,j=!1,M=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function Y(R){for(var G=t(g);G!==null;){if(G.callback===null)i(g);else if(G.startTime<=R)i(g),G.sortIndex=G.expirationTime,e(m,G);else break;G=t(g)}}function S(R){if(A=!1,Y(R),!N)if(t(m)!==null)N=!0,T||(T=!0,oe());else{var G=t(g);G!==null&&te(S,G.startTime-R)}}var T=!1,$=-1,I=5,q=-1;function L(){return j?!0:!(s.unstable_now()-q<I)}function J(){if(j=!1,T){var R=s.unstable_now();q=R;var G=!0;try{e:{N=!1,A&&(A=!1,E($),$=-1),w=!0;var se=b;try{t:{for(Y(R),x=t(m);x!==null&&!(x.expirationTime>R&&L());){var ue=x.callback;if(typeof ue=="function"){x.callback=null,b=x.priorityLevel;var C=ue(x.expirationTime<=R);if(R=s.unstable_now(),typeof C=="function"){x.callback=C,Y(R),G=!0;break t}x===t(m)&&i(m),Y(R)}else i(m);x=t(m)}if(x!==null)G=!0;else{var F=t(g);F!==null&&te(S,F.startTime-R),G=!1}}break e}finally{x=null,b=se,w=!1}G=void 0}}finally{G?oe():T=!1}}}var oe;if(typeof D=="function")oe=function(){D(J)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,me=ce.port2;ce.port1.onmessage=J,oe=function(){me.postMessage(null)}}else oe=function(){M(J,0)};function te(R,G){$=M(function(){R(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(R){R.callback=null},s.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<R?Math.floor(1e3/R):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(R){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var se=b;b=G;try{return R()}finally{b=se}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var se=b;b=R;try{return G()}finally{b=se}},s.unstable_scheduleCallback=function(R,G,se){var ue=s.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ue+se:ue):se=ue,R){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=se+C,R={id:y++,callback:G,priorityLevel:R,startTime:se,expirationTime:C,sortIndex:-1},se>ue?(R.sortIndex=se,e(g,R),t(m)===null&&R===t(g)&&(A?(E($),$=-1):A=!0,te(S,se-ue))):(R.sortIndex=C,e(m,R),N||w||(N=!0,T||(T=!0,oe()))),R},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(R){var G=b;return function(){var se=b;b=G;try{return R.apply(this,arguments)}finally{b=se}}}}(uh)),uh}var N0;function cw(){return N0||(N0=1,ch.exports=lw()),ch.exports}var dh={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function uw(){if(A0)return _e;A0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,A={};function j(C,F,ee){this.props=C,this.context=F,this.refs=A,this.updater=ee||w}j.prototype.isReactComponent={},j.prototype.setState=function(C,F){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,F,"setState")},j.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function M(){}M.prototype=j.prototype;function E(C,F,ee){this.props=C,this.context=F,this.refs=A,this.updater=ee||w}var D=E.prototype=new M;D.constructor=E,N(D,j.prototype),D.isPureReactComponent=!0;var Y=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function $(C,F,ee,K,le,xe){return ee=xe.ref,{$$typeof:s,type:C,key:F,ref:ee!==void 0?ee:null,props:xe}}function I(C,F){return $(C.type,F,void 0,void 0,void 0,C.props)}function q(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function L(C){var F={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ee){return F[ee]})}var J=/\/+/g;function oe(C,F){return typeof C=="object"&&C!==null&&C.key!=null?L(""+C.key):F.toString(36)}function ce(){}function me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ce,ce):(C.status="pending",C.then(function(F){C.status==="pending"&&(C.status="fulfilled",C.value=F)},function(F){C.status==="pending"&&(C.status="rejected",C.reason=F)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function te(C,F,ee,K,le){var xe=typeof C;(xe==="undefined"||xe==="boolean")&&(C=null);var re=!1;if(C===null)re=!0;else switch(xe){case"bigint":case"string":case"number":re=!0;break;case"object":switch(C.$$typeof){case s:case e:re=!0;break;case y:return re=C._init,te(re(C._payload),F,ee,K,le)}}if(re)return le=le(C),re=K===""?"."+oe(C,0):K,Y(le)?(ee="",re!=null&&(ee=re.replace(J,"$&/")+"/"),te(le,F,ee,"",function(Lt){return Lt})):le!=null&&(q(le)&&(le=I(le,ee+(le.key==null||C&&C.key===le.key?"":(""+le.key).replace(J,"$&/")+"/")+re)),F.push(le)),1;re=0;var Ue=K===""?".":K+":";if(Y(C))for(var De=0;De<C.length;De++)K=C[De],xe=Ue+oe(K,De),re+=te(K,F,ee,xe,le);else if(De=b(C),typeof De=="function")for(C=De.call(C),De=0;!(K=C.next()).done;)K=K.value,xe=Ue+oe(K,De++),re+=te(K,F,ee,xe,le);else if(xe==="object"){if(typeof C.then=="function")return te(me(C),F,ee,K,le);throw F=String(C),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return re}function R(C,F,ee){if(C==null)return C;var K=[],le=0;return te(C,K,"","",function(xe){return F.call(ee,xe,le++)}),K}function G(C){if(C._status===-1){var F=C._result;F=F(),F.then(function(ee){(C._status===0||C._status===-1)&&(C._status=1,C._result=ee)},function(ee){(C._status===0||C._status===-1)&&(C._status=2,C._result=ee)}),C._status===-1&&(C._status=0,C._result=F)}if(C._status===1)return C._result.default;throw C._result}var se=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function ue(){}return _e.Children={map:R,forEach:function(C,F,ee){R(C,function(){F.apply(this,arguments)},ee)},count:function(C){var F=0;return R(C,function(){F++}),F},toArray:function(C){return R(C,function(F){return F})||[]},only:function(C){if(!q(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},_e.Component=j,_e.Fragment=t,_e.Profiler=r,_e.PureComponent=E,_e.StrictMode=i,_e.Suspense=m,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,_e.__COMPILER_RUNTIME={__proto__:null,c:function(C){return S.H.useMemoCache(C)}},_e.cache=function(C){return function(){return C.apply(null,arguments)}},_e.cloneElement=function(C,F,ee){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var K=N({},C.props),le=C.key,xe=void 0;if(F!=null)for(re in F.ref!==void 0&&(xe=void 0),F.key!==void 0&&(le=""+F.key),F)!T.call(F,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&F.ref===void 0||(K[re]=F[re]);var re=arguments.length-2;if(re===1)K.children=ee;else if(1<re){for(var Ue=Array(re),De=0;De<re;De++)Ue[De]=arguments[De+2];K.children=Ue}return $(C.type,le,void 0,void 0,xe,K)},_e.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:l,_context:C},C},_e.createElement=function(C,F,ee){var K,le={},xe=null;if(F!=null)for(K in F.key!==void 0&&(xe=""+F.key),F)T.call(F,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(le[K]=F[K]);var re=arguments.length-2;if(re===1)le.children=ee;else if(1<re){for(var Ue=Array(re),De=0;De<re;De++)Ue[De]=arguments[De+2];le.children=Ue}if(C&&C.defaultProps)for(K in re=C.defaultProps,re)le[K]===void 0&&(le[K]=re[K]);return $(C,xe,void 0,void 0,null,le)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(C){return{$$typeof:d,render:C}},_e.isValidElement=q,_e.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:G}},_e.memo=function(C,F){return{$$typeof:g,type:C,compare:F===void 0?null:F}},_e.startTransition=function(C){var F=S.T,ee={};S.T=ee;try{var K=C(),le=S.S;le!==null&&le(ee,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ue,se)}catch(xe){se(xe)}finally{S.T=F}},_e.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},_e.use=function(C){return S.H.use(C)},_e.useActionState=function(C,F,ee){return S.H.useActionState(C,F,ee)},_e.useCallback=function(C,F){return S.H.useCallback(C,F)},_e.useContext=function(C){return S.H.useContext(C)},_e.useDebugValue=function(){},_e.useDeferredValue=function(C,F){return S.H.useDeferredValue(C,F)},_e.useEffect=function(C,F,ee){var K=S.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(C,F)},_e.useId=function(){return S.H.useId()},_e.useImperativeHandle=function(C,F,ee){return S.H.useImperativeHandle(C,F,ee)},_e.useInsertionEffect=function(C,F){return S.H.useInsertionEffect(C,F)},_e.useLayoutEffect=function(C,F){return S.H.useLayoutEffect(C,F)},_e.useMemo=function(C,F){return S.H.useMemo(C,F)},_e.useOptimistic=function(C,F){return S.H.useOptimistic(C,F)},_e.useReducer=function(C,F,ee){return S.H.useReducer(C,F,ee)},_e.useRef=function(C){return S.H.useRef(C)},_e.useState=function(C){return S.H.useState(C)},_e.useSyncExternalStore=function(C,F,ee){return S.H.useSyncExternalStore(C,F,ee)},_e.useTransition=function(){return S.H.useTransition()},_e.version="19.1.0",_e}var j0;function af(){return j0||(j0=1,dh.exports=uw()),dh.exports}var hh={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function dw(){if(k0)return Ht;k0=1;var s=af();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(m,g,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:m,containerInfo:g,implementation:y}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ht.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},Ht.flushSync=function(m){var g=u.T,y=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=g,i.p=y,i.d.f()}},Ht.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Ht.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Ht.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,x=d(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:w}):y==="script"&&i.d.X(m,{crossOrigin:x,integrity:b,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ht.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Ht.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,x=d(y,g.crossOrigin);i.d.L(m,y,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ht.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Ht.requestFormReset=function(m){i.d.r(m)},Ht.unstable_batchedUpdates=function(m,g){return m(g)},Ht.useFormState=function(m,g,y){return u.H.useFormState(m,g,y)},Ht.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ht.version="19.1.0",Ht}var C0;function yx(){if(C0)return hh.exports;C0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),hh.exports=dw(),hh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function hw(){if(T0)return Jr;T0=1;var s=cw(),e=af(),t=yx();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var a=n,o=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(o=a.return),n=a.return;while(n)}return a.tag===3?o:null}function u(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(i(188))}function m(n){var a=n.alternate;if(!a){if(a=l(n),a===null)throw Error(i(188));return a!==n?null:n}for(var o=n,c=a;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return d(f),n;if(p===c)return d(f),a;p=p.sibling}throw Error(i(188))}if(o.return!==c.return)o=f,c=p;else{for(var v=!1,_=f.child;_;){if(_===o){v=!0,o=f,c=p;break}if(_===c){v=!0,c=f,o=p;break}_=_.sibling}if(!v){for(_=p.child;_;){if(_===o){v=!0,o=p,c=f;break}if(_===c){v=!0,c=p,o=f;break}_=_.sibling}if(!v)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:a}function g(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=g(n),a!==null)return a;n=n.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),D=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=J&&n[J]||n["@@iterator"],typeof n=="function"?n:null)}var ce=Symbol.for("react.client.reference");function me(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ce?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case j:return"Profiler";case A:return"StrictMode";case S:return"Suspense";case T:return"SuspenseList";case q:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case D:return(n.displayName||"Context")+".Provider";case E:return(n._context.displayName||"Context")+".Consumer";case Y:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $:return a=n.displayName||null,a!==null?a:me(n.type)||"Memo";case I:a=n._payload,n=n._init;try{return me(n(a))}catch{}}return null}var te=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ue=[],C=-1;function F(n){return{current:n}}function ee(n){0>C||(n.current=ue[C],ue[C]=null,C--)}function K(n,a){C++,ue[C]=n.current,n.current=a}var le=F(null),xe=F(null),re=F(null),Ue=F(null);function De(n,a){switch(K(re,a),K(xe,n),K(le,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?Wp(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=Wp(a),n=Zp(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ee(le),K(le,n)}function Lt(){ee(le),ee(xe),ee(re)}function Dn(n){n.memoizedState!==null&&K(Ue,n);var a=le.current,o=Zp(a,n.type);a!==o&&(K(xe,n),K(le,o))}function ss(n){xe.current===n&&(ee(le),ee(xe)),Ue.current===n&&(ee(Ue),Qr._currentValue=se)}var is=Object.prototype.hasOwnProperty,ks=s.unstable_scheduleCallback,Hn=s.unstable_cancelCallback,ae=s.unstable_shouldYield,Ce=s.unstable_requestPaint,pt=s.unstable_now,Wi=s.unstable_getCurrentPriorityLevel,Ft=s.unstable_ImmediatePriority,Pn=s.unstable_UserBlockingPriority,as=s.unstable_NormalPriority,Nt=s.unstable_LowPriority,mn=s.unstable_IdlePriority,Zi=s.log,Ki=s.unstable_setDisableYieldValue,sn=null,Me=null;function Ut(n){if(typeof Zi=="function"&&Ki(n),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(sn,n)}catch{}}var At=Math.clz32?Math.clz32:On,rs=Math.log,Ji=Math.LN2;function On(n){return n>>>=0,n===0?32:31-(rs(n)/Ji|0)|0}var ea=256,ta=4194304;function Yn(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ci(n,a,o){var c=n.pendingLanes;if(c===0)return 0;var f=0,p=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var _=c&134217727;return _!==0?(c=_&~p,c!==0?f=Yn(c):(v&=_,v!==0?f=Yn(v):o||(o=_&~n,o!==0&&(f=Yn(o))))):(_=c&~p,_!==0?f=Yn(_):v!==0?f=Yn(v):o||(o=c&~n,o!==0&&(f=Yn(o)))),f===0?0:a!==0&&a!==f&&(a&p)===0&&(p=f&-f,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:f}function ui(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function nr(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rn(){var n=ea;return ea<<=1,(ea&4194048)===0&&(ea=256),n}function Io(){var n=ta;return ta<<=1,(ta&62914560)===0&&(ta=4194304),n}function sr(n){for(var a=[],o=0;31>o;o++)a.push(n);return a}function Cs(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Fo(n,a,o,c,f,p){var v=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var _=n.entanglements,k=n.expirationTimes,H=n.hiddenUpdates;for(o=v&~o;0<o;){var X=31-At(o),Z=1<<X;_[X]=0,k[X]=-1;var P=H[X];if(P!==null)for(H[X]=null,X=0;X<P.length;X++){var V=P[X];V!==null&&(V.lane&=-536870913)}o&=~Z}c!==0&&we(n,c,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(v&~a))}function we(n,a,o){n.pendingLanes|=a,n.suspendedLanes&=~a;var c=31-At(a);n.entangledLanes|=a,n.entanglements[c]=n.entanglements[c]|1073741824|o&4194090}function ot(n,a){var o=n.entangledLanes|=a;for(n=n.entanglements;o;){var c=31-At(o),f=1<<c;f&a|n[c]&a&&(n[c]|=a),o&=~f}}function yt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Rt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function di(){var n=G.p;return n!==0?n:(n=window.event,n===void 0?32:p0(n.type))}function vt(n,a){var o=G.p;try{return G.p=n,a()}finally{G.p=o}}var lt=Math.random().toString(36).slice(2),ct="__reactFiber$"+lt,Qe="__reactProps$"+lt,jt="__reactContainer$"+lt,na="__reactEvents$"+lt,os="__reactListeners$"+lt,Lf="__reactHandles$"+lt,Bf="__reactResources$"+lt,ir="__reactMarker$"+lt;function eu(n){delete n[ct],delete n[Qe],delete n[na],delete n[os],delete n[Lf]}function sa(n){var a=n[ct];if(a)return a;for(var o=n.parentNode;o;){if(a=o[jt]||o[ct]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(n=t0(n);n!==null;){if(o=n[ct])return o;n=t0(n)}return a}n=o,o=n.parentNode}return null}function ia(n){if(n=n[ct]||n[jt]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function ar(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function aa(n){var a=n[Bf];return a||(a=n[Bf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function kt(n){n[ir]=!0}var Hf=new Set,Pf={};function hi(n,a){ra(n,a),ra(n+"Capture",a)}function ra(n,a){for(Pf[n]=a,n=0;n<a.length;n++)Hf.add(a[n])}var Wb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yf={},Vf={};function Zb(n){return is.call(Vf,n)?!0:is.call(Yf,n)?!1:Wb.test(n)?Vf[n]=!0:(Yf[n]=!0,!1)}function Uo(n,a,o){if(Zb(a))if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+o)}}function $o(n,a,o){if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+o)}}function ls(n,a,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(a,o,""+c)}}var tu,If;function oa(n){if(tu===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);tu=a&&a[1]||"",If=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tu+n+If}var nu=!1;function su(n,a){if(!n||nu)return"";nu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(V){var P=V}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(V){P=V}n.call(Z.prototype)}}else{try{throw Error()}catch(V){P=V}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(V){if(V&&P&&typeof V.stack=="string")return[V.stack,P.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),v=p[0],_=p[1];if(v&&_){var k=v.split(`
`),H=_.split(`
`);for(f=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(c===k.length||f===H.length)for(c=k.length-1,f=H.length-1;1<=c&&0<=f&&k[c]!==H[f];)f--;for(;1<=c&&0<=f;c--,f--)if(k[c]!==H[f]){if(c!==1||f!==1)do if(c--,f--,0>f||k[c]!==H[f]){var X=`
`+k[c].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=c&&0<=f);break}}}finally{nu=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?oa(o):""}function Kb(n){switch(n.tag){case 26:case 27:case 5:return oa(n.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 15:return su(n.type,!1);case 11:return su(n.type.render,!1);case 1:return su(n.type,!0);case 31:return oa("Activity");default:return""}}function Ff(n){try{var a="";do a+=Kb(n),n=n.return;while(n);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function gn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Uf(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Jb(n){var a=Uf(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),c=""+n[a];if(!n.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,p.call(this,v)}}),Object.defineProperty(n,a,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Qo(n){n._valueTracker||(n._valueTracker=Jb(n))}function $f(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return n&&(c=Uf(n)?n.checked?"true":"false":n.value),n=c,n!==o?(a.setValue(n),!0):!1}function Xo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ev=/[\n"\\]/g;function pn(n){return n.replace(ev,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function iu(n,a,o,c,f,p,v,_){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),a!=null?v==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+gn(a)):n.value!==""+gn(a)&&(n.value=""+gn(a)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),a!=null?au(n,v,gn(a)):o!=null?au(n,v,gn(o)):c!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.name=""+gn(_):n.removeAttribute("name")}function Qf(n,a,o,c,f,p,v,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;o=o!=null?""+gn(o):"",a=a!=null?""+gn(a):o,_||a===n.value||(n.value=a),n.defaultValue=a}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=_?n.checked:!!c,n.defaultChecked=!!c,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function au(n,a,o){a==="number"&&Xo(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function la(n,a,o,c){if(n=n.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=a.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&c&&(n[o].defaultSelected=!0)}else{for(o=""+gn(o),a=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}a!==null||n[f].disabled||(a=n[f])}a!==null&&(a.selected=!0)}}function Xf(n,a,o){if(a!=null&&(a=""+gn(a),a!==n.value&&(n.value=a),o==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=o!=null?""+gn(o):""}function Gf(n,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(i(92));if(te(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=gn(a),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c)}function ca(n,a){if(a){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=a;return}}n.textContent=a}var tv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wf(n,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":c?n.setProperty(a,o):typeof o!="number"||o===0||tv.has(a)?a==="float"?n.cssFloat=o:n[a]=(""+o).trim():n[a]=o+"px"}function Zf(n,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in a)c=a[f],a.hasOwnProperty(f)&&o[f]!==c&&Wf(n,f,c)}else for(var p in a)a.hasOwnProperty(p)&&Wf(n,p,a[p])}function ru(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Go(n){return sv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ou=null;function lu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ua=null,da=null;function Kf(n){var a=ia(n);if(a&&(n=a.stateNode)){var o=n[Qe]||null;e:switch(n=a.stateNode,a.type){case"input":if(iu(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==n&&c.form===n.form){var f=c[Qe]||null;if(!f)throw Error(i(90));iu(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===n.form&&$f(c)}break e;case"textarea":Xf(n,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&la(n,!!o.multiple,a,!1)}}}var cu=!1;function Jf(n,a,o){if(cu)return n(a,o);cu=!0;try{var c=n(a);return c}finally{if(cu=!1,(ua!==null||da!==null)&&(El(),ua&&(a=ua,n=da,da=ua=null,Kf(a),n)))for(a=0;a<n.length;a++)Kf(n[a])}}function rr(n,a){var o=n.stateNode;if(o===null)return null;var c=o[Qe]||null;if(c===null)return null;o=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=!1;if(cs)try{var or={};Object.defineProperty(or,"passive",{get:function(){uu=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{uu=!1}var Ts=null,du=null,Wo=null;function em(){if(Wo)return Wo;var n,a=du,o=a.length,c,f="value"in Ts?Ts.value:Ts.textContent,p=f.length;for(n=0;n<o&&a[n]===f[n];n++);var v=o-n;for(c=1;c<=v&&a[o-c]===f[p-c];c++);return Wo=f.slice(n,1<c?1-c:void 0)}function Zo(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Ko(){return!0}function tm(){return!1}function Xt(n){function a(o,c,f,p,v){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(o=n[_],this[_]=o?o(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ko:tm,this.isPropagationStopped=tm,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),a}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=Xt(fi),lr=y({},fi,{view:0,detail:0}),iv=Xt(lr),hu,fu,cr,el=y({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==cr&&(cr&&n.type==="mousemove"?(hu=n.screenX-cr.screenX,fu=n.screenY-cr.screenY):fu=hu=0,cr=n),hu)},movementY:function(n){return"movementY"in n?n.movementY:fu}}),nm=Xt(el),av=y({},el,{dataTransfer:0}),rv=Xt(av),ov=y({},lr,{relatedTarget:0}),mu=Xt(ov),lv=y({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),cv=Xt(lv),uv=y({},fi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dv=Xt(uv),hv=y({},fi,{data:0}),sm=Xt(hv),fv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pv(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=gv[n])?!!a[n]:!1}function gu(){return pv}var yv=y({},lr,{key:function(n){if(n.key){var a=fv[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Zo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mv[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(n){return n.type==="keypress"?Zo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xv=Xt(yv),bv=y({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=Xt(bv),vv=y({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),wv=Xt(vv),_v=y({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sv=Xt(_v),Mv=y({},el,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Nv=Xt(Mv),Av=y({},fi,{newState:0,oldState:0}),jv=Xt(Av),kv=[9,13,27,32],pu=cs&&"CompositionEvent"in window,ur=null;cs&&"documentMode"in document&&(ur=document.documentMode);var Cv=cs&&"TextEvent"in window&&!ur,am=cs&&(!pu||ur&&8<ur&&11>=ur),rm=" ",om=!1;function lm(n,a){switch(n){case"keyup":return kv.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ha=!1;function Tv(n,a){switch(n){case"compositionend":return cm(a);case"keypress":return a.which!==32?null:(om=!0,rm);case"textInput":return n=a.data,n===rm&&om?null:n;default:return null}}function Dv(n,a){if(ha)return n==="compositionend"||!pu&&lm(n,a)?(n=em(),Wo=du=Ts=null,ha=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return am&&a.locale!=="ko"?null:a.data;default:return null}}var Ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function um(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Ov[n.type]:a==="textarea"}function dm(n,a,o,c){ua?da?da.push(c):da=[c]:ua=c,a=Pl(a,"onChange"),0<a.length&&(o=new Jo("onChange","change",null,o,c),n.push({event:o,listeners:a}))}var dr=null,hr=null;function Rv(n){Up(n,0)}function tl(n){var a=ar(n);if($f(a))return n}function hm(n,a){if(n==="change")return a}var fm=!1;if(cs){var yu;if(cs){var xu="oninput"in document;if(!xu){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),xu=typeof mm.oninput=="function"}yu=xu}else yu=!1;fm=yu&&(!document.documentMode||9<document.documentMode)}function gm(){dr&&(dr.detachEvent("onpropertychange",pm),hr=dr=null)}function pm(n){if(n.propertyName==="value"&&tl(hr)){var a=[];dm(a,hr,n,lu(n)),Jf(Rv,a)}}function Ev(n,a,o){n==="focusin"?(gm(),dr=a,hr=o,dr.attachEvent("onpropertychange",pm)):n==="focusout"&&gm()}function zv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tl(hr)}function qv(n,a){if(n==="click")return tl(a)}function Lv(n,a){if(n==="input"||n==="change")return tl(a)}function Bv(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var an=typeof Object.is=="function"?Object.is:Bv;function fr(n,a){if(an(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var o=Object.keys(n),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!is.call(a,f)||!an(n[f],a[f]))return!1}return!0}function ym(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xm(n,a){var o=ym(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=a&&c>=a)return{node:o,offset:a-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ym(o)}}function bm(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?bm(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function vm(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Xo(n.document);a instanceof n.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)n=a.contentWindow;else break;a=Xo(n.document)}return a}function bu(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var Hv=cs&&"documentMode"in document&&11>=document.documentMode,fa=null,vu=null,mr=null,wu=!1;function wm(n,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;wu||fa==null||fa!==Xo(c)||(c=fa,"selectionStart"in c&&bu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),mr&&fr(mr,c)||(mr=c,c=Pl(vu,"onSelect"),0<c.length&&(a=new Jo("onSelect","select",null,a,o),n.push({event:a,listeners:c}),a.target=fa)))}function mi(n,a){var o={};return o[n.toLowerCase()]=a.toLowerCase(),o["Webkit"+n]="webkit"+a,o["Moz"+n]="moz"+a,o}var ma={animationend:mi("Animation","AnimationEnd"),animationiteration:mi("Animation","AnimationIteration"),animationstart:mi("Animation","AnimationStart"),transitionrun:mi("Transition","TransitionRun"),transitionstart:mi("Transition","TransitionStart"),transitioncancel:mi("Transition","TransitionCancel"),transitionend:mi("Transition","TransitionEnd")},_u={},_m={};cs&&(_m=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function gi(n){if(_u[n])return _u[n];if(!ma[n])return n;var a=ma[n],o;for(o in a)if(a.hasOwnProperty(o)&&o in _m)return _u[n]=a[o];return n}var Sm=gi("animationend"),Mm=gi("animationiteration"),Nm=gi("animationstart"),Pv=gi("transitionrun"),Yv=gi("transitionstart"),Vv=gi("transitioncancel"),Am=gi("transitionend"),jm=new Map,Su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Su.push("scrollEnd");function En(n,a){jm.set(n,a),hi(a,[n])}var km=new WeakMap;function yn(n,a){if(typeof n=="object"&&n!==null){var o=km.get(n);return o!==void 0?o:(a={value:n,source:a,stack:Ff(a)},km.set(n,a),a)}return{value:n,source:a,stack:Ff(a)}}var xn=[],ga=0,Mu=0;function nl(){for(var n=ga,a=Mu=ga=0;a<n;){var o=xn[a];xn[a++]=null;var c=xn[a];xn[a++]=null;var f=xn[a];xn[a++]=null;var p=xn[a];if(xn[a++]=null,c!==null&&f!==null){var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}p!==0&&Cm(o,f,p)}}function sl(n,a,o,c){xn[ga++]=n,xn[ga++]=a,xn[ga++]=o,xn[ga++]=c,Mu|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Nu(n,a,o,c){return sl(n,a,o,c),il(n)}function pa(n,a){return sl(n,null,null,a),il(n)}function Cm(n,a,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=n.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&a!==null&&(f=31-At(o),n=p.hiddenUpdates,c=n[f],c===null?n[f]=[a]:c.push(a),a.lane=o|536870912),p):null}function il(n){if(50<Hr)throw Hr=0,Dd=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var ya={};function Iv(n,a,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(n,a,o,c){return new Iv(n,a,o,c)}function Au(n){return n=n.prototype,!(!n||!n.isReactComponent)}function us(n,a){var o=n.alternate;return o===null?(o=rn(n.tag,a,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=a,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,a=n.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Tm(n,a){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,a=o.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function al(n,a,o,c,f,p){var v=0;if(c=n,typeof n=="function")Au(n)&&(v=1);else if(typeof n=="string")v=U1(n,o,le.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case q:return n=rn(31,o,a,f),n.elementType=q,n.lanes=p,n;case N:return pi(o.children,f,p,a);case A:v=8,f|=24;break;case j:return n=rn(12,o,a,f|2),n.elementType=j,n.lanes=p,n;case S:return n=rn(13,o,a,f),n.elementType=S,n.lanes=p,n;case T:return n=rn(19,o,a,f),n.elementType=T,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:case D:v=10;break e;case E:v=9;break e;case Y:v=11;break e;case $:v=14;break e;case I:v=16,c=null;break e}v=29,o=Error(i(130,n===null?"null":typeof n,"")),c=null}return a=rn(v,o,a,f),a.elementType=n,a.type=c,a.lanes=p,a}function pi(n,a,o,c){return n=rn(7,n,c,a),n.lanes=o,n}function ju(n,a,o){return n=rn(6,n,null,a),n.lanes=o,n}function ku(n,a,o){return a=rn(4,n.children!==null?n.children:[],n.key,a),a.lanes=o,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var xa=[],ba=0,rl=null,ol=0,bn=[],vn=0,yi=null,ds=1,hs="";function xi(n,a){xa[ba++]=ol,xa[ba++]=rl,rl=n,ol=a}function Dm(n,a,o){bn[vn++]=ds,bn[vn++]=hs,bn[vn++]=yi,yi=n;var c=ds;n=hs;var f=32-At(c)-1;c&=~(1<<f),o+=1;var p=32-At(a)+f;if(30<p){var v=f-f%5;p=(c&(1<<v)-1).toString(32),c>>=v,f-=v,ds=1<<32-At(a)+f|o<<f|c,hs=p+n}else ds=1<<p|o<<f|c,hs=n}function Cu(n){n.return!==null&&(xi(n,1),Dm(n,1,0))}function Tu(n){for(;n===rl;)rl=xa[--ba],xa[ba]=null,ol=xa[--ba],xa[ba]=null;for(;n===yi;)yi=bn[--vn],bn[vn]=null,hs=bn[--vn],bn[vn]=null,ds=bn[--vn],bn[vn]=null}var $t=null,et=null,Ee=!1,bi=null,Vn=!1,Du=Error(i(519));function vi(n){var a=Error(i(418,""));throw yr(yn(a,n)),Du}function Om(n){var a=n.stateNode,o=n.type,c=n.memoizedProps;switch(a[ct]=n,a[Qe]=c,o){case"dialog":je("cancel",a),je("close",a);break;case"iframe":case"object":case"embed":je("load",a);break;case"video":case"audio":for(o=0;o<Yr.length;o++)je(Yr[o],a);break;case"source":je("error",a);break;case"img":case"image":case"link":je("error",a),je("load",a);break;case"details":je("toggle",a);break;case"input":je("invalid",a),Qf(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Qo(a);break;case"select":je("invalid",a);break;case"textarea":je("invalid",a),Gf(a,c.value,c.defaultValue,c.children),Qo(a)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||Gp(a.textContent,o)?(c.popover!=null&&(je("beforetoggle",a),je("toggle",a)),c.onScroll!=null&&je("scroll",a),c.onScrollEnd!=null&&je("scrollend",a),c.onClick!=null&&(a.onclick=Yl),a=!0):a=!1,a||vi(n)}function Rm(n){for($t=n.return;$t;)switch($t.tag){case 5:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:$t=$t.return}}function gr(n){if(n!==$t)return!1;if(!Ee)return Rm(n),Ee=!0,!1;var a=n.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Qd(n.type,n.memoizedProps)),o=!o),o&&et&&vi(n),Rm(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(a===0){et=qn(n.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;n=n.nextSibling}et=null}}else a===27?(a=et,$s(n.type)?(n=Zd,Zd=null,et=n):et=a):et=$t?qn(n.stateNode.nextSibling):null;return!0}function pr(){et=$t=null,Ee=!1}function Em(){var n=bi;return n!==null&&(Zt===null?Zt=n:Zt.push.apply(Zt,n),bi=null),n}function yr(n){bi===null?bi=[n]:bi.push(n)}var Ou=F(null),wi=null,fs=null;function Ds(n,a,o){K(Ou,a._currentValue),a._currentValue=o}function ms(n){n._currentValue=Ou.current,ee(Ou)}function Ru(n,a,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),n===o)break;n=n.return}}function Eu(n,a,o,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var v=f.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=f;for(var k=0;k<a.length;k++)if(_.context===a[k]){p.lanes|=o,_=p.alternate,_!==null&&(_.lanes|=o),Ru(p.return,o,n),c||(v=null);break e}p=_.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(i(341));v.lanes|=o,p=v.alternate,p!==null&&(p.lanes|=o),Ru(v,o,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function xr(n,a,o,c){n=null;for(var f=a,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var _=f.type;an(f.pendingProps.value,v.value)||(n!==null?n.push(_):n=[_])}}else if(f===Ue.current){if(v=f.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Qr):n=[Qr])}f=f.return}n!==null&&Eu(a,n,o,c),a.flags|=262144}function ll(n){for(n=n.firstContext;n!==null;){if(!an(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function _i(n){wi=n,fs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Bt(n){return zm(wi,n)}function cl(n,a){return wi===null&&_i(n),zm(n,a)}function zm(n,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},fs===null){if(n===null)throw Error(i(308));fs=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else fs=fs.next=a;return o}var Fv=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){a.aborted=!0,n.forEach(function(o){return o()})}},Uv=s.unstable_scheduleCallback,$v=s.unstable_NormalPriority,wt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new Fv,data:new Map,refCount:0}}function br(n){n.refCount--,n.refCount===0&&Uv($v,function(){n.controller.abort()})}var vr=null,qu=0,va=0,wa=null;function Qv(n,a){if(vr===null){var o=vr=[];qu=0,va=Bd(),wa={status:"pending",value:void 0,then:function(c){o.push(c)}}}return qu++,a.then(qm,qm),a}function qm(){if(--qu===0&&vr!==null){wa!==null&&(wa.status="fulfilled");var n=vr;vr=null,va=0,wa=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function Xv(n,a){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){c.status="fulfilled",c.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Lm=R.S;R.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Qv(n,a),Lm!==null&&Lm(n,a)};var Si=F(null);function Lu(){var n=Si.current;return n!==null?n:Xe.pooledCache}function ul(n,a){a===null?K(Si,Si.current):K(Si,a.pool)}function Bm(){var n=Lu();return n===null?null:{parent:wt._currentValue,pool:n}}var wr=Error(i(460)),Hm=Error(i(474)),dl=Error(i(542)),Bu={then:function(){}};function Pm(n){return n=n.status,n==="fulfilled"||n==="rejected"}function hl(){}function Ym(n,a,o){switch(o=n[o],o===void 0?n.push(a):o!==a&&(a.then(hl,hl),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Im(n),n;default:if(typeof a.status=="string")a.then(hl,hl);else{if(n=Xe,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(c){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=c}},function(c){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Im(n),n}throw _r=a,wr}}var _r=null;function Vm(){if(_r===null)throw Error(i(459));var n=_r;return _r=null,n}function Im(n){if(n===wr||n===dl)throw Error(i(483))}var Os=!1;function Hu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pu(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Rs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Es(n,a,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Le&2)!==0){var f=c.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a,a=il(n),Cm(n,null,o),a}return sl(n,c,a,o),il(n)}function Sr(n,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var c=a.lanes;c&=n.pendingLanes,o|=c,a.lanes=o,ot(n,o)}}function Yu(n,a){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?f=p=a:p=p.next=a}else f=p=a;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=a:n.next=a,o.lastBaseUpdate=a}var Vu=!1;function Mr(){if(Vu){var n=wa;if(n!==null)throw n}}function Nr(n,a,o,c){Vu=!1;var f=n.updateQueue;Os=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var k=_,H=k.next;k.next=null,v===null?p=H:v.next=H,v=k;var X=n.alternate;X!==null&&(X=X.updateQueue,_=X.lastBaseUpdate,_!==v&&(_===null?X.firstBaseUpdate=H:_.next=H,X.lastBaseUpdate=k))}if(p!==null){var Z=f.baseState;v=0,X=H=k=null,_=p;do{var P=_.lane&-536870913,V=P!==_.lane;if(V?(Te&P)===P:(c&P)===P){P!==0&&P===va&&(Vu=!0),X!==null&&(X=X.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var be=n,pe=_;P=a;var Ie=o;switch(pe.tag){case 1:if(be=pe.payload,typeof be=="function"){Z=be.call(Ie,Z,P);break e}Z=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=pe.payload,P=typeof be=="function"?be.call(Ie,Z,P):be,P==null)break e;Z=y({},Z,P);break e;case 2:Os=!0}}P=_.callback,P!==null&&(n.flags|=64,V&&(n.flags|=8192),V=f.callbacks,V===null?f.callbacks=[P]:V.push(P))}else V={lane:P,tag:_.tag,payload:_.payload,callback:_.callback,next:null},X===null?(H=X=V,k=Z):X=X.next=V,v|=P;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;V=_,_=V.next,V.next=null,f.lastBaseUpdate=V,f.shared.pending=null}}while(!0);X===null&&(k=Z),f.baseState=k,f.firstBaseUpdate=H,f.lastBaseUpdate=X,p===null&&(f.shared.lanes=0),Vs|=v,n.lanes=v,n.memoizedState=Z}}function Fm(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function Um(n,a){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Fm(o[n],a)}var _a=F(null),fl=F(0);function $m(n,a){n=ws,K(fl,n),K(_a,a),ws=n|a.baseLanes}function Iu(){K(fl,ws),K(_a,_a.current)}function Fu(){ws=fl.current,ee(_a),ee(fl)}var zs=0,Se=null,Ye=null,xt=null,ml=!1,Sa=!1,Mi=!1,gl=0,Ar=0,Ma=null,Gv=0;function ut(){throw Error(i(321))}function Uu(n,a){if(a===null)return!1;for(var o=0;o<a.length&&o<n.length;o++)if(!an(n[o],a[o]))return!1;return!0}function $u(n,a,o,c,f,p){return zs=p,Se=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=n===null||n.memoizedState===null?Cg:Tg,Mi=!1,p=o(c,f),Mi=!1,Sa&&(p=Xm(a,o,c,f)),Qm(n),p}function Qm(n){R.H=wl;var a=Ye!==null&&Ye.next!==null;if(zs=0,xt=Ye=Se=null,ml=!1,Ar=0,Ma=null,a)throw Error(i(300));n===null||Ct||(n=n.dependencies,n!==null&&ll(n)&&(Ct=!0))}function Xm(n,a,o,c){Se=n;var f=0;do{if(Sa&&(Ma=null),Ar=0,Sa=!1,25<=f)throw Error(i(301));if(f+=1,xt=Ye=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}R.H=n1,p=a(o,c)}while(Sa);return p}function Wv(){var n=R.H,a=n.useState()[0];return a=typeof a.then=="function"?jr(a):a,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Se.flags|=1024),a}function Qu(){var n=gl!==0;return gl=0,n}function Xu(n,a,o){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~o}function Gu(n){if(ml){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ml=!1}zs=0,xt=Ye=Se=null,Sa=!1,Ar=gl=0,Ma=null}function Gt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Se.memoizedState=xt=n:xt=xt.next=n,xt}function bt(){if(Ye===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var a=xt===null?Se.memoizedState:xt.next;if(a!==null)xt=a,Ye=n;else{if(n===null)throw Se.alternate===null?Error(i(467)):Error(i(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},xt===null?Se.memoizedState=xt=n:xt=xt.next=n}return xt}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jr(n){var a=Ar;return Ar+=1,Ma===null&&(Ma=[]),n=Ym(Ma,n,a),a=Se,(xt===null?a.memoizedState:xt.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?Cg:Tg),n}function pl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return jr(n);if(n.$$typeof===D)return Bt(n)}throw Error(i(438,String(n)))}function Zu(n){var a=null,o=Se.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=Se.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Wu(),Se.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(n),c=0;c<n;c++)o[c]=L;return a.index++,o}function gs(n,a){return typeof a=="function"?a(n):a}function yl(n){var a=bt();return Ku(a,Ye,n)}function Ku(n,a,o){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var f=n.baseQueue,p=c.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}a.baseQueue=f=p,c.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{a=f.next;var _=v=null,k=null,H=a,X=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(Te&Z)===Z:(zs&Z)===Z){var P=H.revertLane;if(P===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===va&&(X=!0);else if((zs&P)===P){H=H.next,P===va&&(X=!0);continue}else Z={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(_=k=Z,v=p):k=k.next=Z,Se.lanes|=P,Vs|=P;Z=H.action,Mi&&o(p,Z),p=H.hasEagerState?H.eagerState:o(p,Z)}else P={lane:Z,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(_=k=P,v=p):k=k.next=P,Se.lanes|=Z,Vs|=Z;H=H.next}while(H!==null&&H!==a);if(k===null?v=p:k.next=_,!an(p,n.memoizedState)&&(Ct=!0,X&&(o=wa,o!==null)))throw o;n.memoizedState=p,n.baseState=v,n.baseQueue=k,c.lastRenderedState=p}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Ju(n){var a=bt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var c=o.dispatch,f=o.pending,p=a.memoizedState;if(f!==null){o.pending=null;var v=f=f.next;do p=n(p,v.action),v=v.next;while(v!==f);an(p,a.memoizedState)||(Ct=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,c]}function Gm(n,a,o){var c=Se,f=bt(),p=Ee;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=a();var v=!an((Ye||f).memoizedState,o);v&&(f.memoizedState=o,Ct=!0),f=f.queue;var _=Km.bind(null,c,f,n);if(kr(2048,8,_,[n]),f.getSnapshot!==a||v||xt!==null&&xt.memoizedState.tag&1){if(c.flags|=2048,Na(9,xl(),Zm.bind(null,c,f,o,a),null),Xe===null)throw Error(i(349));p||(zs&124)!==0||Wm(c,a,o)}return o}function Wm(n,a,o){n.flags|=16384,n={getSnapshot:a,value:o},a=Se.updateQueue,a===null?(a=Wu(),Se.updateQueue=a,a.stores=[n]):(o=a.stores,o===null?a.stores=[n]:o.push(n))}function Zm(n,a,o,c){a.value=o,a.getSnapshot=c,Jm(a)&&eg(n)}function Km(n,a,o){return o(function(){Jm(a)&&eg(n)})}function Jm(n){var a=n.getSnapshot;n=n.value;try{var o=a();return!an(n,o)}catch{return!0}}function eg(n){var a=pa(n,2);a!==null&&dn(a,n,2)}function ed(n){var a=Gt();if(typeof n=="function"){var o=n;if(n=o(),Mi){Ut(!0);try{o()}finally{Ut(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:n},a}function tg(n,a,o,c){return n.baseState=o,Ku(n,Ye,typeof c=="function"?c:gs)}function Zv(n,a,o,c,f){if(vl(n))throw Error(i(485));if(n=a.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};R.T!==null?o(!0):p.isTransition=!1,c(p),o=a.pending,o===null?(p.next=a.pending=p,ng(a,p)):(p.next=o.next,a.pending=o.next=p)}}function ng(n,a){var o=a.action,c=a.payload,f=n.state;if(a.isTransition){var p=R.T,v={};R.T=v;try{var _=o(f,c),k=R.S;k!==null&&k(v,_),sg(n,a,_)}catch(H){td(n,a,H)}finally{R.T=p}}else try{p=o(f,c),sg(n,a,p)}catch(H){td(n,a,H)}}function sg(n,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){ig(n,a,c)},function(c){return td(n,a,c)}):ig(n,a,o)}function ig(n,a,o){a.status="fulfilled",a.value=o,ag(a),n.state=o,a=n.pending,a!==null&&(o=a.next,o===a?n.pending=null:(o=o.next,a.next=o,ng(n,o)))}function td(n,a,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,ag(a),a=a.next;while(a!==c)}n.action=null}function ag(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function rg(n,a){return a}function og(n,a){if(Ee){var o=Xe.formState;if(o!==null){e:{var c=Se;if(Ee){if(et){t:{for(var f=et,p=Vn;f.nodeType!==8;){if(!p){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){et=qn(f.nextSibling),c=f.data==="F!";break e}}vi(c)}c=!1}c&&(a=o[0])}}return o=Gt(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:a},o.queue=c,o=Ag.bind(null,Se,c),c.dispatch=o,c=ed(!1),p=rd.bind(null,Se,!1,c.queue),c=Gt(),f={state:a,dispatch:null,action:n,pending:null},c.queue=f,o=Zv.bind(null,Se,f,p,o),f.dispatch=o,c.memoizedState=n,[a,o,!1]}function lg(n){var a=bt();return cg(a,Ye,n)}function cg(n,a,o){if(a=Ku(n,a,rg)[0],n=yl(gs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=jr(a)}catch(v){throw v===wr?dl:v}else c=a;a=bt();var f=a.queue,p=f.dispatch;return o!==a.memoizedState&&(Se.flags|=2048,Na(9,xl(),Kv.bind(null,f,o),null)),[c,p,n]}function Kv(n,a){n.action=a}function ug(n){var a=bt(),o=Ye;if(o!==null)return cg(a,o,n);bt(),a=a.memoizedState,o=bt();var c=o.queue.dispatch;return o.memoizedState=n,[a,c,!1]}function Na(n,a,o,c){return n={tag:n,create:o,deps:c,inst:a,next:null},a=Se.updateQueue,a===null&&(a=Wu(),Se.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,a.lastEffect=n),n}function xl(){return{destroy:void 0,resource:void 0}}function dg(){return bt().memoizedState}function bl(n,a,o,c){var f=Gt();c=c===void 0?null:c,Se.flags|=n,f.memoizedState=Na(1|a,xl(),o,c)}function kr(n,a,o,c){var f=bt();c=c===void 0?null:c;var p=f.memoizedState.inst;Ye!==null&&c!==null&&Uu(c,Ye.memoizedState.deps)?f.memoizedState=Na(a,p,o,c):(Se.flags|=n,f.memoizedState=Na(1|a,p,o,c))}function hg(n,a){bl(8390656,8,n,a)}function fg(n,a){kr(2048,8,n,a)}function mg(n,a){return kr(4,2,n,a)}function gg(n,a){return kr(4,4,n,a)}function pg(n,a){if(typeof a=="function"){n=n();var o=a(n);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function yg(n,a,o){o=o!=null?o.concat([n]):null,kr(4,4,pg.bind(null,a,n),o)}function nd(){}function xg(n,a){var o=bt();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&Uu(a,c[1])?c[0]:(o.memoizedState=[n,a],n)}function bg(n,a){var o=bt();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&Uu(a,c[1]))return c[0];if(c=n(),Mi){Ut(!0);try{n()}finally{Ut(!1)}}return o.memoizedState=[c,a],c}function sd(n,a,o){return o===void 0||(zs&1073741824)!==0?n.memoizedState=a:(n.memoizedState=o,n=_p(),Se.lanes|=n,Vs|=n,o)}function vg(n,a,o,c){return an(o,a)?o:_a.current!==null?(n=sd(n,o,c),an(n,a)||(Ct=!0),n):(zs&42)===0?(Ct=!0,n.memoizedState=o):(n=_p(),Se.lanes|=n,Vs|=n,a)}function wg(n,a,o,c,f){var p=G.p;G.p=p!==0&&8>p?p:8;var v=R.T,_={};R.T=_,rd(n,!1,a,o);try{var k=f(),H=R.S;if(H!==null&&H(_,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var X=Xv(k,c);Cr(n,a,X,un(n))}else Cr(n,a,c,un(n))}catch(Z){Cr(n,a,{then:function(){},status:"rejected",reason:Z},un())}finally{G.p=p,R.T=v}}function Jv(){}function id(n,a,o,c){if(n.tag!==5)throw Error(i(476));var f=_g(n).queue;wg(n,f,a,se,o===null?Jv:function(){return Sg(n),o(c)})}function _g(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:se},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:o},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Sg(n){var a=_g(n).next.queue;Cr(n,a,{},un())}function ad(){return Bt(Qr)}function Mg(){return bt().memoizedState}function Ng(){return bt().memoizedState}function e1(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var o=un();n=Rs(o);var c=Es(a,n,o);c!==null&&(dn(c,a,o),Sr(c,a,o)),a={cache:zu()},n.payload=a;return}a=a.return}}function t1(n,a,o){var c=un();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},vl(n)?jg(a,o):(o=Nu(n,a,o,c),o!==null&&(dn(o,n,c),kg(o,a,c)))}function Ag(n,a,o){var c=un();Cr(n,a,o,c)}function Cr(n,a,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(vl(n))jg(a,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var v=a.lastRenderedState,_=p(v,o);if(f.hasEagerState=!0,f.eagerState=_,an(_,v))return sl(n,a,f,0),Xe===null&&nl(),!1}catch{}finally{}if(o=Nu(n,a,f,c),o!==null)return dn(o,n,c),kg(o,a,c),!0}return!1}function rd(n,a,o,c){if(c={lane:2,revertLane:Bd(),action:c,hasEagerState:!1,eagerState:null,next:null},vl(n)){if(a)throw Error(i(479))}else a=Nu(n,o,c,2),a!==null&&dn(a,n,2)}function vl(n){var a=n.alternate;return n===Se||a!==null&&a===Se}function jg(n,a){Sa=ml=!0;var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}function kg(n,a,o){if((o&4194048)!==0){var c=a.lanes;c&=n.pendingLanes,o|=c,a.lanes=o,ot(n,o)}}var wl={readContext:Bt,use:pl,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut},Cg={readContext:Bt,use:pl,useCallback:function(n,a){return Gt().memoizedState=[n,a===void 0?null:a],n},useContext:Bt,useEffect:hg,useImperativeHandle:function(n,a,o){o=o!=null?o.concat([n]):null,bl(4194308,4,pg.bind(null,a,n),o)},useLayoutEffect:function(n,a){return bl(4194308,4,n,a)},useInsertionEffect:function(n,a){bl(4,2,n,a)},useMemo:function(n,a){var o=Gt();a=a===void 0?null:a;var c=n();if(Mi){Ut(!0);try{n()}finally{Ut(!1)}}return o.memoizedState=[c,a],c},useReducer:function(n,a,o){var c=Gt();if(o!==void 0){var f=o(a);if(Mi){Ut(!0);try{o(a)}finally{Ut(!1)}}}else f=a;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=t1.bind(null,Se,n),[c.memoizedState,n]},useRef:function(n){var a=Gt();return n={current:n},a.memoizedState=n},useState:function(n){n=ed(n);var a=n.queue,o=Ag.bind(null,Se,a);return a.dispatch=o,[n.memoizedState,o]},useDebugValue:nd,useDeferredValue:function(n,a){var o=Gt();return sd(o,n,a)},useTransition:function(){var n=ed(!1);return n=wg.bind(null,Se,n.queue,!0,!1),Gt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,o){var c=Se,f=Gt();if(Ee){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Xe===null)throw Error(i(349));(Te&124)!==0||Wm(c,a,o)}f.memoizedState=o;var p={value:o,getSnapshot:a};return f.queue=p,hg(Km.bind(null,c,p,n),[n]),c.flags|=2048,Na(9,xl(),Zm.bind(null,c,p,o,a),null),o},useId:function(){var n=Gt(),a=Xe.identifierPrefix;if(Ee){var o=hs,c=ds;o=(c&~(1<<32-At(c)-1)).toString(32)+o,a="«"+a+"R"+o,o=gl++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=Gv++,a="«"+a+"r"+o.toString(32)+"»";return n.memoizedState=a},useHostTransitionStatus:ad,useFormState:og,useActionState:og,useOptimistic:function(n){var a=Gt();a.memoizedState=a.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=rd.bind(null,Se,!0,o),o.dispatch=a,[n,a]},useMemoCache:Zu,useCacheRefresh:function(){return Gt().memoizedState=e1.bind(null,Se)}},Tg={readContext:Bt,use:pl,useCallback:xg,useContext:Bt,useEffect:fg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:bg,useReducer:yl,useRef:dg,useState:function(){return yl(gs)},useDebugValue:nd,useDeferredValue:function(n,a){var o=bt();return vg(o,Ye.memoizedState,n,a)},useTransition:function(){var n=yl(gs)[0],a=bt().memoizedState;return[typeof n=="boolean"?n:jr(n),a]},useSyncExternalStore:Gm,useId:Mg,useHostTransitionStatus:ad,useFormState:lg,useActionState:lg,useOptimistic:function(n,a){var o=bt();return tg(o,Ye,n,a)},useMemoCache:Zu,useCacheRefresh:Ng},n1={readContext:Bt,use:pl,useCallback:xg,useContext:Bt,useEffect:fg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:bg,useReducer:Ju,useRef:dg,useState:function(){return Ju(gs)},useDebugValue:nd,useDeferredValue:function(n,a){var o=bt();return Ye===null?sd(o,n,a):vg(o,Ye.memoizedState,n,a)},useTransition:function(){var n=Ju(gs)[0],a=bt().memoizedState;return[typeof n=="boolean"?n:jr(n),a]},useSyncExternalStore:Gm,useId:Mg,useHostTransitionStatus:ad,useFormState:ug,useActionState:ug,useOptimistic:function(n,a){var o=bt();return Ye!==null?tg(o,Ye,n,a):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Zu,useCacheRefresh:Ng},Aa=null,Tr=0;function _l(n){var a=Tr;return Tr+=1,Aa===null&&(Aa=[]),Ym(Aa,n,a)}function Dr(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Sl(n,a){throw a.$$typeof===x?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Dg(n){var a=n._init;return a(n._payload)}function Og(n){function a(z,O){if(n){var B=z.deletions;B===null?(z.deletions=[O],z.flags|=16):B.push(O)}}function o(z,O){if(!n)return null;for(;O!==null;)a(z,O),O=O.sibling;return null}function c(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function f(z,O){return z=us(z,O),z.index=0,z.sibling=null,z}function p(z,O,B){return z.index=B,n?(B=z.alternate,B!==null?(B=B.index,B<O?(z.flags|=67108866,O):B):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function v(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function _(z,O,B,W){return O===null||O.tag!==6?(O=ju(B,z.mode,W),O.return=z,O):(O=f(O,B),O.return=z,O)}function k(z,O,B,W){var de=B.type;return de===N?X(z,O,B.props.children,W,B.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===I&&Dg(de)===O.type)?(O=f(O,B.props),Dr(O,B),O.return=z,O):(O=al(B.type,B.key,B.props,null,z.mode,W),Dr(O,B),O.return=z,O)}function H(z,O,B,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=ku(B,z.mode,W),O.return=z,O):(O=f(O,B.children||[]),O.return=z,O)}function X(z,O,B,W,de){return O===null||O.tag!==7?(O=pi(B,z.mode,W,de),O.return=z,O):(O=f(O,B),O.return=z,O)}function Z(z,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ju(""+O,z.mode,B),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return B=al(O.type,O.key,O.props,null,z.mode,B),Dr(B,O),B.return=z,B;case w:return O=ku(O,z.mode,B),O.return=z,O;case I:var W=O._init;return O=W(O._payload),Z(z,O,B)}if(te(O)||oe(O))return O=pi(O,z.mode,B,null),O.return=z,O;if(typeof O.then=="function")return Z(z,_l(O),B);if(O.$$typeof===D)return Z(z,cl(z,O),B);Sl(z,O)}return null}function P(z,O,B,W){var de=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:_(z,O,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===de?k(z,O,B,W):null;case w:return B.key===de?H(z,O,B,W):null;case I:return de=B._init,B=de(B._payload),P(z,O,B,W)}if(te(B)||oe(B))return de!==null?null:X(z,O,B,W,null);if(typeof B.then=="function")return P(z,O,_l(B),W);if(B.$$typeof===D)return P(z,O,cl(z,B),W);Sl(z,B)}return null}function V(z,O,B,W,de){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(B)||null,_(O,z,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return z=z.get(W.key===null?B:W.key)||null,k(O,z,W,de);case w:return z=z.get(W.key===null?B:W.key)||null,H(O,z,W,de);case I:var Ne=W._init;return W=Ne(W._payload),V(z,O,B,W,de)}if(te(W)||oe(W))return z=z.get(B)||null,X(O,z,W,de,null);if(typeof W.then=="function")return V(z,O,B,_l(W),de);if(W.$$typeof===D)return V(z,O,B,cl(O,W),de);Sl(O,W)}return null}function be(z,O,B,W){for(var de=null,Ne=null,he=O,ye=O=0,Dt=null;he!==null&&ye<B.length;ye++){he.index>ye?(Dt=he,he=null):Dt=he.sibling;var Re=P(z,he,B[ye],W);if(Re===null){he===null&&(he=Dt);break}n&&he&&Re.alternate===null&&a(z,he),O=p(Re,O,ye),Ne===null?de=Re:Ne.sibling=Re,Ne=Re,he=Dt}if(ye===B.length)return o(z,he),Ee&&xi(z,ye),de;if(he===null){for(;ye<B.length;ye++)he=Z(z,B[ye],W),he!==null&&(O=p(he,O,ye),Ne===null?de=he:Ne.sibling=he,Ne=he);return Ee&&xi(z,ye),de}for(he=c(he);ye<B.length;ye++)Dt=V(he,z,ye,B[ye],W),Dt!==null&&(n&&Dt.alternate!==null&&he.delete(Dt.key===null?ye:Dt.key),O=p(Dt,O,ye),Ne===null?de=Dt:Ne.sibling=Dt,Ne=Dt);return n&&he.forEach(function(Zs){return a(z,Zs)}),Ee&&xi(z,ye),de}function pe(z,O,B,W){if(B==null)throw Error(i(151));for(var de=null,Ne=null,he=O,ye=O=0,Dt=null,Re=B.next();he!==null&&!Re.done;ye++,Re=B.next()){he.index>ye?(Dt=he,he=null):Dt=he.sibling;var Zs=P(z,he,Re.value,W);if(Zs===null){he===null&&(he=Dt);break}n&&he&&Zs.alternate===null&&a(z,he),O=p(Zs,O,ye),Ne===null?de=Zs:Ne.sibling=Zs,Ne=Zs,he=Dt}if(Re.done)return o(z,he),Ee&&xi(z,ye),de;if(he===null){for(;!Re.done;ye++,Re=B.next())Re=Z(z,Re.value,W),Re!==null&&(O=p(Re,O,ye),Ne===null?de=Re:Ne.sibling=Re,Ne=Re);return Ee&&xi(z,ye),de}for(he=c(he);!Re.done;ye++,Re=B.next())Re=V(he,z,ye,Re.value,W),Re!==null&&(n&&Re.alternate!==null&&he.delete(Re.key===null?ye:Re.key),O=p(Re,O,ye),Ne===null?de=Re:Ne.sibling=Re,Ne=Re);return n&&he.forEach(function(sw){return a(z,sw)}),Ee&&xi(z,ye),de}function Ie(z,O,B,W){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var de=B.key;O!==null;){if(O.key===de){if(de=B.type,de===N){if(O.tag===7){o(z,O.sibling),W=f(O,B.props.children),W.return=z,z=W;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===I&&Dg(de)===O.type){o(z,O.sibling),W=f(O,B.props),Dr(W,B),W.return=z,z=W;break e}o(z,O);break}else a(z,O);O=O.sibling}B.type===N?(W=pi(B.props.children,z.mode,W,B.key),W.return=z,z=W):(W=al(B.type,B.key,B.props,null,z.mode,W),Dr(W,B),W.return=z,z=W)}return v(z);case w:e:{for(de=B.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){o(z,O.sibling),W=f(O,B.children||[]),W.return=z,z=W;break e}else{o(z,O);break}else a(z,O);O=O.sibling}W=ku(B,z.mode,W),W.return=z,z=W}return v(z);case I:return de=B._init,B=de(B._payload),Ie(z,O,B,W)}if(te(B))return be(z,O,B,W);if(oe(B)){if(de=oe(B),typeof de!="function")throw Error(i(150));return B=de.call(B),pe(z,O,B,W)}if(typeof B.then=="function")return Ie(z,O,_l(B),W);if(B.$$typeof===D)return Ie(z,O,cl(z,B),W);Sl(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(o(z,O.sibling),W=f(O,B),W.return=z,z=W):(o(z,O),W=ju(B,z.mode,W),W.return=z,z=W),v(z)):o(z,O)}return function(z,O,B,W){try{Tr=0;var de=Ie(z,O,B,W);return Aa=null,de}catch(he){if(he===wr||he===dl)throw he;var Ne=rn(29,he,null,z.mode);return Ne.lanes=W,Ne.return=z,Ne}finally{}}}var ja=Og(!0),Rg=Og(!1),wn=F(null),In=null;function qs(n){var a=n.alternate;K(_t,_t.current&1),K(wn,n),In===null&&(a===null||_a.current!==null||a.memoizedState!==null)&&(In=n)}function Eg(n){if(n.tag===22){if(K(_t,_t.current),K(wn,n),In===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(In=n)}}else Ls()}function Ls(){K(_t,_t.current),K(wn,wn.current)}function ps(n){ee(wn),In===n&&(In=null),ee(_t)}var _t=F(0);function Ml(n){for(var a=n;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Wd(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function od(n,a,o,c){a=n.memoizedState,o=o(c,a),o=o==null?a:y({},a,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var ld={enqueueSetState:function(n,a,o){n=n._reactInternals;var c=un(),f=Rs(c);f.payload=a,o!=null&&(f.callback=o),a=Es(n,f,c),a!==null&&(dn(a,n,c),Sr(a,n,c))},enqueueReplaceState:function(n,a,o){n=n._reactInternals;var c=un(),f=Rs(c);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=Es(n,f,c),a!==null&&(dn(a,n,c),Sr(a,n,c))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var o=un(),c=Rs(o);c.tag=2,a!=null&&(c.callback=a),a=Es(n,c,o),a!==null&&(dn(a,n,o),Sr(a,n,o))}};function zg(n,a,o,c,f,p,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,v):a.prototype&&a.prototype.isPureReactComponent?!fr(o,c)||!fr(f,p):!0}function qg(n,a,o,c){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==n&&ld.enqueueReplaceState(a,a.state,null)}function Ni(n,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(n=n.defaultProps){o===a&&(o=y({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Nl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Lg(n){Nl(n)}function Bg(n){console.error(n)}function Hg(n){Nl(n)}function Al(n,a){try{var o=n.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Pg(n,a,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cd(n,a,o){return o=Rs(o),o.tag=3,o.payload={element:null},o.callback=function(){Al(n,a)},o}function Yg(n){return n=Rs(n),n.tag=3,n}function Vg(n,a,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;n.payload=function(){return f(p)},n.callback=function(){Pg(a,o,c)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Pg(a,o,c),typeof f!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var _=c.stack;this.componentDidCatch(c.value,{componentStack:_!==null?_:""})})}function s1(n,a,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&xr(a,o,f,!0),o=wn.current,o!==null){switch(o.tag){case 13:return In===null?Rd():o.alternate===null&&tt===0&&(tt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Bu?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),zd(n,c,f)),!1;case 22:return o.flags|=65536,c===Bu?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),zd(n,c,f)),!1}throw Error(i(435,o.tag))}return zd(n,c,f),Rd(),!1}if(Ee)return a=wn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,c!==Du&&(n=Error(i(422),{cause:c}),yr(yn(n,o)))):(c!==Du&&(a=Error(i(423),{cause:c}),yr(yn(a,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=yn(c,o),f=cd(n.stateNode,c,f),Yu(n,f),tt!==4&&(tt=2)),!1;var p=Error(i(520),{cause:c});if(p=yn(p,o),Br===null?Br=[p]:Br.push(p),tt!==4&&(tt=2),a===null)return!0;c=yn(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=cd(o.stateNode,c,n),Yu(o,n),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Is===null||!Is.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Yg(f),Vg(f,n,o,c),Yu(o,f),!1}o=o.return}while(o!==null);return!1}var Ig=Error(i(461)),Ct=!1;function Et(n,a,o,c){a.child=n===null?Rg(a,null,o,c):ja(a,n.child,o,c)}function Fg(n,a,o,c,f){o=o.render;var p=a.ref;if("ref"in c){var v={};for(var _ in c)_!=="ref"&&(v[_]=c[_])}else v=c;return _i(a),c=$u(n,a,o,v,p,f),_=Qu(),n!==null&&!Ct?(Xu(n,a,f),ys(n,a,f)):(Ee&&_&&Cu(a),a.flags|=1,Et(n,a,c,f),a.child)}function Ug(n,a,o,c,f){if(n===null){var p=o.type;return typeof p=="function"&&!Au(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,$g(n,a,p,c,f)):(n=al(o.type,null,c,a,a.mode,f),n.ref=a.ref,n.return=a,a.child=n)}if(p=n.child,!yd(n,f)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:fr,o(v,c)&&n.ref===a.ref)return ys(n,a,f)}return a.flags|=1,n=us(p,c),n.ref=a.ref,n.return=a,a.child=n}function $g(n,a,o,c,f){if(n!==null){var p=n.memoizedProps;if(fr(p,c)&&n.ref===a.ref)if(Ct=!1,a.pendingProps=c=p,yd(n,f))(n.flags&131072)!==0&&(Ct=!0);else return a.lanes=n.lanes,ys(n,a,f)}return ud(n,a,o,c,f)}function Qg(n,a,o){var c=a.pendingProps,f=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=p!==null?p.baseLanes|o:o,n!==null){for(f=a.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;a.childLanes=p&~c}else a.childLanes=0,a.child=null;return Xg(n,a,c,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&ul(a,p!==null?p.cachePool:null),p!==null?$m(a,p):Iu(),Eg(a);else return a.lanes=a.childLanes=536870912,Xg(n,a,p!==null?p.baseLanes|o:o,o)}else p!==null?(ul(a,p.cachePool),$m(a,p),Ls(),a.memoizedState=null):(n!==null&&ul(a,null),Iu(),Ls());return Et(n,a,f,o),a.child}function Xg(n,a,o,c){var f=Lu();return f=f===null?null:{parent:wt._currentValue,pool:f},a.memoizedState={baseLanes:o,cachePool:f},n!==null&&ul(a,null),Iu(),Eg(a),n!==null&&xr(n,a,c,!0),null}function jl(n,a){var o=a.ref;if(o===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(a.flags|=4194816)}}function ud(n,a,o,c,f){return _i(a),o=$u(n,a,o,c,void 0,f),c=Qu(),n!==null&&!Ct?(Xu(n,a,f),ys(n,a,f)):(Ee&&c&&Cu(a),a.flags|=1,Et(n,a,o,f),a.child)}function Gg(n,a,o,c,f,p){return _i(a),a.updateQueue=null,o=Xm(a,c,o,f),Qm(n),c=Qu(),n!==null&&!Ct?(Xu(n,a,p),ys(n,a,p)):(Ee&&c&&Cu(a),a.flags|=1,Et(n,a,o,p),a.child)}function Wg(n,a,o,c,f){if(_i(a),a.stateNode===null){var p=ya,v=o.contextType;typeof v=="object"&&v!==null&&(p=Bt(v)),p=new o(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ld,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},Hu(a),v=o.contextType,p.context=typeof v=="object"&&v!==null?Bt(v):ya,p.state=a.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(od(a,o,v,c),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&ld.enqueueReplaceState(p,p.state,null),Nr(a,c,p,f),Mr(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(n===null){p=a.stateNode;var _=a.memoizedProps,k=Ni(o,_);p.props=k;var H=p.context,X=o.contextType;v=ya,typeof X=="object"&&X!==null&&(v=Bt(X));var Z=o.getDerivedStateFromProps;X=typeof Z=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=a.pendingProps!==_,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||H!==v)&&qg(a,p,c,v),Os=!1;var P=a.memoizedState;p.state=P,Nr(a,c,p,f),Mr(),H=a.memoizedState,_||P!==H||Os?(typeof Z=="function"&&(od(a,o,Z,c),H=a.memoizedState),(k=Os||zg(a,o,k,c,P,H,v))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=H),p.props=c,p.state=H,p.context=v,c=k):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,Pu(n,a),v=a.memoizedProps,X=Ni(o,v),p.props=X,Z=a.pendingProps,P=p.context,H=o.contextType,k=ya,typeof H=="object"&&H!==null&&(k=Bt(H)),_=o.getDerivedStateFromProps,(H=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==Z||P!==k)&&qg(a,p,c,k),Os=!1,P=a.memoizedState,p.state=P,Nr(a,c,p,f),Mr();var V=a.memoizedState;v!==Z||P!==V||Os||n!==null&&n.dependencies!==null&&ll(n.dependencies)?(typeof _=="function"&&(od(a,o,_,c),V=a.memoizedState),(X=Os||zg(a,o,X,c,P,V,k)||n!==null&&n.dependencies!==null&&ll(n.dependencies))?(H||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,V,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,V,k)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===n.memoizedProps&&P===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&P===n.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=V),p.props=c,p.state=V,p.context=k,c=X):(typeof p.componentDidUpdate!="function"||v===n.memoizedProps&&P===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&P===n.memoizedState||(a.flags|=1024),c=!1)}return p=c,jl(n,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,n!==null&&c?(a.child=ja(a,n.child,null,f),a.child=ja(a,null,o,f)):Et(n,a,o,f),a.memoizedState=p.state,n=a.child):n=ys(n,a,f),n}function Zg(n,a,o,c){return pr(),a.flags|=256,Et(n,a,o,c),a.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hd(n){return{baseLanes:n,cachePool:Bm()}}function fd(n,a,o){return n=n!==null?n.childLanes&~o:0,a&&(n|=_n),n}function Kg(n,a,o){var c=a.pendingProps,f=!1,p=(a.flags&128)!==0,v;if((v=p)||(v=n!==null&&n.memoizedState===null?!1:(_t.current&2)!==0),v&&(f=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,n===null){if(Ee){if(f?qs(a):Ls(),Ee){var _=et,k;if(k=_){e:{for(k=_,_=Vn;k.nodeType!==8;){if(!_){_=null;break e}if(k=qn(k.nextSibling),k===null){_=null;break e}}_=k}_!==null?(a.memoizedState={dehydrated:_,treeContext:yi!==null?{id:ds,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},k=rn(18,null,null,0),k.stateNode=_,k.return=a,a.child=k,$t=a,et=null,k=!0):k=!1}k||vi(a)}if(_=a.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Wd(_)?a.lanes=32:a.lanes=536870912,null;ps(a)}return _=c.children,c=c.fallback,f?(Ls(),f=a.mode,_=kl({mode:"hidden",children:_},f),c=pi(c,f,o,null),_.return=a,c.return=a,_.sibling=c,a.child=_,f=a.child,f.memoizedState=hd(o),f.childLanes=fd(n,v,o),a.memoizedState=dd,c):(qs(a),md(a,_))}if(k=n.memoizedState,k!==null&&(_=k.dehydrated,_!==null)){if(p)a.flags&256?(qs(a),a.flags&=-257,a=gd(n,a,o)):a.memoizedState!==null?(Ls(),a.child=n.child,a.flags|=128,a=null):(Ls(),f=c.fallback,_=a.mode,c=kl({mode:"visible",children:c.children},_),f=pi(f,_,o,null),f.flags|=2,c.return=a,f.return=a,c.sibling=f,a.child=c,ja(a,n.child,null,o),c=a.child,c.memoizedState=hd(o),c.childLanes=fd(n,v,o),a.memoizedState=dd,a=f);else if(qs(a),Wd(_)){if(v=_.nextSibling&&_.nextSibling.dataset,v)var H=v.dgst;v=H,c=Error(i(419)),c.stack="",c.digest=v,yr({value:c,source:null,stack:null}),a=gd(n,a,o)}else if(Ct||xr(n,a,o,!1),v=(o&n.childLanes)!==0,Ct||v){if(v=Xe,v!==null&&(c=o&-o,c=(c&42)!==0?1:yt(c),c=(c&(v.suspendedLanes|o))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,pa(n,c),dn(v,n,c),Ig;_.data==="$?"||Rd(),a=gd(n,a,o)}else _.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=k.treeContext,et=qn(_.nextSibling),$t=a,Ee=!0,bi=null,Vn=!1,n!==null&&(bn[vn++]=ds,bn[vn++]=hs,bn[vn++]=yi,ds=n.id,hs=n.overflow,yi=a),a=md(a,c.children),a.flags|=4096);return a}return f?(Ls(),f=c.fallback,_=a.mode,k=n.child,H=k.sibling,c=us(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,H!==null?f=us(H,f):(f=pi(f,_,o,null),f.flags|=2),f.return=a,c.return=a,c.sibling=f,a.child=c,c=f,f=a.child,_=n.child.memoizedState,_===null?_=hd(o):(k=_.cachePool,k!==null?(H=wt._currentValue,k=k.parent!==H?{parent:H,pool:H}:k):k=Bm(),_={baseLanes:_.baseLanes|o,cachePool:k}),f.memoizedState=_,f.childLanes=fd(n,v,o),a.memoizedState=dd,c):(qs(a),o=n.child,n=o.sibling,o=us(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,n!==null&&(v=a.deletions,v===null?(a.deletions=[n],a.flags|=16):v.push(n)),a.child=o,a.memoizedState=null,o)}function md(n,a){return a=kl({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function kl(n,a){return n=rn(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function gd(n,a,o){return ja(a,n.child,null,o),n=md(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Jg(n,a,o){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a),Ru(n.return,a,o)}function pd(n,a,o,c,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=f)}function ep(n,a,o){var c=a.pendingProps,f=c.revealOrder,p=c.tail;if(Et(n,a,c.children,o),c=_t.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Jg(n,o,a);else if(n.tag===19)Jg(n,o,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(K(_t,c),f){case"forwards":for(o=a.child,f=null;o!==null;)n=o.alternate,n!==null&&Ml(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),pd(a,!1,f,o,p);break;case"backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(n=f.alternate,n!==null&&Ml(n)===null){a.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}pd(a,!0,o,null,p);break;case"together":pd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ys(n,a,o){if(n!==null&&(a.dependencies=n.dependencies),Vs|=a.lanes,(o&a.childLanes)===0)if(n!==null){if(xr(n,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,o=us(n,n.pendingProps),a.child=o,o.return=a;n.sibling!==null;)n=n.sibling,o=o.sibling=us(n,n.pendingProps),o.return=a;o.sibling=null}return a.child}function yd(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&ll(n)))}function i1(n,a,o){switch(a.tag){case 3:De(a,a.stateNode.containerInfo),Ds(a,wt,n.memoizedState.cache),pr();break;case 27:case 5:Dn(a);break;case 4:De(a,a.stateNode.containerInfo);break;case 10:Ds(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(qs(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Kg(n,a,o):(qs(a),n=ys(n,a,o),n!==null?n.sibling:null);qs(a);break;case 19:var f=(n.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(xr(n,a,o,!1),c=(o&a.childLanes)!==0),f){if(c)return ep(n,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(_t,_t.current),c)break;return null;case 22:case 23:return a.lanes=0,Qg(n,a,o);case 24:Ds(a,wt,n.memoizedState.cache)}return ys(n,a,o)}function tp(n,a,o){if(n!==null)if(n.memoizedProps!==a.pendingProps)Ct=!0;else{if(!yd(n,o)&&(a.flags&128)===0)return Ct=!1,i1(n,a,o);Ct=(n.flags&131072)!==0}else Ct=!1,Ee&&(a.flags&1048576)!==0&&Dm(a,ol,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var c=a.elementType,f=c._init;if(c=f(c._payload),a.type=c,typeof c=="function")Au(c)?(n=Ni(c,n),a.tag=1,a=Wg(null,a,c,n,o)):(a.tag=0,a=ud(null,a,c,n,o));else{if(c!=null){if(f=c.$$typeof,f===Y){a.tag=11,a=Fg(null,a,c,n,o);break e}else if(f===$){a.tag=14,a=Ug(null,a,c,n,o);break e}}throw a=me(c)||c,Error(i(306,a,""))}}return a;case 0:return ud(n,a,a.type,a.pendingProps,o);case 1:return c=a.type,f=Ni(c,a.pendingProps),Wg(n,a,c,f,o);case 3:e:{if(De(a,a.stateNode.containerInfo),n===null)throw Error(i(387));c=a.pendingProps;var p=a.memoizedState;f=p.element,Pu(n,a),Nr(a,c,null,o);var v=a.memoizedState;if(c=v.cache,Ds(a,wt,c),c!==p.cache&&Eu(a,[wt],o,!0),Mr(),c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Zg(n,a,c,o);break e}else if(c!==f){f=yn(Error(i(424)),a),yr(f),a=Zg(n,a,c,o);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(et=qn(n.firstChild),$t=a,Ee=!0,bi=null,Vn=!0,o=Rg(a,null,c,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(pr(),c===f){a=ys(n,a,o);break e}Et(n,a,c,o)}a=a.child}return a;case 26:return jl(n,a),n===null?(o=a0(a.type,null,a.pendingProps,null))?a.memoizedState=o:Ee||(o=a.type,n=a.pendingProps,c=Vl(re.current).createElement(o),c[ct]=a,c[Qe]=n,qt(c,o,n),kt(c),a.stateNode=c):a.memoizedState=a0(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Dn(a),n===null&&Ee&&(c=a.stateNode=n0(a.type,a.pendingProps,re.current),$t=a,Vn=!0,f=et,$s(a.type)?(Zd=f,et=qn(c.firstChild)):et=f),Et(n,a,a.pendingProps.children,o),jl(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Ee&&((f=c=et)&&(c=O1(c,a.type,a.pendingProps,Vn),c!==null?(a.stateNode=c,$t=a,et=qn(c.firstChild),Vn=!1,f=!0):f=!1),f||vi(a)),Dn(a),f=a.type,p=a.pendingProps,v=n!==null?n.memoizedProps:null,c=p.children,Qd(f,p)?c=null:v!==null&&Qd(f,v)&&(a.flags|=32),a.memoizedState!==null&&(f=$u(n,a,Wv,null,null,o),Qr._currentValue=f),jl(n,a),Et(n,a,c,o),a.child;case 6:return n===null&&Ee&&((n=o=et)&&(o=R1(o,a.pendingProps,Vn),o!==null?(a.stateNode=o,$t=a,et=null,n=!0):n=!1),n||vi(a)),null;case 13:return Kg(n,a,o);case 4:return De(a,a.stateNode.containerInfo),c=a.pendingProps,n===null?a.child=ja(a,null,c,o):Et(n,a,c,o),a.child;case 11:return Fg(n,a,a.type,a.pendingProps,o);case 7:return Et(n,a,a.pendingProps,o),a.child;case 8:return Et(n,a,a.pendingProps.children,o),a.child;case 12:return Et(n,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,Ds(a,a.type,c.value),Et(n,a,c.children,o),a.child;case 9:return f=a.type._context,c=a.pendingProps.children,_i(a),f=Bt(f),c=c(f),a.flags|=1,Et(n,a,c,o),a.child;case 14:return Ug(n,a,a.type,a.pendingProps,o);case 15:return $g(n,a,a.type,a.pendingProps,o);case 19:return ep(n,a,o);case 31:return c=a.pendingProps,o=a.mode,c={mode:c.mode,children:c.children},n===null?(o=kl(c,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=us(n.child,c),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return Qg(n,a,o);case 24:return _i(a),c=Bt(wt),n===null?(f=Lu(),f===null&&(f=Xe,p=zu(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),a.memoizedState={parent:c,cache:f},Hu(a),Ds(a,wt,f)):((n.lanes&o)!==0&&(Pu(n,a),Nr(a,null,null,o),Mr()),f=n.memoizedState,p=a.memoizedState,f.parent!==c?(f={parent:c,cache:c},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Ds(a,wt,c)):(c=p.cache,Ds(a,wt,c),c!==f.cache&&Eu(a,[wt],o,!0))),Et(n,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function xs(n){n.flags|=4}function np(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!u0(a)){if(a=wn.current,a!==null&&((Te&4194048)===Te?In!==null:(Te&62914560)!==Te&&(Te&536870912)===0||a!==In))throw _r=Bu,Hm;n.flags|=8192}}function Cl(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Io():536870912,n.lanes|=a,Da|=a)}function Or(n,a){if(!Ee)switch(n.tailMode){case"hidden":a=n.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ke(n){var a=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(a)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=o,a}function a1(n,a,o){var c=a.pendingProps;switch(Tu(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(a),null;case 1:return Ke(a),null;case 3:return o=a.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ms(wt),Lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(gr(a)?xs(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Em())),Ke(a),null;case 26:return o=a.memoizedState,n===null?(xs(a),o!==null?(Ke(a),np(a,o)):(Ke(a),a.flags&=-16777217)):o?o!==n.memoizedState?(xs(a),Ke(a),np(a,o)):(Ke(a),a.flags&=-16777217):(n.memoizedProps!==c&&xs(a),Ke(a),a.flags&=-16777217),null;case 27:ss(a),o=re.current;var f=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==c&&xs(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Ke(a),null}n=le.current,gr(a)?Om(a):(n=n0(f,c,o),a.stateNode=n,xs(a))}return Ke(a),null;case 5:if(ss(a),o=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==c&&xs(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Ke(a),null}if(n=le.current,gr(a))Om(a);else{switch(f=Vl(re.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}n[ct]=a,n[Qe]=c;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=n;e:switch(qt(n,o,c),o){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&xs(a)}}return Ke(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==c&&xs(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(n=re.current,gr(a)){if(n=a.stateNode,o=a.memoizedProps,c=null,f=$t,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[ct]=a,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Gp(n.nodeValue,o)),n||vi(a)}else n=Vl(n).createTextNode(c),n[ct]=a,a.stateNode=n}return Ke(a),null;case 13:if(c=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=gr(a),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[ct]=a}else pr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ke(a),f=!1}else f=Em(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(ps(a),a):(ps(a),null)}if(ps(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=c!==null,n=n!==null&&n.memoizedState!==null,o){c=a.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)}return o!==n&&o&&(a.child.flags|=8192),Cl(a,a.updateQueue),Ke(a),null;case 4:return Lt(),n===null&&Vd(a.stateNode.containerInfo),Ke(a),null;case 10:return ms(a.type),Ke(a),null;case 19:if(ee(_t),f=a.memoizedState,f===null)return Ke(a),null;if(c=(a.flags&128)!==0,p=f.rendering,p===null)if(c)Or(f,!1);else{if(tt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(p=Ml(n),p!==null){for(a.flags|=128,Or(f,!1),n=p.updateQueue,a.updateQueue=n,Cl(a,n),a.subtreeFlags=0,n=o,o=a.child;o!==null;)Tm(o,n),o=o.sibling;return K(_t,_t.current&1|2),a.child}n=n.sibling}f.tail!==null&&pt()>Ol&&(a.flags|=128,c=!0,Or(f,!1),a.lanes=4194304)}else{if(!c)if(n=Ml(p),n!==null){if(a.flags|=128,c=!0,n=n.updateQueue,a.updateQueue=n,Cl(a,n),Or(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ee)return Ke(a),null}else 2*pt()-f.renderingStartTime>Ol&&o!==536870912&&(a.flags|=128,c=!0,Or(f,!1),a.lanes=4194304);f.isBackwards?(p.sibling=a.child,a.child=p):(n=f.last,n!==null?n.sibling=p:a.child=p,f.last=p)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=pt(),a.sibling=null,n=_t.current,K(_t,c?n&1|2:n&1),a):(Ke(a),null);case 22:case 23:return ps(a),Fu(),c=a.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(o&536870912)!==0&&(a.flags&128)===0&&(Ke(a),a.subtreeFlags&6&&(a.flags|=8192)):Ke(a),o=a.updateQueue,o!==null&&Cl(a,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),n!==null&&ee(Si),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),ms(wt),Ke(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function r1(n,a){switch(Tu(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return ms(wt),Lt(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return ss(a),null;case 13:if(ps(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));pr()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return ee(_t),null;case 4:return Lt(),null;case 10:return ms(a.type),null;case 22:case 23:return ps(a),Fu(),n!==null&&ee(Si),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return ms(wt),null;case 25:return null;default:return null}}function sp(n,a){switch(Tu(a),a.tag){case 3:ms(wt),Lt();break;case 26:case 27:case 5:ss(a);break;case 4:Lt();break;case 13:ps(a);break;case 19:ee(_t);break;case 10:ms(a.type);break;case 22:case 23:ps(a),Fu(),n!==null&&ee(Si);break;case 24:ms(wt)}}function Rr(n,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&n)===n){c=void 0;var p=o.create,v=o.inst;c=p(),v.destroy=c}o=o.next}while(o!==f)}}catch(_){$e(a,a.return,_)}}function Bs(n,a,o){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&n)===n){var v=c.inst,_=v.destroy;if(_!==void 0){v.destroy=void 0,f=a;var k=o,H=_;try{H()}catch(X){$e(f,k,X)}}}c=c.next}while(c!==p)}}catch(X){$e(a,a.return,X)}}function ip(n){var a=n.updateQueue;if(a!==null){var o=n.stateNode;try{Um(a,o)}catch(c){$e(n,n.return,c)}}}function ap(n,a,o){o.props=Ni(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){$e(n,a,c)}}function Er(n,a){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(f){$e(n,a,f)}}function Fn(n,a){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){$e(n,a,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){$e(n,a,f)}else o.current=null}function rp(n){var a=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){$e(n,n.return,f)}}function xd(n,a,o){try{var c=n.stateNode;j1(c,n.type,o,a),c[Qe]=a}catch(f){$e(n,n.return,f)}}function op(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&$s(n.type)||n.tag===4}function bd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||op(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&$s(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function vd(n,a,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(n),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Yl));else if(c!==4&&(c===27&&$s(n.type)&&(o=n.stateNode,a=null),n=n.child,n!==null))for(vd(n,a,o),n=n.sibling;n!==null;)vd(n,a,o),n=n.sibling}function Tl(n,a,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?o.insertBefore(n,a):o.appendChild(n);else if(c!==4&&(c===27&&$s(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Tl(n,a,o),n=n.sibling;n!==null;)Tl(n,a,o),n=n.sibling}function lp(n){var a=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);qt(a,c,o),a[ct]=n,a[Qe]=o}catch(p){$e(n,n.return,p)}}var bs=!1,dt=!1,wd=!1,cp=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function o1(n,a){if(n=n.containerInfo,Ud=Xl,n=vm(n),bu(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,_=-1,k=-1,H=0,X=0,Z=n,P=null;t:for(;;){for(var V;Z!==o||f!==0&&Z.nodeType!==3||(_=v+f),Z!==p||c!==0&&Z.nodeType!==3||(k=v+c),Z.nodeType===3&&(v+=Z.nodeValue.length),(V=Z.firstChild)!==null;)P=Z,Z=V;for(;;){if(Z===n)break t;if(P===o&&++H===f&&(_=v),P===p&&++X===c&&(k=v),(V=Z.nextSibling)!==null)break;Z=P,P=Z.parentNode}Z=V}o=_===-1||k===-1?null:{start:_,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for($d={focusedElem:n,selectionRange:o},Xl=!1,Tt=a;Tt!==null;)if(a=Tt,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,Tt=n;else for(;Tt!==null;){switch(a=Tt,p=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=a,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var be=Ni(o.type,f,o.elementType===o.type);n=c.getSnapshotBeforeUpdate(be,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(pe){$e(o,o.return,pe)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,o=n.nodeType,o===9)Gd(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Gd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,Tt=n;break}Tt=a.return}}function up(n,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Hs(n,o),c&4&&Rr(5,o);break;case 1:if(Hs(n,o),c&4)if(n=o.stateNode,a===null)try{n.componentDidMount()}catch(v){$e(o,o.return,v)}else{var f=Ni(o.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(f,a,n.__reactInternalSnapshotBeforeUpdate)}catch(v){$e(o,o.return,v)}}c&64&&ip(o),c&512&&Er(o,o.return);break;case 3:if(Hs(n,o),c&64&&(n=o.updateQueue,n!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Um(n,a)}catch(v){$e(o,o.return,v)}}break;case 27:a===null&&c&4&&lp(o);case 26:case 5:Hs(n,o),a===null&&c&4&&rp(o),c&512&&Er(o,o.return);break;case 12:Hs(n,o);break;case 13:Hs(n,o),c&4&&fp(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=p1.bind(null,o),E1(n,o))));break;case 22:if(c=o.memoizedState!==null||bs,!c){a=a!==null&&a.memoizedState!==null||dt,f=bs;var p=dt;bs=c,(dt=a)&&!p?Ps(n,o,(o.subtreeFlags&8772)!==0):Hs(n,o),bs=f,dt=p}break;case 30:break;default:Hs(n,o)}}function dp(n){var a=n.alternate;a!==null&&(n.alternate=null,dp(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&eu(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var We=null,Wt=!1;function vs(n,a,o){for(o=o.child;o!==null;)hp(n,a,o),o=o.sibling}function hp(n,a,o){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(sn,o)}catch{}switch(o.tag){case 26:dt||Fn(o,a),vs(n,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:dt||Fn(o,a);var c=We,f=Wt;$s(o.type)&&(We=o.stateNode,Wt=!1),vs(n,a,o),Ir(o.stateNode),We=c,Wt=f;break;case 5:dt||Fn(o,a);case 6:if(c=We,f=Wt,We=null,vs(n,a,o),We=c,Wt=f,We!==null)if(Wt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(o.stateNode)}catch(p){$e(o,a,p)}else try{We.removeChild(o.stateNode)}catch(p){$e(o,a,p)}break;case 18:We!==null&&(Wt?(n=We,e0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Zr(n)):e0(We,o.stateNode));break;case 4:c=We,f=Wt,We=o.stateNode.containerInfo,Wt=!0,vs(n,a,o),We=c,Wt=f;break;case 0:case 11:case 14:case 15:dt||Bs(2,o,a),dt||Bs(4,o,a),vs(n,a,o);break;case 1:dt||(Fn(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ap(o,a,c)),vs(n,a,o);break;case 21:vs(n,a,o);break;case 22:dt=(c=dt)||o.memoizedState!==null,vs(n,a,o),dt=c;break;default:vs(n,a,o)}}function fp(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Zr(n)}catch(o){$e(a,a.return,o)}}function l1(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new cp),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new cp),a;default:throw Error(i(435,n.tag))}}function _d(n,a){var o=l1(n);a.forEach(function(c){var f=y1.bind(null,n,c);o.has(c)||(o.add(c),c.then(f,f))})}function on(n,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=n,v=a,_=v;e:for(;_!==null;){switch(_.tag){case 27:if($s(_.type)){We=_.stateNode,Wt=!1;break e}break;case 5:We=_.stateNode,Wt=!1;break e;case 3:case 4:We=_.stateNode.containerInfo,Wt=!0;break e}_=_.return}if(We===null)throw Error(i(160));hp(p,v,f),We=null,Wt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)mp(a,n),a=a.sibling}var zn=null;function mp(n,a){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:on(a,n),ln(n),c&4&&(Bs(3,n,n.return),Rr(3,n),Bs(5,n,n.return));break;case 1:on(a,n),ln(n),c&512&&(dt||o===null||Fn(o,o.return)),c&64&&bs&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=zn;if(on(a,n),ln(n),c&512&&(dt||o===null||Fn(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ir]||p[ct]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),qt(p,c,o),p[ct]=n,kt(p),c=p;break e;case"link":var v=l0("link","href",f).get(c+(o.href||""));if(v){for(var _=0;_<v.length;_++)if(p=v[_],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(_,1);break t}}p=f.createElement(c),qt(p,c,o),f.head.appendChild(p);break;case"meta":if(v=l0("meta","content",f).get(c+(o.content||""))){for(_=0;_<v.length;_++)if(p=v[_],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(_,1);break t}}p=f.createElement(c),qt(p,c,o),f.head.appendChild(p);break;default:throw Error(i(468,c))}p[ct]=n,kt(p),c=p}n.stateNode=c}else c0(f,n.type,n.stateNode);else n.stateNode=o0(f,c,n.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?c0(f,n.type,n.stateNode):o0(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&xd(n,n.memoizedProps,o.memoizedProps)}break;case 27:on(a,n),ln(n),c&512&&(dt||o===null||Fn(o,o.return)),o!==null&&c&4&&xd(n,n.memoizedProps,o.memoizedProps);break;case 5:if(on(a,n),ln(n),c&512&&(dt||o===null||Fn(o,o.return)),n.flags&32){f=n.stateNode;try{ca(f,"")}catch(V){$e(n,n.return,V)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,xd(n,f,o!==null?o.memoizedProps:f)),c&1024&&(wd=!0);break;case 6:if(on(a,n),ln(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(V){$e(n,n.return,V)}}break;case 3:if(Ul=null,f=zn,zn=Il(a.containerInfo),on(a,n),zn=f,ln(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Zr(a.containerInfo)}catch(V){$e(n,n.return,V)}wd&&(wd=!1,gp(n));break;case 4:c=zn,zn=Il(n.stateNode.containerInfo),on(a,n),ln(n),zn=c;break;case 12:on(a,n),ln(n);break;case 13:on(a,n),ln(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(kd=pt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,_d(n,c)));break;case 22:f=n.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,H=bs,X=dt;if(bs=H||f,dt=X||k,on(a,n),dt=X,bs=H,ln(n),c&8192)e:for(a=n.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(o===null||k||bs||dt||Ai(n)),o=null,a=n;;){if(a.tag===5||a.tag===26){if(o===null){k=o=a;try{if(p=k.stateNode,f)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{_=k.stateNode;var Z=k.memoizedProps.style,P=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;_.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(V){$e(k,k.return,V)}}}else if(a.tag===6){if(o===null){k=a;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(V){$e(k,k.return,V)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,_d(n,o))));break;case 19:on(a,n),ln(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,_d(n,c)));break;case 30:break;case 21:break;default:on(a,n),ln(n)}}function ln(n){var a=n.flags;if(a&2){try{for(var o,c=n.return;c!==null;){if(op(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,p=bd(n);Tl(n,p,f);break;case 5:var v=o.stateNode;o.flags&32&&(ca(v,""),o.flags&=-33);var _=bd(n);Tl(n,_,v);break;case 3:case 4:var k=o.stateNode.containerInfo,H=bd(n);vd(n,H,k);break;default:throw Error(i(161))}}catch(X){$e(n,n.return,X)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function gp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;gp(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Hs(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)up(n,a.alternate,a),a=a.sibling}function Ai(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Bs(4,a,a.return),Ai(a);break;case 1:Fn(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&ap(a,a.return,o),Ai(a);break;case 27:Ir(a.stateNode);case 26:case 5:Fn(a,a.return),Ai(a);break;case 22:a.memoizedState===null&&Ai(a);break;case 30:Ai(a);break;default:Ai(a)}n=n.sibling}}function Ps(n,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,f=n,p=a,v=p.flags;switch(p.tag){case 0:case 11:case 15:Ps(f,p,o),Rr(4,p);break;case 1:if(Ps(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){$e(c,c.return,H)}if(c=p,f=c.updateQueue,f!==null){var _=c.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)Fm(k[f],_)}catch(H){$e(c,c.return,H)}}o&&v&64&&ip(p),Er(p,p.return);break;case 27:lp(p);case 26:case 5:Ps(f,p,o),o&&c===null&&v&4&&rp(p),Er(p,p.return);break;case 12:Ps(f,p,o);break;case 13:Ps(f,p,o),o&&v&4&&fp(f,p);break;case 22:p.memoizedState===null&&Ps(f,p,o),Er(p,p.return);break;case 30:break;default:Ps(f,p,o)}a=a.sibling}}function Sd(n,a){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&br(o))}function Md(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&br(n))}function Un(n,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pp(n,a,o,c),a=a.sibling}function pp(n,a,o,c){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Un(n,a,o,c),f&2048&&Rr(9,a);break;case 1:Un(n,a,o,c);break;case 3:Un(n,a,o,c),f&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&br(n)));break;case 12:if(f&2048){Un(n,a,o,c),n=a.stateNode;try{var p=a.memoizedProps,v=p.id,_=p.onPostCommit;typeof _=="function"&&_(v,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){$e(a,a.return,k)}}else Un(n,a,o,c);break;case 13:Un(n,a,o,c);break;case 23:break;case 22:p=a.stateNode,v=a.alternate,a.memoizedState!==null?p._visibility&2?Un(n,a,o,c):zr(n,a):p._visibility&2?Un(n,a,o,c):(p._visibility|=2,ka(n,a,o,c,(a.subtreeFlags&10256)!==0)),f&2048&&Sd(v,a);break;case 24:Un(n,a,o,c),f&2048&&Md(a.alternate,a);break;default:Un(n,a,o,c)}}function ka(n,a,o,c,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=n,v=a,_=o,k=c,H=v.flags;switch(v.tag){case 0:case 11:case 15:ka(p,v,_,k,f),Rr(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?ka(p,v,_,k,f):zr(p,v):(X._visibility|=2,ka(p,v,_,k,f)),f&&H&2048&&Sd(v.alternate,v);break;case 24:ka(p,v,_,k,f),f&&H&2048&&Md(v.alternate,v);break;default:ka(p,v,_,k,f)}a=a.sibling}}function zr(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=n,c=a,f=c.flags;switch(c.tag){case 22:zr(o,c),f&2048&&Sd(c.alternate,c);break;case 24:zr(o,c),f&2048&&Md(c.alternate,c);break;default:zr(o,c)}a=a.sibling}}var qr=8192;function Ca(n){if(n.subtreeFlags&qr)for(n=n.child;n!==null;)yp(n),n=n.sibling}function yp(n){switch(n.tag){case 26:Ca(n),n.flags&qr&&n.memoizedState!==null&&Q1(zn,n.memoizedState,n.memoizedProps);break;case 5:Ca(n);break;case 3:case 4:var a=zn;zn=Il(n.stateNode.containerInfo),Ca(n),zn=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=qr,qr=16777216,Ca(n),qr=a):Ca(n));break;default:Ca(n)}}function xp(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Lr(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Tt=c,vp(c,n)}xp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bp(n),n=n.sibling}function bp(n){switch(n.tag){case 0:case 11:case 15:Lr(n),n.flags&2048&&Bs(9,n,n.return);break;case 3:Lr(n);break;case 12:Lr(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,Dl(n)):Lr(n);break;default:Lr(n)}}function Dl(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Tt=c,vp(c,n)}xp(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Bs(8,a,a.return),Dl(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Dl(a));break;default:Dl(a)}n=n.sibling}}function vp(n,a){for(;Tt!==null;){var o=Tt;switch(o.tag){case 0:case 11:case 15:Bs(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:br(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Tt=c;else e:for(o=n;Tt!==null;){c=Tt;var f=c.sibling,p=c.return;if(dp(c),c===o){Tt=null;break e}if(f!==null){f.return=p,Tt=f;break e}Tt=p}}}var c1={getCacheForType:function(n){var a=Bt(wt),o=a.data.get(n);return o===void 0&&(o=n(),a.data.set(n,o)),o}},u1=typeof WeakMap=="function"?WeakMap:Map,Le=0,Xe=null,Ae=null,Te=0,Be=0,cn=null,Ys=!1,Ta=!1,Nd=!1,ws=0,tt=0,Vs=0,ji=0,Ad=0,_n=0,Da=0,Br=null,Zt=null,jd=!1,kd=0,Ol=1/0,Rl=null,Is=null,zt=0,Fs=null,Oa=null,Ra=0,Cd=0,Td=null,wp=null,Hr=0,Dd=null;function un(){if((Le&2)!==0&&Te!==0)return Te&-Te;if(R.T!==null){var n=va;return n!==0?n:Bd()}return di()}function _p(){_n===0&&(_n=(Te&536870912)===0||Ee?Rn():536870912);var n=wn.current;return n!==null&&(n.flags|=32),_n}function dn(n,a,o){(n===Xe&&(Be===2||Be===9)||n.cancelPendingCommit!==null)&&(Ea(n,0),Us(n,Te,_n,!1)),Cs(n,o),((Le&2)===0||n!==Xe)&&(n===Xe&&((Le&2)===0&&(ji|=o),tt===4&&Us(n,Te,_n,!1)),$n(n))}function Sp(n,a,o){if((Le&6)!==0)throw Error(i(327));var c=!o&&(a&124)===0&&(a&n.expiredLanes)===0||ui(n,a),f=c?f1(n,a):Ed(n,a,!0),p=c;do{if(f===0){Ta&&!c&&Us(n,a,0,!1);break}else{if(o=n.current.alternate,p&&!d1(o)){f=Ed(n,a,!1),p=!1;continue}if(f===2){if(p=a,n.errorRecoveryDisabledLanes&p)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var _=n;f=Br;var k=_.current.memoizedState.isDehydrated;if(k&&(Ea(_,v).flags|=256),v=Ed(_,v,!1),v!==2){if(Nd&&!k){_.errorRecoveryDisabledLanes|=p,ji|=p,f=4;break e}p=Zt,Zt=f,p!==null&&(Zt===null?Zt=p:Zt.push.apply(Zt,p))}f=v}if(p=!1,f!==2)continue}}if(f===1){Ea(n,0),Us(n,a,0,!0);break}e:{switch(c=n,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Us(c,a,_n,!Ys);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(f=kd+300-pt(),10<f)){if(Us(c,a,_n,!Ys),ci(c,0,!0)!==0)break e;c.timeoutHandle=Kp(Mp.bind(null,c,o,Zt,Rl,jd,a,_n,ji,Da,Ys,p,2,-0,0),f);break e}Mp(c,o,Zt,Rl,jd,a,_n,ji,Da,Ys,p,0,-0,0)}}break}while(!0);$n(n)}function Mp(n,a,o,c,f,p,v,_,k,H,X,Z,P,V){if(n.timeoutHandle=-1,Z=a.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&($r={stylesheets:null,count:0,unsuspend:$1},yp(a),Z=X1(),Z!==null)){n.cancelPendingCommit=Z(Dp.bind(null,n,a,p,o,c,f,v,_,k,X,1,P,V)),Us(n,p,v,!H);return}Dp(n,a,p,o,c,f,v,_,k)}function d1(n){for(var a=n;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!an(p(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Us(n,a,o,c){a&=~Ad,a&=~ji,n.suspendedLanes|=a,n.pingedLanes&=~a,c&&(n.warmLanes|=a),c=n.expirationTimes;for(var f=a;0<f;){var p=31-At(f),v=1<<p;c[p]=-1,f&=~v}o!==0&&we(n,o,a)}function El(){return(Le&6)===0?(Pr(0),!1):!0}function Od(){if(Ae!==null){if(Be===0)var n=Ae.return;else n=Ae,fs=wi=null,Gu(n),Aa=null,Tr=0,n=Ae;for(;n!==null;)sp(n.alternate,n),n=n.return;Ae=null}}function Ea(n,a){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,C1(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Od(),Xe=n,Ae=o=us(n.current,null),Te=a,Be=0,cn=null,Ys=!1,Ta=ui(n,a),Nd=!1,Da=_n=Ad=ji=Vs=tt=0,Zt=Br=null,jd=!1,(a&8)!==0&&(a|=a&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=a;0<c;){var f=31-At(c),p=1<<f;a|=n[f],c&=~p}return ws=a,nl(),o}function Np(n,a){Se=null,R.H=wl,a===wr||a===dl?(a=Vm(),Be=3):a===Hm?(a=Vm(),Be=4):Be=a===Ig?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,cn=a,Ae===null&&(tt=1,Al(n,yn(a,n.current)))}function Ap(){var n=R.H;return R.H=wl,n===null?wl:n}function jp(){var n=R.A;return R.A=c1,n}function Rd(){tt=4,Ys||(Te&4194048)!==Te&&wn.current!==null||(Ta=!0),(Vs&134217727)===0&&(ji&134217727)===0||Xe===null||Us(Xe,Te,_n,!1)}function Ed(n,a,o){var c=Le;Le|=2;var f=Ap(),p=jp();(Xe!==n||Te!==a)&&(Rl=null,Ea(n,a)),a=!1;var v=tt;e:do try{if(Be!==0&&Ae!==null){var _=Ae,k=cn;switch(Be){case 8:Od(),v=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(a=!0);var H=Be;if(Be=0,cn=null,za(n,_,k,H),o&&Ta){v=0;break e}break;default:H=Be,Be=0,cn=null,za(n,_,k,H)}}h1(),v=tt;break}catch(X){Np(n,X)}while(!0);return a&&n.shellSuspendCounter++,fs=wi=null,Le=c,R.H=f,R.A=p,Ae===null&&(Xe=null,Te=0,nl()),v}function h1(){for(;Ae!==null;)kp(Ae)}function f1(n,a){var o=Le;Le|=2;var c=Ap(),f=jp();Xe!==n||Te!==a?(Rl=null,Ol=pt()+500,Ea(n,a)):Ta=ui(n,a);e:do try{if(Be!==0&&Ae!==null){a=Ae;var p=cn;t:switch(Be){case 1:Be=0,cn=null,za(n,a,p,1);break;case 2:case 9:if(Pm(p)){Be=0,cn=null,Cp(a);break}a=function(){Be!==2&&Be!==9||Xe!==n||(Be=7),$n(n)},p.then(a,a);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Pm(p)?(Be=0,cn=null,Cp(a)):(Be=0,cn=null,za(n,a,p,7));break;case 5:var v=null;switch(Ae.tag){case 26:v=Ae.memoizedState;case 5:case 27:var _=Ae;if(!v||u0(v)){Be=0,cn=null;var k=_.sibling;if(k!==null)Ae=k;else{var H=_.return;H!==null?(Ae=H,zl(H)):Ae=null}break t}}Be=0,cn=null,za(n,a,p,5);break;case 6:Be=0,cn=null,za(n,a,p,6);break;case 8:Od(),tt=6;break e;default:throw Error(i(462))}}m1();break}catch(X){Np(n,X)}while(!0);return fs=wi=null,R.H=c,R.A=f,Le=o,Ae!==null?0:(Xe=null,Te=0,nl(),tt)}function m1(){for(;Ae!==null&&!ae();)kp(Ae)}function kp(n){var a=tp(n.alternate,n,ws);n.memoizedProps=n.pendingProps,a===null?zl(n):Ae=a}function Cp(n){var a=n,o=a.alternate;switch(a.tag){case 15:case 0:a=Gg(o,a,a.pendingProps,a.type,void 0,Te);break;case 11:a=Gg(o,a,a.pendingProps,a.type.render,a.ref,Te);break;case 5:Gu(a);default:sp(o,a),a=Ae=Tm(a,ws),a=tp(o,a,ws)}n.memoizedProps=n.pendingProps,a===null?zl(n):Ae=a}function za(n,a,o,c){fs=wi=null,Gu(a),Aa=null,Tr=0;var f=a.return;try{if(s1(n,f,a,o,Te)){tt=1,Al(n,yn(o,n.current)),Ae=null;return}}catch(p){if(f!==null)throw Ae=f,p;tt=1,Al(n,yn(o,n.current)),Ae=null;return}a.flags&32768?(Ee||c===1?n=!0:Ta||(Te&536870912)!==0?n=!1:(Ys=n=!0,(c===2||c===9||c===3||c===6)&&(c=wn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Tp(a,n)):zl(a)}function zl(n){var a=n;do{if((a.flags&32768)!==0){Tp(a,Ys);return}n=a.return;var o=a1(a.alternate,a,ws);if(o!==null){Ae=o;return}if(a=a.sibling,a!==null){Ae=a;return}Ae=a=n}while(a!==null);tt===0&&(tt=5)}function Tp(n,a){do{var o=r1(n.alternate,n);if(o!==null){o.flags&=32767,Ae=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(n=n.sibling,n!==null)){Ae=n;return}Ae=n=o}while(n!==null);tt=6,Ae=null}function Dp(n,a,o,c,f,p,v,_,k){n.cancelPendingCommit=null;do ql();while(zt!==0);if((Le&6)!==0)throw Error(i(327));if(a!==null){if(a===n.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Mu,Fo(n,o,p,v,_,k),n===Xe&&(Ae=Xe=null,Te=0),Oa=a,Fs=n,Ra=o,Cd=p,Td=f,wp=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,x1(as,function(){return qp(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=R.T,R.T=null,f=G.p,G.p=2,v=Le,Le|=4;try{o1(n,a,o)}finally{Le=v,G.p=f,R.T=c}}zt=1,Op(),Rp(),Ep()}}function Op(){if(zt===1){zt=0;var n=Fs,a=Oa,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=R.T,R.T=null;var c=G.p;G.p=2;var f=Le;Le|=4;try{mp(a,n);var p=$d,v=vm(n.containerInfo),_=p.focusedElem,k=p.selectionRange;if(v!==_&&_&&_.ownerDocument&&bm(_.ownerDocument.documentElement,_)){if(k!==null&&bu(_)){var H=k.start,X=k.end;if(X===void 0&&(X=H),"selectionStart"in _)_.selectionStart=H,_.selectionEnd=Math.min(X,_.value.length);else{var Z=_.ownerDocument||document,P=Z&&Z.defaultView||window;if(P.getSelection){var V=P.getSelection(),be=_.textContent.length,pe=Math.min(k.start,be),Ie=k.end===void 0?pe:Math.min(k.end,be);!V.extend&&pe>Ie&&(v=Ie,Ie=pe,pe=v);var z=xm(_,pe),O=xm(_,Ie);if(z&&O&&(V.rangeCount!==1||V.anchorNode!==z.node||V.anchorOffset!==z.offset||V.focusNode!==O.node||V.focusOffset!==O.offset)){var B=Z.createRange();B.setStart(z.node,z.offset),V.removeAllRanges(),pe>Ie?(V.addRange(B),V.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),V.addRange(B))}}}}for(Z=[],V=_;V=V.parentNode;)V.nodeType===1&&Z.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Z.length;_++){var W=Z[_];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Xl=!!Ud,$d=Ud=null}finally{Le=f,G.p=c,R.T=o}}n.current=a,zt=2}}function Rp(){if(zt===2){zt=0;var n=Fs,a=Oa,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=R.T,R.T=null;var c=G.p;G.p=2;var f=Le;Le|=4;try{up(n,a.alternate,a)}finally{Le=f,G.p=c,R.T=o}}zt=3}}function Ep(){if(zt===4||zt===3){zt=0,Ce();var n=Fs,a=Oa,o=Ra,c=wp;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?zt=5:(zt=0,Oa=Fs=null,zp(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Is=null),Rt(o),a=a.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(sn,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=R.T,f=G.p,G.p=2,R.T=null;try{for(var p=n.onRecoverableError,v=0;v<c.length;v++){var _=c[v];p(_.value,{componentStack:_.stack})}}finally{R.T=a,G.p=f}}(Ra&3)!==0&&ql(),$n(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Dd?Hr++:(Hr=0,Dd=n):Hr=0,Pr(0)}}function zp(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,br(a)))}function ql(n){return Op(),Rp(),Ep(),qp()}function qp(){if(zt!==5)return!1;var n=Fs,a=Cd;Cd=0;var o=Rt(Ra),c=R.T,f=G.p;try{G.p=32>o?32:o,R.T=null,o=Td,Td=null;var p=Fs,v=Ra;if(zt=0,Oa=Fs=null,Ra=0,(Le&6)!==0)throw Error(i(331));var _=Le;if(Le|=4,bp(p.current),pp(p,p.current,v,o),Le=_,Pr(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(sn,p)}catch{}return!0}finally{G.p=f,R.T=c,zp(n,a)}}function Lp(n,a,o){a=yn(o,a),a=cd(n.stateNode,a,2),n=Es(n,a,2),n!==null&&(Cs(n,2),$n(n))}function $e(n,a,o){if(n.tag===3)Lp(n,n,o);else for(;a!==null;){if(a.tag===3){Lp(a,n,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Is===null||!Is.has(c))){n=yn(o,n),o=Yg(2),c=Es(a,o,2),c!==null&&(Vg(o,c,a,n),Cs(c,2),$n(c));break}}a=a.return}}function zd(n,a,o){var c=n.pingCache;if(c===null){c=n.pingCache=new u1;var f=new Set;c.set(a,f)}else f=c.get(a),f===void 0&&(f=new Set,c.set(a,f));f.has(o)||(Nd=!0,f.add(o),n=g1.bind(null,n,a,o),a.then(n,n))}function g1(n,a,o){var c=n.pingCache;c!==null&&c.delete(a),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Xe===n&&(Te&o)===o&&(tt===4||tt===3&&(Te&62914560)===Te&&300>pt()-kd?(Le&2)===0&&Ea(n,0):Ad|=o,Da===Te&&(Da=0)),$n(n)}function Bp(n,a){a===0&&(a=Io()),n=pa(n,a),n!==null&&(Cs(n,a),$n(n))}function p1(n){var a=n.memoizedState,o=0;a!==null&&(o=a.retryLane),Bp(n,o)}function y1(n,a){var o=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),Bp(n,o)}function x1(n,a){return ks(n,a)}var Ll=null,qa=null,qd=!1,Bl=!1,Ld=!1,ki=0;function $n(n){n!==qa&&n.next===null&&(qa===null?Ll=qa=n:qa=qa.next=n),Bl=!0,qd||(qd=!0,v1())}function Pr(n,a){if(!Ld&&Bl){Ld=!0;do for(var o=!1,c=Ll;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var v=c.suspendedLanes,_=c.pingedLanes;p=(1<<31-At(42|n)+1)-1,p&=f&~(v&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Vp(c,p))}else p=Te,p=ci(c,c===Xe?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||ui(c,p)||(o=!0,Vp(c,p));c=c.next}while(o);Ld=!1}}function b1(){Hp()}function Hp(){Bl=qd=!1;var n=0;ki!==0&&(k1()&&(n=ki),ki=0);for(var a=pt(),o=null,c=Ll;c!==null;){var f=c.next,p=Pp(c,a);p===0?(c.next=null,o===null?Ll=f:o.next=f,f===null&&(qa=o)):(o=c,(n!==0||(p&3)!==0)&&(Bl=!0)),c=f}Pr(n)}function Pp(n,a){for(var o=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var v=31-At(p),_=1<<v,k=f[v];k===-1?((_&o)===0||(_&c)!==0)&&(f[v]=nr(_,a)):k<=a&&(n.expiredLanes|=_),p&=~_}if(a=Xe,o=Te,o=ci(n,n===a?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===a&&(Be===2||Be===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Hn(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ui(n,o)){if(a=o&-o,a===n.callbackPriority)return a;switch(c!==null&&Hn(c),Rt(o)){case 2:case 8:o=Pn;break;case 32:o=as;break;case 268435456:o=mn;break;default:o=as}return c=Yp.bind(null,n),o=ks(o,c),n.callbackPriority=a,n.callbackNode=o,a}return c!==null&&c!==null&&Hn(c),n.callbackPriority=2,n.callbackNode=null,2}function Yp(n,a){if(zt!==0&&zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ql()&&n.callbackNode!==o)return null;var c=Te;return c=ci(n,n===Xe?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Sp(n,c,a),Pp(n,pt()),n.callbackNode!=null&&n.callbackNode===o?Yp.bind(null,n):null)}function Vp(n,a){if(ql())return null;Sp(n,a,!0)}function v1(){T1(function(){(Le&6)!==0?ks(Ft,b1):Hp()})}function Bd(){return ki===0&&(ki=Rn()),ki}function Ip(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Go(""+n)}function Fp(n,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,n.id&&o.setAttribute("form",n.id),a.parentNode.insertBefore(o,a),n=new FormData(n),o.parentNode.removeChild(o),n}function w1(n,a,o,c,f){if(a==="submit"&&o&&o.stateNode===f){var p=Ip((f[Qe]||null).action),v=c.submitter;v&&(a=(a=v[Qe]||null)?Ip(a.formAction):v.getAttribute("formAction"),a!==null&&(p=a,v=null));var _=new Jo("action","action",null,c,f);n.push({event:_,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ki!==0){var k=v?Fp(f,v):new FormData(f);id(o,{pending:!0,data:k,method:f.method,action:p},null,k)}}else typeof p=="function"&&(_.preventDefault(),k=v?Fp(f,v):new FormData(f),id(o,{pending:!0,data:k,method:f.method,action:p},p,k))},currentTarget:f}]})}}for(var Hd=0;Hd<Su.length;Hd++){var Pd=Su[Hd],_1=Pd.toLowerCase(),S1=Pd[0].toUpperCase()+Pd.slice(1);En(_1,"on"+S1)}En(Sm,"onAnimationEnd"),En(Mm,"onAnimationIteration"),En(Nm,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Pv,"onTransitionRun"),En(Yv,"onTransitionStart"),En(Vv,"onTransitionCancel"),En(Am,"onTransitionEnd"),ra("onMouseEnter",["mouseout","mouseover"]),ra("onMouseLeave",["mouseout","mouseover"]),ra("onPointerEnter",["pointerout","pointerover"]),ra("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yr));function Up(n,a){a=(a&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],f=c.event;c=c.listeners;e:{var p=void 0;if(a)for(var v=c.length-1;0<=v;v--){var _=c[v],k=_.instance,H=_.currentTarget;if(_=_.listener,k!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=H;try{p(f)}catch(X){Nl(X)}f.currentTarget=null,p=k}else for(v=0;v<c.length;v++){if(_=c[v],k=_.instance,H=_.currentTarget,_=_.listener,k!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=H;try{p(f)}catch(X){Nl(X)}f.currentTarget=null,p=k}}}}function je(n,a){var o=a[na];o===void 0&&(o=a[na]=new Set);var c=n+"__bubble";o.has(c)||($p(a,n,2,!1),o.add(c))}function Yd(n,a,o){var c=0;a&&(c|=4),$p(o,n,c,a)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function Vd(n){if(!n[Hl]){n[Hl]=!0,Hf.forEach(function(o){o!=="selectionchange"&&(M1.has(o)||Yd(o,!1,n),Yd(o,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Hl]||(a[Hl]=!0,Yd("selectionchange",!1,a))}}function $p(n,a,o,c){switch(p0(a)){case 2:var f=Z1;break;case 8:f=K1;break;default:f=nh}o=f.bind(null,a,o,n),f=void 0,!uu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(a,o,{capture:!0,passive:f}):n.addEventListener(a,o,!0):f!==void 0?n.addEventListener(a,o,{passive:f}):n.addEventListener(a,o,!1)}function Id(n,a,o,c,f){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var _=c.stateNode.containerInfo;if(_===f)break;if(v===4)for(v=c.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;_!==null;){if(v=sa(_),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){c=p=v;continue e}_=_.parentNode}}c=c.return}Jf(function(){var H=p,X=lu(o),Z=[];e:{var P=jm.get(n);if(P!==void 0){var V=Jo,be=n;switch(n){case"keypress":if(Zo(o)===0)break e;case"keydown":case"keyup":V=xv;break;case"focusin":be="focus",V=mu;break;case"focusout":be="blur",V=mu;break;case"beforeblur":case"afterblur":V=mu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=rv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=wv;break;case Sm:case Mm:case Nm:V=cv;break;case Am:V=Sv;break;case"scroll":case"scrollend":V=iv;break;case"wheel":V=Nv;break;case"copy":case"cut":case"paste":V=dv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=im;break;case"toggle":case"beforetoggle":V=jv}var pe=(a&4)!==0,Ie=!pe&&(n==="scroll"||n==="scrollend"),z=pe?P!==null?P+"Capture":null:P;pe=[];for(var O=H,B;O!==null;){var W=O;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||z===null||(W=rr(O,z),W!=null&&pe.push(Vr(O,W,B))),Ie)break;O=O.return}0<pe.length&&(P=new V(P,be,null,o,X),Z.push({event:P,listeners:pe}))}}if((a&7)===0){e:{if(P=n==="mouseover"||n==="pointerover",V=n==="mouseout"||n==="pointerout",P&&o!==ou&&(be=o.relatedTarget||o.fromElement)&&(sa(be)||be[jt]))break e;if((V||P)&&(P=X.window===X?X:(P=X.ownerDocument)?P.defaultView||P.parentWindow:window,V?(be=o.relatedTarget||o.toElement,V=H,be=be?sa(be):null,be!==null&&(Ie=l(be),pe=be.tag,be!==Ie||pe!==5&&pe!==27&&pe!==6)&&(be=null)):(V=null,be=H),V!==be)){if(pe=nm,W="onMouseLeave",z="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(pe=im,W="onPointerLeave",z="onPointerEnter",O="pointer"),Ie=V==null?P:ar(V),B=be==null?P:ar(be),P=new pe(W,O+"leave",V,o,X),P.target=Ie,P.relatedTarget=B,W=null,sa(X)===H&&(pe=new pe(z,O+"enter",be,o,X),pe.target=B,pe.relatedTarget=Ie,W=pe),Ie=W,V&&be)t:{for(pe=V,z=be,O=0,B=pe;B;B=La(B))O++;for(B=0,W=z;W;W=La(W))B++;for(;0<O-B;)pe=La(pe),O--;for(;0<B-O;)z=La(z),B--;for(;O--;){if(pe===z||z!==null&&pe===z.alternate)break t;pe=La(pe),z=La(z)}pe=null}else pe=null;V!==null&&Qp(Z,P,V,pe,!1),be!==null&&Ie!==null&&Qp(Z,Ie,be,pe,!0)}}e:{if(P=H?ar(H):window,V=P.nodeName&&P.nodeName.toLowerCase(),V==="select"||V==="input"&&P.type==="file")var de=hm;else if(um(P))if(fm)de=Lv;else{de=zv;var Ne=Ev}else V=P.nodeName,!V||V.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?H&&ru(H.elementType)&&(de=hm):de=qv;if(de&&(de=de(n,H))){dm(Z,de,o,X);break e}Ne&&Ne(n,P,H),n==="focusout"&&H&&P.type==="number"&&H.memoizedProps.value!=null&&au(P,"number",P.value)}switch(Ne=H?ar(H):window,n){case"focusin":(um(Ne)||Ne.contentEditable==="true")&&(fa=Ne,vu=H,mr=null);break;case"focusout":mr=vu=fa=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,wm(Z,o,X);break;case"selectionchange":if(Hv)break;case"keydown":case"keyup":wm(Z,o,X)}var he;if(pu)e:{switch(n){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ha?lm(n,o)&&(ye="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(am&&o.locale!=="ko"&&(ha||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ha&&(he=em()):(Ts=X,du="value"in Ts?Ts.value:Ts.textContent,ha=!0)),Ne=Pl(H,ye),0<Ne.length&&(ye=new sm(ye,n,null,o,X),Z.push({event:ye,listeners:Ne}),he?ye.data=he:(he=cm(o),he!==null&&(ye.data=he)))),(he=Cv?Tv(n,o):Dv(n,o))&&(ye=Pl(H,"onBeforeInput"),0<ye.length&&(Ne=new sm("onBeforeInput","beforeinput",null,o,X),Z.push({event:Ne,listeners:ye}),Ne.data=he)),w1(Z,n,H,o,X)}Up(Z,a)})}function Vr(n,a,o){return{instance:n,listener:a,currentTarget:o}}function Pl(n,a){for(var o=a+"Capture",c=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=rr(n,o),f!=null&&c.unshift(Vr(n,f,p)),f=rr(n,a),f!=null&&c.push(Vr(n,f,p))),n.tag===3)return c;n=n.return}return[]}function La(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Qp(n,a,o,c,f){for(var p=a._reactName,v=[];o!==null&&o!==c;){var _=o,k=_.alternate,H=_.stateNode;if(_=_.tag,k!==null&&k===c)break;_!==5&&_!==26&&_!==27||H===null||(k=H,f?(H=rr(o,p),H!=null&&v.unshift(Vr(o,H,k))):f||(H=rr(o,p),H!=null&&v.push(Vr(o,H,k)))),o=o.return}v.length!==0&&n.push({event:a,listeners:v})}var N1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function Xp(n){return(typeof n=="string"?n:""+n).replace(N1,`
`).replace(A1,"")}function Gp(n,a){return a=Xp(a),Xp(n)===a}function Yl(){}function Ve(n,a,o,c,f,p){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||ca(n,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&ca(n,""+c);break;case"className":$o(n,"class",c);break;case"tabIndex":$o(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":$o(n,o,c);break;case"style":Zf(n,c,p);break;case"data":if(a!=="object"){$o(n,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Go(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&Ve(n,a,"name",f.name,f,null),Ve(n,a,"formEncType",f.formEncType,f,null),Ve(n,a,"formMethod",f.formMethod,f,null),Ve(n,a,"formTarget",f.formTarget,f,null)):(Ve(n,a,"encType",f.encType,f,null),Ve(n,a,"method",f.method,f,null),Ve(n,a,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Go(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=Yl);break;case"onScroll":c!=null&&je("scroll",n);break;case"onScrollEnd":c!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=Go(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":je("beforetoggle",n),je("toggle",n),Uo(n,"popover",c);break;case"xlinkActuate":ls(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ls(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ls(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ls(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ls(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ls(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ls(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ls(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ls(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Uo(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=nv.get(o)||o,Uo(n,o,c))}}function Fd(n,a,o,c,f,p){switch(o){case"style":Zf(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof c=="string"?ca(n,c):(typeof c=="number"||typeof c=="bigint")&&ca(n,""+c);break;case"onScroll":c!=null&&je("scroll",n);break;case"onScrollEnd":c!=null&&je("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Yl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pf.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),p=n[Qe]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(a,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(a,c,f);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):Uo(n,o,c)}}}function qt(n,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var v=o[p];if(v!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ve(n,a,p,v,o,null)}}f&&Ve(n,a,"srcSet",o.srcSet,o,null),c&&Ve(n,a,"src",o.src,o,null);return;case"input":je("invalid",n);var _=p=v=f=null,k=null,H=null;for(c in o)if(o.hasOwnProperty(c)){var X=o[c];if(X!=null)switch(c){case"name":f=X;break;case"type":v=X;break;case"checked":k=X;break;case"defaultChecked":H=X;break;case"value":p=X;break;case"defaultValue":_=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:Ve(n,a,c,X,o,null)}}Qf(n,p,_,k,H,v,f,!1),Qo(n);return;case"select":je("invalid",n),c=v=p=null;for(f in o)if(o.hasOwnProperty(f)&&(_=o[f],_!=null))switch(f){case"value":p=_;break;case"defaultValue":v=_;break;case"multiple":c=_;default:Ve(n,a,f,_,o,null)}a=p,o=v,n.multiple=!!c,a!=null?la(n,!!c,a,!1):o!=null&&la(n,!!c,o,!0);return;case"textarea":je("invalid",n),p=f=c=null;for(v in o)if(o.hasOwnProperty(v)&&(_=o[v],_!=null))switch(v){case"value":c=_;break;case"defaultValue":f=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:Ve(n,a,v,_,o,null)}Gf(n,c,f,p),Qo(n);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ve(n,a,k,c,o,null)}return;case"dialog":je("beforetoggle",n),je("toggle",n),je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(c=0;c<Yr.length;c++)je(Yr[c],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ve(n,a,H,c,o,null)}return;default:if(ru(a)){for(X in o)o.hasOwnProperty(X)&&(c=o[X],c!==void 0&&Fd(n,a,X,c,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(c=o[_],c!=null&&Ve(n,a,_,c,o,null))}function j1(n,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,v=null,_=null,k=null,H=null,X=null;for(V in o){var Z=o[V];if(o.hasOwnProperty(V)&&Z!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":k=Z;default:c.hasOwnProperty(V)||Ve(n,a,V,null,c,Z)}}for(var P in c){var V=c[P];if(Z=o[P],c.hasOwnProperty(P)&&(V!=null||Z!=null))switch(P){case"type":p=V;break;case"name":f=V;break;case"checked":H=V;break;case"defaultChecked":X=V;break;case"value":v=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,a));break;default:V!==Z&&Ve(n,a,P,V,c,Z)}}iu(n,v,_,k,H,X,p,f);return;case"select":V=v=_=P=null;for(p in o)if(k=o[p],o.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":V=k;default:c.hasOwnProperty(p)||Ve(n,a,p,null,c,k)}for(f in c)if(p=c[f],k=o[f],c.hasOwnProperty(f)&&(p!=null||k!=null))switch(f){case"value":P=p;break;case"defaultValue":_=p;break;case"multiple":v=p;default:p!==k&&Ve(n,a,f,p,c,k)}a=_,o=v,c=V,P!=null?la(n,!!o,P,!1):!!c!=!!o&&(a!=null?la(n,!!o,a,!0):la(n,!!o,o?[]:"",!1));return;case"textarea":V=P=null;for(_ in o)if(f=o[_],o.hasOwnProperty(_)&&f!=null&&!c.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ve(n,a,_,null,c,f)}for(v in c)if(f=c[v],p=o[v],c.hasOwnProperty(v)&&(f!=null||p!=null))switch(v){case"value":P=f;break;case"defaultValue":V=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&Ve(n,a,v,f,c,p)}Xf(n,P,V);return;case"option":for(var be in o)if(P=o[be],o.hasOwnProperty(be)&&P!=null&&!c.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:Ve(n,a,be,null,c,P)}for(k in c)if(P=c[k],V=o[k],c.hasOwnProperty(k)&&P!==V&&(P!=null||V!=null))switch(k){case"selected":n.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ve(n,a,k,P,c,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in o)P=o[pe],o.hasOwnProperty(pe)&&P!=null&&!c.hasOwnProperty(pe)&&Ve(n,a,pe,null,c,P);for(H in c)if(P=c[H],V=o[H],c.hasOwnProperty(H)&&P!==V&&(P!=null||V!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,a));break;default:Ve(n,a,H,P,c,V)}return;default:if(ru(a)){for(var Ie in o)P=o[Ie],o.hasOwnProperty(Ie)&&P!==void 0&&!c.hasOwnProperty(Ie)&&Fd(n,a,Ie,void 0,c,P);for(X in c)P=c[X],V=o[X],!c.hasOwnProperty(X)||P===V||P===void 0&&V===void 0||Fd(n,a,X,P,c,V);return}}for(var z in o)P=o[z],o.hasOwnProperty(z)&&P!=null&&!c.hasOwnProperty(z)&&Ve(n,a,z,null,c,P);for(Z in c)P=c[Z],V=o[Z],!c.hasOwnProperty(Z)||P===V||P==null&&V==null||Ve(n,a,Z,P,c,V)}var Ud=null,$d=null;function Vl(n){return n.nodeType===9?n:n.ownerDocument}function Wp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zp(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Qd(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xd=null;function k1(){var n=window.event;return n&&n.type==="popstate"?n===Xd?!1:(Xd=n,!0):(Xd=null,!1)}var Kp=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,Jp=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jp<"u"?function(n){return Jp.resolve(null).then(n).catch(D1)}:Kp;function D1(n){setTimeout(function(){throw n})}function $s(n){return n==="head"}function e0(n,a){var o=a,c=0,f=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<c&&8>c){o=c;var v=n.ownerDocument;if(o&1&&Ir(v.documentElement),o&2&&Ir(v.body),o&4)for(o=v.head,Ir(o),v=o.firstChild;v;){var _=v.nextSibling,k=v.nodeName;v[ir]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=_}}if(f===0){n.removeChild(p),Zr(a);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=p}while(o);Zr(a)}function Gd(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Gd(o),eu(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function O1(n,a,o,c){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[ir])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=qn(n.nextSibling),n===null)break}return null}function R1(n,a,o){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=qn(n.nextSibling),n===null))return null;return n}function Wd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function E1(n,a){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")a();else{var c=function(){a(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function qn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var Zd=null;function t0(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return n;a--}else o==="/$"&&a++}n=n.previousSibling}return null}function n0(n,a,o){switch(a=Vl(o),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Ir(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);eu(n)}var Sn=new Map,s0=new Set;function Il(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var _s=G.d;G.d={f:z1,r:q1,D:L1,C:B1,L:H1,m:P1,X:V1,S:Y1,M:I1};function z1(){var n=_s.f(),a=El();return n||a}function q1(n){var a=ia(n);a!==null&&a.tag===5&&a.type==="form"?Sg(a):_s.r(n)}var Ba=typeof document>"u"?null:document;function i0(n,a,o){var c=Ba;if(c&&typeof a=="string"&&a){var f=pn(a);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),s0.has(f)||(s0.add(f),n={rel:n,crossOrigin:o,href:a},c.querySelector(f)===null&&(a=c.createElement("link"),qt(a,"link",n),kt(a),c.head.appendChild(a)))}}function L1(n){_s.D(n),i0("dns-prefetch",n,null)}function B1(n,a){_s.C(n,a),i0("preconnect",n,a)}function H1(n,a,o){_s.L(n,a,o);var c=Ba;if(c&&n&&a){var f='link[rel="preload"][as="'+pn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+pn(o.imageSizes)+'"]')):f+='[href="'+pn(n)+'"]';var p=f;switch(a){case"style":p=Ha(n);break;case"script":p=Pa(n)}Sn.has(p)||(n=y({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:n,as:a},o),Sn.set(p,n),c.querySelector(f)!==null||a==="style"&&c.querySelector(Fr(p))||a==="script"&&c.querySelector(Ur(p))||(a=c.createElement("link"),qt(a,"link",n),kt(a),c.head.appendChild(a)))}}function P1(n,a){_s.m(n,a);var o=Ba;if(o&&n){var c=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+pn(c)+'"][href="'+pn(n)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Pa(n)}if(!Sn.has(p)&&(n=y({rel:"modulepreload",href:n},a),Sn.set(p,n),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ur(p)))return}c=o.createElement("link"),qt(c,"link",n),kt(c),o.head.appendChild(c)}}}function Y1(n,a,o){_s.S(n,a,o);var c=Ba;if(c&&n){var f=aa(c).hoistableStyles,p=Ha(n);a=a||"default";var v=f.get(p);if(!v){var _={loading:0,preload:null};if(v=c.querySelector(Fr(p)))_.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":a},o),(o=Sn.get(p))&&Kd(n,o);var k=v=c.createElement("link");kt(k),qt(k,"link",n),k._p=new Promise(function(H,X){k.onload=H,k.onerror=X}),k.addEventListener("load",function(){_.loading|=1}),k.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Fl(v,a,c)}v={type:"stylesheet",instance:v,count:1,state:_},f.set(p,v)}}}function V1(n,a){_s.X(n,a);var o=Ba;if(o&&n){var c=aa(o).hoistableScripts,f=Pa(n),p=c.get(f);p||(p=o.querySelector(Ur(f)),p||(n=y({src:n,async:!0},a),(a=Sn.get(f))&&Jd(n,a),p=o.createElement("script"),kt(p),qt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function I1(n,a){_s.M(n,a);var o=Ba;if(o&&n){var c=aa(o).hoistableScripts,f=Pa(n),p=c.get(f);p||(p=o.querySelector(Ur(f)),p||(n=y({src:n,async:!0,type:"module"},a),(a=Sn.get(f))&&Jd(n,a),p=o.createElement("script"),kt(p),qt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function a0(n,a,o,c){var f=(f=re.current)?Il(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Ha(o.href),o=aa(f).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Ha(o.href);var p=aa(f).hoistableStyles,v=p.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,v),(p=f.querySelector(Fr(n)))&&!p._p&&(v.instance=p,v.state.loading=5),Sn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Sn.set(n,o),p||F1(f,n,o,v.state))),a&&c===null)throw Error(i(528,""));return v}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Pa(o),o=aa(f).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Ha(n){return'href="'+pn(n)+'"'}function Fr(n){return'link[rel="stylesheet"]['+n+"]"}function r0(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function F1(n,a,o,c){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=n.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),qt(a,"link",o),kt(a),n.head.appendChild(a))}function Pa(n){return'[src="'+pn(n)+'"]'}function Ur(n){return"script[async]"+n}function o0(n,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=n.querySelector('style[data-href~="'+pn(o.href)+'"]');if(c)return a.instance=c,kt(c),c;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),kt(c),qt(c,"style",f),Fl(c,o.precedence,n),a.instance=c;case"stylesheet":f=Ha(o.href);var p=n.querySelector(Fr(f));if(p)return a.state.loading|=4,a.instance=p,kt(p),p;c=r0(o),(f=Sn.get(f))&&Kd(c,f),p=(n.ownerDocument||n).createElement("link"),kt(p);var v=p;return v._p=new Promise(function(_,k){v.onload=_,v.onerror=k}),qt(p,"link",c),a.state.loading|=4,Fl(p,o.precedence,n),a.instance=p;case"script":return p=Pa(o.src),(f=n.querySelector(Ur(p)))?(a.instance=f,kt(f),f):(c=o,(f=Sn.get(p))&&(c=y({},o),Jd(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),kt(f),qt(f,"link",c),n.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Fl(c,o.precedence,n));return a.instance}function Fl(n,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,v=0;v<c.length;v++){var _=c[v];if(_.dataset.precedence===a)p=_;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(n,a.firstChild))}function Kd(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Jd(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Ul=null;function l0(n,a,o){if(Ul===null){var c=new Map,f=Ul=new Map;f.set(o,c)}else f=Ul,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var p=o[f];if(!(p[ir]||p[ct]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(a)||"";v=n+v;var _=c.get(v);_?_.push(p):c.set(v,[p])}}return c}function c0(n,a,o){n=n.ownerDocument||n,n.head.insertBefore(o,a==="title"?n.querySelector("head > title"):null)}function U1(n,a,o){if(o===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function u0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var $r=null;function $1(){}function Q1(n,a,o){if($r===null)throw Error(i(475));var c=$r;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ha(o.href),p=n.querySelector(Fr(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=$l.bind(c),n.then(c,c)),a.state.loading|=4,a.instance=p,kt(p);return}p=n.ownerDocument||n,o=r0(o),(f=Sn.get(f))&&Kd(o,f),p=p.createElement("link"),kt(p);var v=p;v._p=new Promise(function(_,k){v.onload=_,v.onerror=k}),qt(p,"link",o),a.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=$l.bind(c),n.addEventListener("load",a),n.addEventListener("error",a))}}function X1(){if($r===null)throw Error(i(475));var n=$r;return n.stylesheets&&n.count===0&&eh(n,n.stylesheets),0<n.count?function(a){var o=setTimeout(function(){if(n.stylesheets&&eh(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(o)}}:null}function $l(){if(this.count--,this.count===0){if(this.stylesheets)eh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ql=null;function eh(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ql=new Map,a.forEach(G1,n),Ql=null,$l.call(n))}function G1(n,a){if(!(a.state.loading&4)){var o=Ql.get(n);if(o)var c=o.get(null);else{o=new Map,Ql.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var v=f[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),c=v)}c&&o.set(null,c)}f=a.instance,v=f.getAttribute("data-precedence"),p=o.get(v)||c,p===c&&o.set(null,f),o.set(v,f),this.count++,c=$l.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),a.state.loading|=4}}var Qr={$$typeof:D,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function W1(n,a,o,c,f,p,v,_){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sr(0),this.hiddenUpdates=sr(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function d0(n,a,o,c,f,p,v,_,k,H,X,Z){return n=new W1(n,a,o,v,_,k,H,Z),a=1,p===!0&&(a|=24),p=rn(3,null,null,a),n.current=p,p.stateNode=n,a=zu(),a.refCount++,n.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:a},Hu(p),n}function h0(n){return n?(n=ya,n):ya}function f0(n,a,o,c,f,p){f=h0(f),c.context===null?c.context=f:c.pendingContext=f,c=Rs(a),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=Es(n,c,a),o!==null&&(dn(o,n,a),Sr(o,n,a))}function m0(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<a?o:a}}function th(n,a){m0(n,a),(n=n.alternate)&&m0(n,a)}function g0(n){if(n.tag===13){var a=pa(n,67108864);a!==null&&dn(a,n,67108864),th(n,67108864)}}var Xl=!0;function Z1(n,a,o,c){var f=R.T;R.T=null;var p=G.p;try{G.p=2,nh(n,a,o,c)}finally{G.p=p,R.T=f}}function K1(n,a,o,c){var f=R.T;R.T=null;var p=G.p;try{G.p=8,nh(n,a,o,c)}finally{G.p=p,R.T=f}}function nh(n,a,o,c){if(Xl){var f=sh(c);if(f===null)Id(n,a,c,Gl,o),y0(n,c);else if(ew(f,n,a,o,c))c.stopPropagation();else if(y0(n,c),a&4&&-1<J1.indexOf(n)){for(;f!==null;){var p=ia(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=Yn(p.pendingLanes);if(v!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;v;){var k=1<<31-At(v);_.entanglements[1]|=k,v&=~k}$n(p),(Le&6)===0&&(Ol=pt()+500,Pr(0))}}break;case 13:_=pa(p,2),_!==null&&dn(_,p,2),El(),th(p,2)}if(p=sh(c),p===null&&Id(n,a,c,Gl,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else Id(n,a,c,null,o)}}function sh(n){return n=lu(n),ih(n)}var Gl=null;function ih(n){if(Gl=null,n=sa(n),n!==null){var a=l(n);if(a===null)n=null;else{var o=a.tag;if(o===13){if(n=u(a),n!==null)return n;n=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Gl=n,null}function p0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wi()){case Ft:return 2;case Pn:return 8;case as:case Nt:return 32;case mn:return 268435456;default:return 32}default:return 32}}var ah=!1,Qs=null,Xs=null,Gs=null,Xr=new Map,Gr=new Map,Ws=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y0(n,a){switch(n){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Xr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(a.pointerId)}}function Wr(n,a,o,c,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},a!==null&&(a=ia(a),a!==null&&g0(a)),n):(n.eventSystemFlags|=c,a=n.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),n)}function ew(n,a,o,c,f){switch(a){case"focusin":return Qs=Wr(Qs,n,a,o,c,f),!0;case"dragenter":return Xs=Wr(Xs,n,a,o,c,f),!0;case"mouseover":return Gs=Wr(Gs,n,a,o,c,f),!0;case"pointerover":var p=f.pointerId;return Xr.set(p,Wr(Xr.get(p)||null,n,a,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Gr.set(p,Wr(Gr.get(p)||null,n,a,o,c,f)),!0}return!1}function x0(n){var a=sa(n.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=u(o),a!==null){n.blockedOn=a,vt(n.priority,function(){if(o.tag===13){var c=un();c=yt(c);var f=pa(o,c);f!==null&&dn(f,o,c),th(o,c)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wl(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var o=sh(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);ou=c,o.target.dispatchEvent(c),ou=null}else return a=ia(o),a!==null&&g0(a),n.blockedOn=o,!1;a.shift()}return!0}function b0(n,a,o){Wl(n)&&o.delete(a)}function tw(){ah=!1,Qs!==null&&Wl(Qs)&&(Qs=null),Xs!==null&&Wl(Xs)&&(Xs=null),Gs!==null&&Wl(Gs)&&(Gs=null),Xr.forEach(b0),Gr.forEach(b0)}function Zl(n,a){n.blockedOn===a&&(n.blockedOn=null,ah||(ah=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,tw)))}var Kl=null;function v0(n){Kl!==n&&(Kl=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Kl===n&&(Kl=null);for(var a=0;a<n.length;a+=3){var o=n[a],c=n[a+1],f=n[a+2];if(typeof c!="function"){if(ih(c||o)===null)continue;break}var p=ia(o);p!==null&&(n.splice(a,3),a-=3,id(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Zr(n){function a(k){return Zl(k,n)}Qs!==null&&Zl(Qs,n),Xs!==null&&Zl(Xs,n),Gs!==null&&Zl(Gs,n),Xr.forEach(a),Gr.forEach(a);for(var o=0;o<Ws.length;o++){var c=Ws[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Ws.length&&(o=Ws[0],o.blockedOn===null);)x0(o),o.blockedOn===null&&Ws.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],v=f[Qe]||null;if(typeof p=="function")v||v0(o);else if(v){var _=null;if(p&&p.hasAttribute("formAction")){if(f=p,v=p[Qe]||null)_=v.formAction;else if(ih(f)!==null)continue}else _=v.action;typeof _=="function"?o[c+1]=_:(o.splice(c,3),c-=3),v0(o)}}}function rh(n){this._internalRoot=n}Jl.prototype.render=rh.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,c=un();f0(o,c,n,a,null,null)},Jl.prototype.unmount=rh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;f0(n.current,2,null,n,null,null),El(),a[jt]=null}};function Jl(n){this._internalRoot=n}Jl.prototype.unstable_scheduleHydration=function(n){if(n){var a=di();n={blockedOn:null,target:n,priority:a};for(var o=0;o<Ws.length&&a!==0&&a<Ws[o].priority;o++);Ws.splice(o,0,n),o===0&&x0(n)}};var w0=e.version;if(w0!=="19.1.0")throw Error(i(527,w0,"19.1.0"));G.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=m(a),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var nw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{sn=ec.inject(nw),Me=ec}catch{}}return Jr.createRoot=function(n,a){if(!r(n))throw Error(i(299));var o=!1,c="",f=Lg,p=Bg,v=Hg,_=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(_=a.unstable_transitionCallbacks)),a=d0(n,1,!1,null,null,o,c,f,p,v,_,null),n[jt]=a.current,Vd(n),new rh(a)},Jr.hydrateRoot=function(n,a,o){if(!r(n))throw Error(i(299));var c=!1,f="",p=Lg,v=Bg,_=Hg,k=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),a=d0(n,1,!0,a,o??null,c,f,p,v,_,k,H),a.context=h0(null),o=a.current,c=un(),c=yt(c),f=Rs(c),f.callback=null,Es(o,f,c),o=c,a.current.lanes=o,Cs(a,o),$n(a),n[jt]=a.current,Vd(n),new Jl(a)},Jr.version="19.1.0",Jr}var D0;function fw(){if(D0)return lh.exports;D0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),lh.exports=hw(),lh.exports}var mw=fw();const Li="1.21.1-alpha.1";var Kn=[],An=[],gw=Uint8Array,fh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ya=0,pw=fh.length;Ya<pw;++Ya)Kn[Ya]=fh[Ya],An[fh.charCodeAt(Ya)]=Ya;An[45]=62;An[95]=63;function yw(s){var e=s.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=s.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function xw(s,e,t){return(e+t)*3/4-t}function So(s){var e,t=yw(s),i=t[0],r=t[1],l=new gw(xw(s,i,r)),u=0,d=r>0?i-4:i,m;for(m=0;m<d;m+=4)e=An[s.charCodeAt(m)]<<18|An[s.charCodeAt(m+1)]<<12|An[s.charCodeAt(m+2)]<<6|An[s.charCodeAt(m+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=e&255;return r===2&&(e=An[s.charCodeAt(m)]<<2|An[s.charCodeAt(m+1)]>>4,l[u++]=e&255),r===1&&(e=An[s.charCodeAt(m)]<<10|An[s.charCodeAt(m+1)]<<4|An[s.charCodeAt(m+2)]>>2,l[u++]=e>>8&255,l[u++]=e&255),l}function bw(s){return Kn[s>>18&63]+Kn[s>>12&63]+Kn[s>>6&63]+Kn[s&63]}function vw(s,e,t){for(var i,r=[],l=e;l<t;l+=3)i=(s[l]<<16&16711680)+(s[l+1]<<8&65280)+(s[l+2]&255),r.push(bw(i));return r.join("")}function Mo(s){for(var e,t=s.length,i=t%3,r=[],l=16383,u=0,d=t-i;u<d;u+=l)r.push(vw(s,u,u+l>d?d:u+l));return i===1?(e=s[t-1],r.push(Kn[e>>2]+Kn[e<<4&63]+"==")):i===2&&(e=(s[t-2]<<8)+s[t-1],r.push(Kn[e>>10]+Kn[e>>4&63]+Kn[e<<2&63]+"=")),r.join("")}function tn(s){if(s===void 0)return{};if(!bx(s))throw new Error(`The arguments to a Convex function must be an object. Received: ${s}`);return s}function xx(s){if(typeof s>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof s!="string")throw new Error(`Invalid deployment address: found ${s}".`);if(!(s.startsWith("http:")||s.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${s}".`);try{new URL(s)}catch{throw new Error(`Invalid deployment address: "${s}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(s.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${s}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function bx(s){var r;const e=typeof s=="object",t=Object.getPrototypeOf(s),i=t===null||t===Object.prototype||((r=t==null?void 0:t.constructor)==null?void 0:r.name)==="Object";return e&&i}const vx=!0,Wa=BigInt("-9223372036854775808"),rf=BigInt("9223372036854775807"),Lh=BigInt("0"),ww=BigInt("8"),_w=BigInt("256");function wx(s){return Number.isNaN(s)||!Number.isFinite(s)||Object.is(s,-0)}function Sw(s){s<Lh&&(s-=Wa+Wa);let e=s.toString(16);e.length%2===1&&(e="0"+e);const t=new Uint8Array(new ArrayBuffer(8));let i=0;for(const r of e.match(/.{2}/g).reverse())t.set([parseInt(r,16)],i++),s>>=ww;return Mo(t)}function Mw(s){const e=So(s);if(e.byteLength!==8)throw new Error(`Received ${e.byteLength} bytes, expected 8 for $integer`);let t=Lh,i=Lh;for(const r of e)t+=BigInt(r)*_w**i,i++;return t>rf&&(t+=Wa+Wa),t}function Nw(s){if(s<Wa||rf<s)throw new Error(`BigInt ${s} does not fit into a 64-bit signed integer.`);const e=new ArrayBuffer(8);return new DataView(e).setBigInt64(0,s,!0),Mo(new Uint8Array(e))}function Aw(s){const e=So(s);if(e.byteLength!==8)throw new Error(`Received ${e.byteLength} bytes, expected 8 for $integer`);return new DataView(e.buffer).getBigInt64(0,!0)}const jw=DataView.prototype.setBigInt64?Nw:Sw,kw=DataView.prototype.getBigInt64?Aw:Mw,O0=1024;function _x(s){if(s.length>O0)throw new Error(`Field name ${s} exceeds maximum field name length ${O0}.`);if(s.startsWith("$"))throw new Error(`Field name ${s} starts with a '$', which is reserved.`);for(let e=0;e<s.length;e+=1){const t=s.charCodeAt(e);if(t<32||t>=127)throw new Error(`Field name ${s} has invalid character '${s[e]}': Field names can only contain non-control ASCII characters`)}}function Ln(s){if(s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string")return s;if(Array.isArray(s))return s.map(i=>Ln(i));if(typeof s!="object")throw new Error(`Unexpected type of ${s}`);const e=Object.entries(s);if(e.length===1){const i=e[0][0];if(i==="$bytes"){if(typeof s.$bytes!="string")throw new Error(`Malformed $bytes field on ${s}`);return So(s.$bytes).buffer}if(i==="$integer"){if(typeof s.$integer!="string")throw new Error(`Malformed $integer field on ${s}`);return kw(s.$integer)}if(i==="$float"){if(typeof s.$float!="string")throw new Error(`Malformed $float field on ${s}`);const r=So(s.$float);if(r.byteLength!==8)throw new Error(`Received ${r.byteLength} bytes, expected 8 for $float`);const u=new DataView(r.buffer).getFloat64(0,vx);if(!wx(u))throw new Error(`Float ${u} should be encoded as a number`);return u}if(i==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(i==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const t={};for(const[i,r]of Object.entries(s))_x(i),t[i]=Ln(r);return t}function go(s){return JSON.stringify(s,(e,t)=>t===void 0?"undefined":typeof t=="bigint"?`${t.toString()}n`:t)}function Bh(s,e,t,i){var u;if(s===void 0){const d=t&&` (present at path ${t} in original object ${go(e)})`;throw new Error(`undefined is not a valid Convex value${d}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(s===null)return s;if(typeof s=="bigint"){if(s<Wa||rf<s)throw new Error(`BigInt ${s} does not fit into a 64-bit signed integer.`);return{$integer:jw(s)}}if(typeof s=="number")if(wx(s)){const d=new ArrayBuffer(8);return new DataView(d).setFloat64(0,s,vx),{$float:Mo(new Uint8Array(d))}}else return s;if(typeof s=="boolean"||typeof s=="string")return s;if(s instanceof ArrayBuffer)return{$bytes:Mo(new Uint8Array(s))};if(Array.isArray(s))return s.map((d,m)=>Bh(d,e,t+`[${m}]`));if(s instanceof Set)throw new Error(mh(t,"Set",[...s],e));if(s instanceof Map)throw new Error(mh(t,"Map",[...s],e));if(!bx(s)){const d=(u=s==null?void 0:s.constructor)==null?void 0:u.name,m=d?`${d} `:"";throw new Error(mh(t,m,s,e))}const r={},l=Object.entries(s);l.sort(([d,m],[g,y])=>d===g?0:d<g?-1:1);for(const[d,m]of l)m!==void 0&&(_x(d),r[d]=Bh(m,e,t+`.${d}`));return r}function mh(s,e,t,i){return s?`${e}${go(t)} is not a supported Convex type (present at path ${s} in original object ${go(i)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${e}${go(t)} is not a supported Convex type.`}function jn(s){return Bh(s,s,"")}var Cw=Object.defineProperty,Tw=(s,e,t)=>e in s?Cw(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,gh=(s,e,t)=>Tw(s,typeof e!="symbol"?e+"":e,t),R0,E0;const Dw=Symbol.for("ConvexError");class Bi extends(E0=Error,R0=Dw,E0){constructor(e){super(typeof e=="string"?e:go(e)),gh(this,"name","ConvexError"),gh(this,"data"),gh(this,R0,!0),this.data=e}}var Ow=Object.defineProperty,Rw=(s,e,t)=>e in s?Ow(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,z0=(s,e,t)=>Rw(s,typeof e!="symbol"?e+"":e,t);const Ew="color:rgb(0, 145, 255)";function Sx(s){switch(s){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class zw{constructor(e){z0(this,"_onLogLineFuncs"),z0(this,"_verbose"),this._onLogLineFuncs={},this._verbose=e.verbose}addLogLineListener(e){let t=Math.random().toString(36).substring(2,15);for(let i=0;i<10&&this._onLogLineFuncs[t]!==void 0;i++)t=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[t]=e,()=>{delete this._onLogLineFuncs[t]}}logVerbose(...e){if(this._verbose)for(const t of Object.values(this._onLogLineFuncs))t("debug",`${new Date().toISOString()}`,...e)}log(...e){for(const t of Object.values(this._onLogLineFuncs))t("info",...e)}warn(...e){for(const t of Object.values(this._onLogLineFuncs))t("warn",...e)}error(...e){for(const t of Object.values(this._onLogLineFuncs))t("error",...e)}}function of(s){const e=new zw(s);return e.addLogLineListener((t,...i)=>{switch(t){case"debug":console.debug(...i);break;case"info":console.log(...i);break;case"warn":console.warn(...i);break;case"error":console.error(...i);break;default:console.log(...i)}}),e}function ni(s,e,t,i,r){const l=Sx(t);if(typeof r=="object"&&(r=`ConvexError ${JSON.stringify(r.errorData,null,2)}`),e==="info"){const u=r.match(/^\[.*?\] /);if(u===null){s.error(`[CONVEX ${l}(${i})] Could not parse console.log`);return}const d=r.slice(1,u[0].length-2),m=r.slice(u[0].length);s.log(`%c[CONVEX ${l}(${i})] [${d}]`,Ew,m)}else s.error(`[CONVEX ${l}(${i})] ${r}`)}function qw(s,e){const t=`[CONVEX FATAL ERROR] ${e}`;return s.error(t),new Error(t)}function Ua(s,e,t){return`[CONVEX ${Sx(s)}(${e})] ${t.errorMessage}
  Called by client`}function Hh(s,e){return e.data=s.errorData,e}function Tc(s){const e=s.split(":");let t,i;return e.length===1?(t=e[0],i="default"):(t=e.slice(0,e.length-1).join(":"),i=e[e.length-1]),t.endsWith(".js")&&(t=t.slice(0,-3)),`${t}:${i}`}function Pi(s,e){return JSON.stringify({udfPath:Tc(s),args:jn(e)})}var Lw=Object.defineProperty,Bw=(s,e,t)=>e in s?Lw(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Qn=(s,e,t)=>Bw(s,typeof e!="symbol"?e+"":e,t);class Hw{constructor(){Qn(this,"nextQueryId"),Qn(this,"querySetVersion"),Qn(this,"querySet"),Qn(this,"queryIdToToken"),Qn(this,"identityVersion"),Qn(this,"auth"),Qn(this,"outstandingQueriesOlderThanRestart"),Qn(this,"outstandingAuthOlderThanRestart"),Qn(this,"paused"),Qn(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(e,t,i,r){const l=Tc(e),u=Pi(l,t),d=this.querySet.get(u);if(d!==void 0)return d.numSubscribers+=1,{queryToken:u,modification:null,unsubscribe:()=>this.removeSubscriber(u)};{const m=this.nextQueryId++,g={id:m,canonicalizedUdfPath:l,args:t,numSubscribers:1,journal:i,componentPath:r};this.querySet.set(u,g),this.queryIdToToken.set(m,u);const y=this.querySetVersion,x=this.querySetVersion+1,b={type:"Add",queryId:m,udfPath:l,args:[jn(t)],journal:i,componentPath:r};return this.paused?this.pendingQuerySetModifications.set(m,b):this.querySetVersion=x,{queryToken:u,modification:{type:"ModifyQuerySet",baseVersion:y,newVersion:x,modifications:[b]},unsubscribe:()=>this.removeSubscriber(u)}}}transition(e){for(const t of e.modifications)switch(t.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(t.queryId);const i=t.journal;if(i!==void 0){const r=this.queryIdToToken.get(t.queryId);r!==void 0&&(this.querySet.get(r).journal=i)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(t.queryId);break}default:throw new Error(`Invalid modification ${t.type}`)}}queryId(e,t){const i=Tc(e),r=Pi(i,t),l=this.querySet.get(r);return l!==void 0?l.id:null}isCurrentOrNewerAuthVersion(e){return e>=this.identityVersion}setAuth(e){this.auth={tokenType:"User",value:e};const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",baseVersion:t,...this.auth}}setAdminAuth(e,t){const i={tokenType:"Admin",value:e,impersonating:t};this.auth=i;const r=this.identityVersion;return this.paused||(this.identityVersion=r+1),{type:"Authenticate",baseVersion:r,...i}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const e=this.identityVersion;return this.paused||(this.identityVersion=e+1),{type:"Authenticate",tokenType:"None",baseVersion:e}}hasAuth(){return!!this.auth}isNewAuth(e){var t;return((t=this.auth)==null?void 0:t.value)!==e}queryPath(e){const t=this.queryIdToToken.get(e);return t?this.querySet.get(t).canonicalizedUdfPath:null}queryArgs(e){const t=this.queryIdToToken.get(e);return t?this.querySet.get(t).args:null}queryToken(e){return this.queryIdToToken.get(e)??null}queryJournal(e){var t;return(t=this.querySet.get(e))==null?void 0:t.journal}restart(e){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const t=[];for(const l of this.querySet.values()){const u={type:"Add",queryId:l.id,udfPath:l.canonicalizedUdfPath,args:[jn(l.args)],journal:l.journal,componentPath:l.componentPath};t.push(u),e.has(l.id)||this.outstandingQueriesOlderThanRestart.add(l.id)}this.querySetVersion=1;const i={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:t};if(!this.auth)return this.identityVersion=0,[i,void 0];this.outstandingAuthOlderThanRestart=!0;const r={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[i,r]}pause(){this.paused=!0}resume(){const e=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,t=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[e,t]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(e){const t=this.querySet.get(e);if(t.numSubscribers>1)return t.numSubscribers-=1,null;{this.querySet.delete(e),this.queryIdToToken.delete(t.id),this.outstandingQueriesOlderThanRestart.delete(t.id);const i=this.querySetVersion,r=this.querySetVersion+1,l={type:"Remove",queryId:t.id};return this.paused?this.pendingQuerySetModifications.has(t.id)?this.pendingQuerySetModifications.delete(t.id):this.pendingQuerySetModifications.set(t.id,l):this.querySetVersion=r,{type:"ModifyQuerySet",baseVersion:i,newVersion:r,modifications:[l]}}}}var Pw=Object.defineProperty,Yw=(s,e,t)=>e in s?Pw(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,q0=(s,e,t)=>Yw(s,typeof e!="symbol"?e+"":e,t);class Vw{constructor(e){this.logger=e,q0(this,"inflightRequests"),q0(this,"requestsOlderThanRestart"),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(e,t){return new Promise(r=>{const l=t?"Requested":"NotSent";this.inflightRequests.set(e.requestId,{message:e,status:{status:l,requestedAt:new Date,onResult:r}})})}onResponse(e){const t=this.inflightRequests.get(e.requestId);if(t===void 0||t.status.status==="Completed")return null;const i=t.message.type==="Mutation"?"mutation":"action",r=t.message.udfPath;for(const m of e.logLines)ni(this.logger,"info",i,r,m);const l=t.status;let u,d;if(e.success)u={success:!0,logLines:e.logLines,value:Ln(e.result)},d=()=>l.onResult(u);else{const m=e.result,{errorData:g}=e;ni(this.logger,"error",i,r,m),u={success:!1,errorMessage:m,errorData:g!==void 0?Ln(g):void 0,logLines:e.logLines},d=()=>l.onResult(u)}return e.type==="ActionResponse"||!e.success?(d(),this.inflightRequests.delete(e.requestId),this.requestsOlderThanRestart.delete(e.requestId),{requestId:e.requestId,result:u}):(t.status={status:"Completed",result:u,ts:e.ts,onResolve:d},null)}removeCompleted(e){const t=new Map;for(const[i,r]of this.inflightRequests.entries()){const l=r.status;l.status==="Completed"&&l.ts.lessThanOrEqual(e)&&(l.onResolve(),t.set(i,l.result),this.inflightRequests.delete(i),this.requestsOlderThanRestart.delete(i))}return t}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const e=[];for(const[t,i]of this.inflightRequests){if(i.status.status==="NotSent"){i.status.status="Requested",e.push(i.message);continue}if(i.message.type==="Mutation")e.push(i.message);else{if(this.inflightRequests.delete(t),this.requestsOlderThanRestart.delete(t),i.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");i.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return e}resume(){const e=[];for(const[,t]of this.inflightRequests)if(t.status.status==="NotSent"){t.status.status="Requested",e.push(t.message);continue}return e}hasIncompleteRequests(){for(const e of this.inflightRequests.values())if(e.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let e=Date.now();for(const t of this.inflightRequests.values())t.status.status!=="Completed"&&t.status.requestedAt.getTime()<e&&(e=t.status.requestedAt.getTime());return new Date(e)}}const No=Symbol.for("functionName"),Iw=Symbol.for("toReferencePath");function Fw(s){return s[Iw]??null}function Uw(s){return s.startsWith("function://")}function $w(s){let e;if(typeof s=="string")Uw(s)?e={functionHandle:s}:e={name:s};else if(s[No])e={name:s[No]};else{const t=Fw(s);if(!t)throw new Error(`${s} is not a functionReference`);e={reference:t}}return e}function Ot(s){const e=$w(s);if(e.name===void 0)throw e.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${e.functionHandle}`):e.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${e.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(e)}`);if(typeof s=="string")return s;const t=s[No];if(!t)throw new Error(`${s} is not a functionReference`);return t}function lf(s){return{[No]:s}}function Mx(s=[]){const e={get(t,i){if(typeof i=="string"){const r=[...s,i];return Mx(r)}else if(i===No){if(s.length<2){const u=["api",...s].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${u}\``)}const r=s.slice(0,-1).join("/"),l=s[s.length-1];return l==="default"?r:r+":"+l}else return i===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},e)}const Qw=Mx();var Xw=Object.defineProperty,Gw=(s,e,t)=>e in s?Xw(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Dc=(s,e,t)=>Gw(s,typeof e!="symbol"?e+"":e,t);class Ao{constructor(e){Dc(this,"queryResults"),Dc(this,"modifiedQueries"),this.queryResults=e,this.modifiedQueries=[]}getQuery(e,...t){const i=tn(t[0]),r=Ot(e),l=this.queryResults.get(Pi(r,i));if(l!==void 0)return Ao.queryValue(l.result)}getAllQueries(e){const t=[],i=Ot(e);for(const r of this.queryResults.values())r.udfPath===Tc(i)&&t.push({args:r.args,value:Ao.queryValue(r.result)});return t}setQuery(e,t,i){const r=tn(t),l=Ot(e),u=Pi(l,r);let d;i===void 0?d=void 0:d={success:!0,value:i,logLines:[]};const m={udfPath:l,args:r,result:d};this.queryResults.set(u,m),this.modifiedQueries.push(u)}static queryValue(e){if(e!==void 0)return e.success?e.value:void 0}}class Ww{constructor(){Dc(this,"queryResults"),Dc(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(e,t){this.optimisticUpdates=this.optimisticUpdates.filter(u=>!t.has(u.mutationId));const i=this.queryResults;this.queryResults=new Map(e);const r=new Ao(this.queryResults);for(const u of this.optimisticUpdates)u.update(r);const l=[];for(const[u,d]of this.queryResults){const m=i.get(u);(m===void 0||m.result!==d.result)&&l.push(u)}return l}applyOptimisticUpdate(e,t){this.optimisticUpdates.push({update:e,mutationId:t});const i=new Ao(this.queryResults);return e(i),i.modifiedQueries}queryResult(e){const t=this.queryResults.get(e);if(t===void 0)return;const i=t.result;if(i!==void 0){if(i.success)return i.value;throw i.errorData!==void 0?Hh(i,new Bi(Ua("query",t.udfPath,i))):new Error(Ua("query",t.udfPath,i))}}hasQueryResult(e){return this.queryResults.get(e)!==void 0}queryLogs(e){var i;const t=this.queryResults.get(e);return(i=t==null?void 0:t.result)==null?void 0:i.logLines}}var Zw=Object.defineProperty,Kw=(s,e,t)=>e in s?Zw(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,ph=(s,e,t)=>Kw(s,typeof e!="symbol"?e+"":e,t);class fn{constructor(e,t){ph(this,"low"),ph(this,"high"),ph(this,"__isUnsignedLong__"),this.low=e|0,this.high=t|0,this.__isUnsignedLong__=!0}static isLong(e){return(e&&e.__isUnsignedLong__)===!0}static fromBytesLE(e){return new fn(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24)}toBytesLE(){const e=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]}static fromNumber(e){return isNaN(e)||e<0?L0:e>=Jw?e2:new fn(e%po|0,e/po|0)}toString(){return(BigInt(this.high)*BigInt(po)+BigInt(this.low)).toString()}equals(e){return fn.isLong(e)||(e=fn.fromValue(e)),this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low}notEquals(e){return!this.equals(e)}comp(e){return fn.isLong(e)||(e=fn.fromValue(e)),this.equals(e)?0:e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(e){return this.comp(e)<=0}static fromValue(e){return typeof e=="number"?fn.fromNumber(e):new fn(e.low,e.high)}}const L0=new fn(0,0),B0=65536,po=B0*B0,Jw=po*po,e2=new fn(-1,-1);var t2=Object.defineProperty,n2=(s,e,t)=>e in s?t2(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,tc=(s,e,t)=>n2(s,typeof e!="symbol"?e+"":e,t);class H0{constructor(e,t){tc(this,"version"),tc(this,"remoteQuerySet"),tc(this,"queryPath"),tc(this,"logger"),this.version={querySet:0,ts:fn.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=e,this.logger=t}transition(e){const t=e.startVersion;if(this.version.querySet!==t.querySet||this.version.ts.notEquals(t.ts)||this.version.identity!==t.identity)throw new Error(`Invalid start version: ${t.ts.toString()}:${t.querySet}`);for(const i of e.modifications)switch(i.type){case"QueryUpdated":{const r=this.queryPath(i.queryId);if(r)for(const u of i.logLines)ni(this.logger,"info","query",r,u);const l=Ln(i.value??null);this.remoteQuerySet.set(i.queryId,{success:!0,value:l,logLines:i.logLines});break}case"QueryFailed":{const r=this.queryPath(i.queryId);if(r)for(const u of i.logLines)ni(this.logger,"info","query",r,u);const{errorData:l}=i;this.remoteQuerySet.set(i.queryId,{success:!1,errorMessage:i.errorMessage,errorData:l!==void 0?Ln(l):void 0,logLines:i.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(i.queryId);break}default:throw new Error(`Invalid modification ${i.type}`)}this.version=e.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function yh(s){const e=So(s);return fn.fromBytesLE(Array.from(e))}function s2(s){const e=new Uint8Array(s.toBytesLE());return Mo(e)}function i2(s){switch(s.type){case"FatalError":case"AuthError":case"ActionResponse":case"Ping":return{...s};case"MutationResponse":return s.success?{...s,ts:yh(s.ts)}:{...s};case"Transition":return{...s,startVersion:{...s.startVersion,ts:yh(s.startVersion.ts)},endVersion:{...s.endVersion,ts:yh(s.endVersion.ts)}}}}function a2(s){switch(s.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...s};case"Connect":return s.maxObservedTimestamp!==void 0?{...s,maxObservedTimestamp:s2(s.maxObservedTimestamp)}:{...s,maxObservedTimestamp:void 0}}}var r2=Object.defineProperty,o2=(s,e,t)=>e in s?r2(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Qt=(s,e,t)=>o2(s,typeof e!="symbol"?e+"":e,t);const l2=1e3,c2=1001,u2=1005,d2=4040;class h2{constructor(e,t,i,r){Qt(this,"socket"),Qt(this,"connectionCount"),Qt(this,"_hasEverConnected",!1),Qt(this,"lastCloseReason"),Qt(this,"initialBackoff"),Qt(this,"maxBackoff"),Qt(this,"retries"),Qt(this,"serverInactivityThreshold"),Qt(this,"reconnectDueToServerInactivityTimeout"),Qt(this,"uri"),Qt(this,"onOpen"),Qt(this,"onResume"),Qt(this,"onMessage"),Qt(this,"webSocketConstructor"),Qt(this,"logger"),this.webSocketConstructor=i,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.initialBackoff=100,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=3e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=e,this.onOpen=t.onOpen,this.onResume=t.onResume,this.onMessage=t.onMessage,this.logger=r,this.connect()}setSocketState(e){this.socket=e,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`)}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const e=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:e,paused:"no"}),this.resetServerInactivityTimeout(),e.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:e,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason})),this.lastCloseReason!=="InitialConnect"&&this.logger.log("WebSocket reconnected"),this.connectionCount+=1,this.lastCloseReason=null},e.onerror=t=>{const i=t.message;this.logger.log(`WebSocket error: ${i}`)},e.onmessage=t=>{this.resetServerInactivityTimeout();const i=i2(JSON.parse(t.data));this._logVerbose(`received ws message with type ${i.type}`),this.onMessage(i).hasSyncedPastLastReconnect&&(this.retries=0)},e.onclose=t=>{if(this._logVerbose("begin ws.onclose"),this.lastCloseReason===null&&(this.lastCloseReason=t.reason??"OnCloseInvoked"),t.code!==l2&&t.code!==c2&&t.code!==u2&&t.code!==d2){let i=`WebSocket closed with code ${t.code}`;t.reason&&(i+=`: ${t.reason}`),this.logger.log(i)}this.scheduleReconnect()}}socketState(){return this.socket.state}sendMessage(e){const t={type:e.type,...e.type==="Authenticate"&&e.tokenType==="User"?{value:`...${e.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const i=a2(e),r=JSON.stringify(i);try{this.socket.ws.send(r)}catch(l){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${l}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`sent message with type ${e.type}: ${JSON.stringify(t)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(t)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(){this.socket={state:"disconnected"};const e=this.nextBackoff();this.logger.log(`Attempting reconnect in ${e}ms`),setTimeout(()=>this.connect(),e)}closeAndReconnect(e){switch(this._logVerbose(`begin closeAndReconnect with reason ${e}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=e,this.close(),this.scheduleReconnect();return}default:this.socket}}close(){switch(this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const e=this.socket.ws;return new Promise(t=>{e.onclose=()=>{this._logVerbose("Closed after connecting"),t()},e.onopen=()=>{this._logVerbose("Opened after connecting"),e.close()}})}case"ready":{this._logVerbose("ws.close called");const e=this.socket.ws,t=new Promise(i=>{e.onclose=()=>{i()}});return e.close(),t}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const e=this.close();return this.setSocketState({state:"terminated"}),e}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const e=this.close();return this.socket={state:"stopped"},e}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(e){this.logger.logVerbose(e)}nextBackoff(){const e=this.initialBackoff*Math.pow(2,this.retries);this.retries+=1;const t=Math.min(e,this.maxBackoff),i=t*(Math.random()-.5);return t+i}}function f2(){return m2()}function m2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const e=Math.random()*16|0;return(s==="x"?e:e&3|8).toString(16)})}function Ph(s){this.message=s}Ph.prototype=new Error,Ph.prototype.name="InvalidCharacterError";var P0=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(s){var e=String(s).replace(/=+$/,"");if(e.length%4==1)throw new Ph("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,i,r=0,l=0,u="";i=e.charAt(l++);~i&&(t=r%4?64*t+i:i,r++%4)?u+=String.fromCharCode(255&t>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return u};function g2(s){var e=s.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(P0(t).replace(/(.)/g,function(i,r){var l=r.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}(e)}catch{return P0(e)}}function Oc(s){this.message=s}function p2(s,e){if(typeof s!="string")throw new Oc("Invalid token specified");var t=(e=e||{}).header===!0?0:1;try{return JSON.parse(g2(s.split(".")[t]))}catch(i){throw new Oc("Invalid token specified: "+i.message)}}Oc.prototype=new Error,Oc.prototype.name="InvalidTokenError";var y2=Object.defineProperty,x2=(s,e,t)=>e in s?y2(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Mn=(s,e,t)=>x2(s,typeof e!="symbol"?e+"":e,t);const b2=20*24*60*60*1e3,Y0=2;class v2{constructor(e,t,i){Mn(this,"authState",{state:"noAuth"}),Mn(this,"configVersion",0),Mn(this,"syncState"),Mn(this,"authenticate"),Mn(this,"stopSocket"),Mn(this,"tryRestartSocket"),Mn(this,"pauseSocket"),Mn(this,"resumeSocket"),Mn(this,"clearAuth"),Mn(this,"logger"),Mn(this,"refreshTokenLeewaySeconds"),Mn(this,"tokenConfirmationAttempts",0),this.syncState=e,this.authenticate=t.authenticate,this.stopSocket=t.stopSocket,this.tryRestartSocket=t.tryRestartSocket,this.pauseSocket=t.pauseSocket,this.resumeSocket=t.resumeSocket,this.clearAuth=t.clearAuth,this.logger=i.logger,this.refreshTokenLeewaySeconds=i.refreshTokenLeewaySeconds}async setConfig(e,t){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const i=await this.fetchTokenAndGuardAgainstRace(e,{forceRefreshToken:!1});i.isFromOutdatedConfig||(i.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:e,onAuthChange:t},hasRetried:!1}),this.authenticate(i.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:e,onAuthChange:t}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(e){if(this.syncState.isCurrentOrNewerAuthVersion(e.endVersion.identity)&&!(e.endVersion.identity<=e.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(e){if(e.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:t}=e;if(!this.syncState.isCurrentOrNewerAuthVersion(t+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(e)}async tryToReauthenticate(e){if(this._logVerbose(`attempting to reauthenticate: ${e.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=Y0){this.logger.error(`Failed to authenticate: "${e.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${Y0-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value&&this.syncState.isNewAuth(t.value)?(this.authenticate(t.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:t.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const e=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});e.isFromOutdatedConfig||(e.value?this.syncState.isNewAuth(e.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:e.value,config:this.authState.config}),this.authenticate(e.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(e){if(this.authState.state==="noAuth")return;const t=this.decodeToken(e);if(!t){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:i,exp:r}=t;if(!i||!r){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const l=r-i;if(l<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let u=Math.min(b2,(l-this.refreshTokenLeewaySeconds)*1e3);u<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${l}s`),u=0);const d=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},u);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:d,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${u}ms`)}async fetchTokenAndGuardAgainstRace(e,t){const i=++this.configVersion;this._logVerbose(`fetching token with config version ${i}`);const r=await e(t);return this.configVersion!==i?(this._logVerbose(`stale config version, expected ${i}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:r}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(e){e(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(e){const t=e.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:e.hadAuth,state:e.state,token:`...${e.token.slice(-7)}`}:{state:e.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(t)}`),e.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=e}decodeToken(e){try{return p2(e)}catch(t){return this._logVerbose(`Error decoding token: ${t instanceof Error?t.message:"Unknown error"}`),null}}_logVerbose(e){this.logger.logVerbose(`${e} [v${this.configVersion}]`)}}const w2=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function _2(s,e){const t={sessionId:e};typeof performance>"u"||!performance.mark||performance.mark(s,{detail:t})}function S2(s){let e=s.name.slice(6);return e=e.charAt(0).toLowerCase()+e.slice(1),{name:e,startTime:s.startTime}}function M2(s){if(typeof performance>"u"||!performance.getEntriesByName)return[];const e=[];for(const t of w2){const i=performance.getEntriesByName(t).filter(r=>r.entryType==="mark").filter(r=>r.detail.sessionId===s);e.push(...i)}return e.map(S2)}var N2=Object.defineProperty,A2=(s,e,t)=>e in s?N2(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Pt=(s,e,t)=>A2(s,typeof e!="symbol"?e+"":e,t);class j2{constructor(e,t,i){if(Pt(this,"address"),Pt(this,"state"),Pt(this,"requestManager"),Pt(this,"webSocketManager"),Pt(this,"authenticationManager"),Pt(this,"remoteQuerySet"),Pt(this,"optimisticQueryResults"),Pt(this,"_transitionHandlerCounter",0),Pt(this,"_nextRequestId"),Pt(this,"_onTransitionFns",new Map),Pt(this,"_sessionId"),Pt(this,"firstMessageReceived",!1),Pt(this,"debug"),Pt(this,"logger"),Pt(this,"maxObservedTimestamp"),Pt(this,"mark",b=>{this.debug&&_2(b,this.sessionId)}),typeof e=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(i==null?void 0:i.skipConvexDeploymentUrlCheck)!==!0&&xx(e),i={...i};const r=i.authRefreshTokenLeewaySeconds??2;let l=i.webSocketConstructor;if(!l&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");l=l||WebSocket,this.debug=i.reportDebugInfoToConvex??!1,this.address=e,this.logger=i.logger??of({verbose:i.verbose??!1});const u=e.search("://");if(u===-1)throw new Error("Provided address was not an absolute URL.");const d=e.substring(u+3),m=e.substring(0,u);let g;if(m==="http")g="ws";else if(m==="https")g="wss";else throw new Error(`Unknown parent protocol ${m}`);const y=`${g}://${d}/api/${Li}/sync`;this.state=new Hw,this.remoteQuerySet=new H0(b=>this.state.queryPath(b),this.logger),this.requestManager=new Vw(this.logger),this.authenticationManager=new v2(this.state,{authenticate:b=>{const w=this.state.setAuth(b);return this.webSocketManager.sendMessage(w),w.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:()=>{this.webSocketManager.pause(),this.state.pause()},resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:r}),this.optimisticQueryResults=new Ww,this.addOnTransitionHandler(b=>{t(b.queries.map(w=>w.token))}),this._nextRequestId=0,this._sessionId=f2();const{unsavedChangesWarning:x}=i;if(typeof window>"u"||typeof window.addEventListener>"u"){if(x===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else x!==!1&&window.addEventListener("beforeunload",b=>{if(this.requestManager.hasIncompleteRequests()){b.preventDefault();const w="Are you sure you want to leave? Your changes may not be saved.";return(b||window.event).returnValue=w,w}});this.webSocketManager=new h2(y,{onOpen:b=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...b,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const w=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new H0(j=>this.state.queryPath(j),this.logger);const[N,A]=this.state.restart(w);A&&this.webSocketManager.sendMessage(A),this.webSocketManager.sendMessage(N);for(const j of this.requestManager.restart())this.webSocketManager.sendMessage(j)},onResume:()=>{const[b,w]=this.state.resume();w&&this.webSocketManager.sendMessage(w),b&&this.webSocketManager.sendMessage(b);for(const N of this.requestManager.resume())this.webSocketManager.sendMessage(N)},onMessage:b=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),b.type){case"Transition":{this.observedTimestamp(b.endVersion.ts),this.authenticationManager.onTransition(b),this.remoteQuerySet.transition(b),this.state.transition(b);const w=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(w);break}case"MutationResponse":{b.success&&this.observedTimestamp(b.ts);const w=this.requestManager.onResponse(b);w!==null&&this.notifyOnQueryResultChanges(new Map([[w.requestId,w.result]]));break}case"ActionResponse":{this.requestManager.onResponse(b);break}case"AuthError":{this.authenticationManager.onAuthError(b);break}case"FatalError":{const w=qw(this.logger,b.error);throw this.webSocketManager.terminate(),w}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}}},l,this.logger),this.mark("convexClientConstructed")}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(e){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(e))&&(this.maxObservedTimestamp=e)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(e){const t=this.remoteQuerySet.remoteQueryResults(),i=new Map;for(const[l,u]of t){const d=this.state.queryToken(l);if(d!==null){const m={result:u,udfPath:this.state.queryPath(l),args:this.state.queryArgs(l)};i.set(d,m)}}const r=this.optimisticQueryResults.ingestQueryResultsFromServer(i,new Set(e.keys()));this.handleTransition({queries:r.map(l=>({token:l,modification:{kind:"Updated",result:i.get(l).result}})),reflectedMutations:Array.from(e).map(([l,u])=>({requestId:l,result:u})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(e){for(const t of this._onTransitionFns.values())t(e)}addOnTransitionHandler(e){const t=this._transitionHandlerCounter++;return this._onTransitionFns.set(t,e),()=>this._onTransitionFns.delete(t)}setAuth(e,t){this.authenticationManager.setConfig(e,t)}hasAuth(){return this.state.hasAuth()}setAdminAuth(e,t){const i=this.state.setAdminAuth(e,t);this.webSocketManager.sendMessage(i)}clearAuth(){const e=this.state.clearAuth();this.webSocketManager.sendMessage(e)}subscribe(e,t,i){const r=tn(t),{modification:l,queryToken:u,unsubscribe:d}=this.state.subscribe(e,r,i==null?void 0:i.journal,i==null?void 0:i.componentPath);return l!==null&&this.webSocketManager.sendMessage(l),{queryToken:u,unsubscribe:()=>{const m=d();m&&this.webSocketManager.sendMessage(m)}}}localQueryResult(e,t){const i=tn(t),r=Pi(e,i);return this.optimisticQueryResults.queryResult(r)}localQueryResultByToken(e){return this.optimisticQueryResults.queryResult(e)}hasLocalQueryResultByToken(e){return this.optimisticQueryResults.hasQueryResult(e)}localQueryLogs(e,t){const i=tn(t),r=Pi(e,i);return this.optimisticQueryResults.queryLogs(r)}queryJournal(e,t){const i=tn(t),r=Pi(e,i);return this.state.queryJournal(r)}connectionState(){const e=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:e.isConnected,hasEverConnected:e.hasEverConnected,connectionCount:e.connectionCount,connectionRetries:e.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest()}}async mutation(e,t,i){const r=await this.mutationInternal(e,t,i);if(!r.success)throw r.errorData!==void 0?Hh(r,new Bi(Ua("mutation",e,r))):new Error(Ua("mutation",e,r));return r.value}async mutationInternal(e,t,i,r){const{mutationPromise:l}=this.enqueueMutation(e,t,i,r);return l}enqueueMutation(e,t,i,r){const l=tn(t);this.tryReportLongDisconnect();const u=this.nextRequestId;if(this._nextRequestId++,i!==void 0){const y=i.optimisticUpdate;if(y!==void 0){const x=N=>{y(N,l)},w=this.optimisticQueryResults.applyOptimisticUpdate(x,u).map(N=>{const A=this.localQueryResultByToken(N);return{token:N,modification:{kind:"Updated",result:A===void 0?void 0:{success:!0,value:A,logLines:[]}}}});this.handleTransition({queries:w,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const d={type:"Mutation",requestId:u,udfPath:e,componentPath:r,args:[jn(l)]},m=this.webSocketManager.sendMessage(d),g=this.requestManager.request(d,m);return{requestId:u,mutationPromise:g}}async action(e,t){const i=await this.actionInternal(e,t);if(!i.success)throw i.errorData!==void 0?Hh(i,new Bi(Ua("action",e,i))):new Error(Ua("action",e,i));return i.value}async actionInternal(e,t,i){const r=tn(t),l=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const u={type:"Action",requestId:l,udfPath:e,componentPath:i,args:[jn(r)]},d=this.webSocketManager.sendMessage(u);return this.requestManager.request(u,d)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const e=M2(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:e})}}tryReportLongDisconnect(){if(!this.debug)return;const e=this.connectionState().timeOfOldestInflightRequest;if(e===null||Date.now()-e.getTime()<=60*1e3)return;const t=`${this.address}/api/debug_event`;fetch(t,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${Li}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(i=>{i.ok||this.logger.warn("Analytics request failed with response:",i.body)}).catch(i=>{this.logger.warn("Analytics response failed with error:",i)})}}var k2=Object.defineProperty,C2=(s,e,t)=>e in s?k2(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Ci=(s,e,t)=>C2(s,typeof e!="symbol"?e+"":e,t);const nc=560;class T2{constructor(e,t){if(Ci(this,"address"),Ci(this,"auth"),Ci(this,"adminAuth"),Ci(this,"encodedTsPromise"),Ci(this,"debug"),Ci(this,"fetchOptions"),Ci(this,"logger"),typeof t=="boolean")throw new Error("skipConvexDeploymentUrlCheck as the second argument is no longer supported. Please pass an options object, `{ skipConvexDeploymentUrlCheck: true }`.");const i=t??{};i.skipConvexDeploymentUrlCheck!==!0&&xx(e),this.logger=i.logger??of({verbose:!1}),this.address=e,this.debug=!0}backendUrl(){return`${this.address}/api`}get url(){return this.address}setAuth(e){this.clearAuth(),this.auth=e}setAdminAuth(e,t){if(this.clearAuth(),t!==void 0){const i=new TextEncoder().encode(JSON.stringify(t)),r=btoa(String.fromCodePoint(...i));this.adminAuth=`${e}:${r}`}else this.adminAuth=e}clearAuth(){this.auth=void 0,this.adminAuth=void 0}setDebug(e){this.debug=e}setFetchOptions(e){this.fetchOptions=e}async consistentQuery(e,...t){const i=tn(t[0]),r=this.getTimestamp();return await this.queryInner(e,i,{timestampPromise:r})}async getTimestamp(){return this.encodedTsPromise?this.encodedTsPromise:this.encodedTsPromise=this.getTimestampInner()}async getTimestampInner(){const e=fetch,t={"Content-Type":"application/json","Convex-Client":`npm-${Li}`},i=await e(`${this.address}/api/query_ts`,{...this.fetchOptions,method:"POST",headers:t});if(!i.ok)throw new Error(await i.text());const{ts:r}=await i.json();return r}async query(e,...t){const i=tn(t[0]);return await this.queryInner(e,i,{})}async queryInner(e,t,i){const r=Ot(e),l=[jn(t)],u={"Content-Type":"application/json","Convex-Client":`npm-${Li}`};this.adminAuth?u.Authorization=`Convex ${this.adminAuth}`:this.auth&&(u.Authorization=`Bearer ${this.auth}`);const d=fetch,m=i.timestampPromise?await i.timestampPromise:void 0,g=JSON.stringify({path:r,format:"convex_encoded_json",args:l,...m?{ts:m}:{}}),y=m?`${this.address}/api/query_at_ts`:`${this.address}/api/query`,x=await d(y,{...this.fetchOptions,body:g,method:"POST",headers:u});if(!x.ok&&x.status!==nc)throw new Error(await x.text());const b=await x.json();if(this.debug)for(const w of b.logLines??[])ni(this.logger,"info","query",r,w);switch(b.status){case"success":return Ln(b.value);case"error":throw b.errorData!==void 0?sc(b.errorData,new Bi(b.errorMessage)):new Error(b.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(b)}`)}}async mutation(e,...t){const i=tn(t[0]),r=Ot(e),l=JSON.stringify({path:r,format:"convex_encoded_json",args:[jn(i)]}),u={"Content-Type":"application/json","Convex-Client":`npm-${Li}`};this.adminAuth?u.Authorization=`Convex ${this.adminAuth}`:this.auth&&(u.Authorization=`Bearer ${this.auth}`);const m=await fetch(`${this.address}/api/mutation`,{...this.fetchOptions,body:l,method:"POST",headers:u});if(!m.ok&&m.status!==nc)throw new Error(await m.text());const g=await m.json();if(this.debug)for(const y of g.logLines??[])ni(this.logger,"info","mutation",r,y);switch(g.status){case"success":return Ln(g.value);case"error":throw g.errorData!==void 0?sc(g.errorData,new Bi(g.errorMessage)):new Error(g.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(g)}`)}}async action(e,...t){const i=tn(t[0]),r=Ot(e),l=JSON.stringify({path:r,format:"convex_encoded_json",args:[jn(i)]}),u={"Content-Type":"application/json","Convex-Client":`npm-${Li}`};this.adminAuth?u.Authorization=`Convex ${this.adminAuth}`:this.auth&&(u.Authorization=`Bearer ${this.auth}`);const m=await fetch(`${this.address}/api/action`,{...this.fetchOptions,body:l,method:"POST",headers:u});if(!m.ok&&m.status!==nc)throw new Error(await m.text());const g=await m.json();if(this.debug)for(const y of g.logLines??[])ni(this.logger,"info","action",r,y);switch(g.status){case"success":return Ln(g.value);case"error":throw g.errorData!==void 0?sc(g.errorData,new Bi(g.errorMessage)):new Error(g.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(g)}`)}}async function(e,t,...i){const r=tn(i[0]),l=typeof e=="string"?e:Ot(e),u=JSON.stringify({componentPath:t,path:l,format:"convex_encoded_json",args:jn(r)}),d={"Content-Type":"application/json","Convex-Client":`npm-${Li}`};this.adminAuth?d.Authorization=`Convex ${this.adminAuth}`:this.auth&&(d.Authorization=`Bearer ${this.auth}`);const g=await fetch(`${this.address}/api/function`,{...this.fetchOptions,body:u,method:"POST",headers:d});if(!g.ok&&g.status!==nc)throw new Error(await g.text());const y=await g.json();if(this.debug)for(const x of y.logLines??[])ni(this.logger,"info","any",l,x);switch(y.status){case"success":return Ln(y.value);case"error":throw y.errorData!==void 0?sc(y.errorData,new Bi(y.errorMessage)):new Error(y.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(y)}`)}}}function sc(s,e){return e.data=Ln(s),e}var Q=af();const ne=px(Q);var D2=yx();const cf=px(D2);var O2=Object.defineProperty,R2=(s,e,t)=>e in s?O2(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Ks=(s,e,t)=>R2(s,typeof e!="symbol"?e+"":e,t);if(typeof ne>"u")throw new Error("Required dependency 'react' not found");if(typeof cf>"u")throw new Error("Required dependency 'react-dom' not found");function Nx(s,e,t){function i(r){return B2(r),e.mutation(s,r,{optimisticUpdate:t})}return i.withOptimisticUpdate=function(l){if(t!==void 0)throw new Error(`Already specified optimistic update for mutation ${Ot(s)}`);return Nx(s,e,l)},i}function E2(s,e){return function(t){return e.action(s,t)}}class z2{constructor(e,t){if(Ks(this,"address"),Ks(this,"cachedSync"),Ks(this,"listeners"),Ks(this,"options"),Ks(this,"closed",!1),Ks(this,"_logger"),Ks(this,"adminAuth"),Ks(this,"fakeUserIdentity"),e===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof e!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof e} instead.`);if(!e.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=e,this.listeners=new Map,this._logger=(t==null?void 0:t.logger)??of({verbose:(t==null?void 0:t.verbose)??!1}),this.options={...t,logger:this._logger}}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new j2(this.address,e=>this.transition(e),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedSync)}setAuth(e,t){if(typeof e=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(e,t??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(e,t){if(this.adminAuth=e,this.fakeUserIdentity=t,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(e,t)}watchQuery(e,...t){const[i,r]=t,l=Ot(e);return{onUpdate:u=>{const{queryToken:d,unsubscribe:m}=this.sync.subscribe(l,i,r),g=this.listeners.get(d);return g!==void 0?g.add(u):this.listeners.set(d,new Set([u])),()=>{if(this.closed)return;const y=this.listeners.get(d);y.delete(u),y.size===0&&this.listeners.delete(d),m()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(l,i)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(l,i)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(l,i)}}}mutation(e,...t){const[i,r]=t,l=Ot(e);return this.sync.mutation(l,i,r)}action(e,...t){const i=Ot(e);return this.sync.action(i,...t)}query(e,...t){const i=this.watchQuery(e,...t),r=i.localQueryResult();return r!==void 0?Promise.resolve(r):new Promise((l,u)=>{const d=i.onUpdate(()=>{d();try{l(i.localQueryResult())}catch(m){u(m)}})})}connectionState(){return this.sync.connectionState()}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){const e=this.cachedSync;this.cachedSync=void 0,await e.close()}}transition(e){cf.unstable_batchedUpdates(()=>{for(const t of e){const i=this.listeners.get(t);if(i)for(const r of i)r()}})}}const Fc=ne.createContext(void 0);function q2(){return Q.useContext(Fc)}const L2=({client:s,children:e})=>ne.createElement(Fc.Provider,{value:s},e);function Ze(s,...e){const t=e[0]==="skip",i=e[0]==="skip"?{}:tn(e[0]),r=typeof s=="string"?lf(s):s,l=Ot(r),u=Q.useMemo(()=>t?{}:{query:{query:r,args:i}},[JSON.stringify(jn(i)),l,t]),m=I2(u).query;if(m instanceof Error)throw m;return m}function Fe(s){const e=typeof s=="string"?lf(s):s,t=Q.useContext(Fc);if(t===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return Q.useMemo(()=>Nx(e,t),[t,Ot(e)])}function Uc(s){const e=Q.useContext(Fc),t=typeof s=="string"?lf(s):s;if(e===void 0)throw new Error("Could not find Convex client! `useAction` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return Q.useMemo(()=>E2(t,e),[e,Ot(t)])}function B2(s){if(typeof s=="object"&&s!==null&&"bubbles"in s&&"persist"in s&&"isDefaultPrevented"in s)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var H2=Object.defineProperty,P2=(s,e,t)=>e in s?H2(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,xh=(s,e,t)=>P2(s,typeof e!="symbol"?e+"":e,t);class Y2{constructor(e){xh(this,"createWatch"),xh(this,"queries"),xh(this,"listeners"),this.createWatch=e,this.queries={},this.listeners=new Set}setQueries(e){for(const t of Object.keys(e)){const{query:i,args:r}=e[t];if(Ot(i),this.queries[t]===void 0)this.addQuery(t,i,r);else{const l=this.queries[t];(Ot(i)!==Ot(l.query)||JSON.stringify(jn(r))!==JSON.stringify(jn(l.args)))&&(this.removeQuery(t),this.addQuery(t,i,r))}}for(const t of Object.keys(this.queries))e[t]===void 0&&this.removeQuery(t)}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}getLocalResults(e){const t={};for(const i of Object.keys(e)){const{query:r,args:l}=e[i];Ot(r);const u=this.createWatch(r,l);let d;try{d=u.localQueryResult()}catch(m){if(m instanceof Error)d=m;else throw m}t[i]=d}return t}setCreateWatch(e){this.createWatch=e;for(const t of Object.keys(this.queries)){const{query:i,args:r,watch:l}=this.queries[t],u=l.journal();this.removeQuery(t),this.addQuery(t,i,r,u)}}destroy(){for(const e of Object.keys(this.queries))this.removeQuery(e);this.listeners=new Set}addQuery(e,t,i,r){if(this.queries[e]!==void 0)throw new Error(`Tried to add a new query with identifier ${e} when it already exists.`);const l=this.createWatch(t,i,r),u=l.onUpdate(()=>this.notifyListeners());this.queries[e]={query:t,args:i,watch:l,unsubscribe:u}}removeQuery(e){const t=this.queries[e];if(t===void 0)throw new Error(`No query found with identifier ${e}.`);t.unsubscribe(),delete this.queries[e]}notifyListeners(){for(const e of this.listeners)e()}}function V2({getCurrentValue:s,subscribe:e}){const[t,i]=Q.useState(()=>({getCurrentValue:s,subscribe:e,value:s()}));let r=t.value;return(t.getCurrentValue!==s||t.subscribe!==e)&&(r=s(),i({getCurrentValue:s,subscribe:e,value:r})),Q.useEffect(()=>{let l=!1;const u=()=>{l||i(m=>{if(m.getCurrentValue!==s||m.subscribe!==e)return m;const g=s();return m.value===g?m:{...m,value:g}})},d=e(u);return u(),()=>{l=!0,d()}},[s,e]),r}function I2(s){const e=q2();if(e===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const t=Q.useMemo(()=>(i,r,l)=>e.watchQuery(i,r,{journal:l}),[e]);return F2(s,t)}function F2(s,e){const[t]=Q.useState(()=>new Y2(e));t.createWatch!==e&&t.setCreateWatch(e),Q.useEffect(()=>()=>t.destroy(),[t]);const i=Q.useMemo(()=>({getCurrentValue:()=>t.getLocalResults(s),subscribe:r=>(t.setQueries(s),t.subscribe(r))}),[t,s]);return V2(i)}const U2=Q.createContext(void 0);function $2({children:s,client:e,useAuth:t}){const{isLoading:i,isAuthenticated:r,fetchAccessToken:l}=t(),[u,d]=Q.useState(null);return i&&u!==null&&d(null),!i&&!r&&u!==!1&&d(!1),ne.createElement(U2.Provider,{value:{isLoading:u===null,isAuthenticated:r&&(u??!1)}},ne.createElement(Q2,{authProviderAuthenticated:r,fetchAccessToken:l,authProviderLoading:i,client:e,setIsConvexAuthenticated:d}),ne.createElement(L2,{client:e},s),ne.createElement(X2,{authProviderAuthenticated:r,fetchAccessToken:l,authProviderLoading:i,client:e,setIsConvexAuthenticated:d}))}function Q2({authProviderAuthenticated:s,fetchAccessToken:e,authProviderLoading:t,client:i,setIsConvexAuthenticated:r}){return Q.useEffect(()=>{let l=!0;if(s)return i.setAuth(e,u=>{l&&r(()=>u)}),()=>{l=!1,r(u=>u?!1:null)}},[s,e,t,i,r]),null}function X2({authProviderAuthenticated:s,fetchAccessToken:e,authProviderLoading:t,client:i,setIsConvexAuthenticated:r}){return Q.useEffect(()=>{if(s)return()=>{i.clearAuth(),r(()=>null)}},[s,e,t,i,r]),null}const G2=Q.createContext(void 0),Ax=Q.createContext(void 0);function W2(){return Q.useContext(Ax)}const Z2=Q.createContext(null),bh="__convexAuthOAuthVerifier",ic="__convexAuthJWT",ac="__convexAuthRefreshToken",V0="__convexAuthServerStateFetchTime";function K2({client:s,serverState:e,onChange:t,storage:i,storageNamespace:r,replaceURL:l,children:u}){const d=Q.useRef((e==null?void 0:e._state.token)??null),[m,g]=Q.useState(d.current===null),[y,x]=Q.useState(d.current),b=s.verbose??!1,w=Q.useCallback(ce=>{b&&console.debug(`${new Date().toISOString()} ${ce}`)},[b]),{storageSet:N,storageGet:A,storageRemove:j,storageKey:M}=J2(i,r),[E,D]=Q.useState(!1),Y=Q.useCallback(async ce=>{const me=d.current!==null;let te;if(ce.tokens===null)d.current=null,ce.shouldStore&&(await j(ic),await j(ac)),te=null;else{const{token:R}=ce.tokens;if(d.current=R,ce.shouldStore){const{refreshToken:G}=ce.tokens;await N(ic,R),await N(ac,G)}te=R}me!==(te!==null)&&await(t==null?void 0:t()),x(te),g(!1)},[N,j]);Q.useEffect(()=>{const ce=async me=>{if(E){me.preventDefault();const te="Are you sure you want to leave? Your changes may not be saved.";return me.returnValue=!0,te}};return I0("beforeunload",ce),()=>{F0("beforeunload",ce)}}),Q.useEffect(()=>{const ce=me=>{(async()=>{if(me.storageArea===i&&me.key===M(ic)){const te=me.newValue;w(`synced access token, is null: ${te===null}`),await Y({shouldStore:!1,tokens:te===null?null:{token:te}})}})()};return I0("storage",ce),()=>F0("storage",ce)},[Y]);const S=Q.useCallback(async ce=>{const{tokens:me}=await s.unauthenticatedCall("auth:signIn","code"in ce?{params:{code:ce.code},verifier:ce.verifier}:ce);return w(`retrieved tokens, is null: ${me===null}`),await Y({shouldStore:!0,tokens:me??null}),me!==null},[s,Y]),T=Q.useCallback(async(ce,me)=>{const te=me instanceof FormData?Array.from(me.entries()).reduce((se,[ue,C])=>(se[ue]=C,se),{}):me??{},R=await A(bh)??void 0;await j(bh);const G=await s.authenticatedCall("auth:signIn",{provider:ce,params:te,verifier:R});if(G.redirect!==void 0){const se=new URL(G.redirect);return await N(bh,G.verifier),window.location!==void 0&&(window.location.href=se.toString()),{signingIn:!1,redirect:se}}else if(G.tokens!==void 0){const{tokens:se}=G;return w(`signed in and got tokens, is null: ${se===null}`),await Y({shouldStore:!0,tokens:se}),{signingIn:G.tokens!==null}}return{signingIn:!1}},[s,Y,A]),$=Q.useCallback(async()=>{try{await s.authenticatedCall("auth:signOut")}catch{}w("signed out, erasing tokens"),await Y({shouldStore:!0,tokens:null})},[Y,s]),I=Q.useCallback(async({forceRefreshToken:ce})=>{if(ce){const me=d.current;return await t_(ac,async()=>{const te=d.current;if(te!==me)return w(`returning synced token, is null: ${te===null}`),te;const R=await A(ac)??null;return R!==null?(D(!0),await S({refreshToken:R}).finally(()=>{D(!1)}),w(`returning retrieved token, is null: ${te===null}`),d.current):(D(!1),w("returning null, there is no refresh token"),null)})}return d.current},[S,$,A]),q=Q.useRef(!1);Q.useEffect(()=>{if(i===void 0)throw new Error("`localStorage` is not available in this environment, set the `storage` prop on `ConvexAuthProvider`!");const ce=async()=>{const te=await A(ic)??null;w(`retrieved token from storage, is null: ${te===null}`),await Y({shouldStore:!1,tokens:te===null?null:{token:te}})};if(e!==void 0){const te=A(V0),R=G=>{if(!G||e._timeFetched>+G){const{token:se,refreshToken:ue}=e._state,C=se===null||ue===null?null:{token:se,refreshToken:ue};N(V0,e._timeFetched.toString()),Y({tokens:C,shouldStore:!0})}else ce()};te instanceof Promise?te.then(R):R(te);return}const me=typeof(window==null?void 0:window.location)<"u"?new URLSearchParams(window.location.search).get("code"):null;if(q.current||me){if(me&&!q.current){q.current=!0;const te=new URL(window.location.href);te.searchParams.delete("code"),(async()=>(await l(te.pathname+te.search+te.hash),await T(void 0,{code:me}),q.current=!1))()}}else ce()},[s,A]);const L=Q.useMemo(()=>({signIn:T,signOut:$}),[T,$]),J=y!==null,oe=Q.useMemo(()=>({isLoading:m,isAuthenticated:J,fetchAccessToken:I}),[I,m,J]);return h.jsx(Ax.Provider,{value:oe,children:h.jsx(G2.Provider,{value:L,children:h.jsx(Z2.Provider,{value:y,children:u})})})}function J2(s,e){const t=e_(),i=Q.useMemo(()=>s??t(),[s]),r=e.replace(/[^a-zA-Z0-9]/g,""),l=Q.useCallback(g=>`${g}_${r}`,[e]),u=Q.useCallback((g,y)=>i.setItem(l(g),y),[i,l]),d=Q.useCallback(g=>i.getItem(l(g)),[i,l]),m=Q.useCallback(g=>i.removeItem(l(g)),[i,l]);return{storageSet:u,storageGet:d,storageRemove:m,storageKey:l}}function e_(){const[s,e]=Q.useState({});return()=>({getItem:t=>s[t],setItem:(t,i)=>{e(r=>({...r,[t]:i}))},removeItem:t=>{e(i=>{const{[t]:r,...l}=i;return l})}})}async function t_(s,e){var i;const t=(i=window==null?void 0:window.navigator)==null?void 0:i.locks;return t!==void 0?await t.request(s,e):await n_(s,e)}function rc(s){globalThis.__convexAuthMutexes===void 0&&(globalThis.__convexAuthMutexes={});let e=globalThis.__convexAuthMutexes[s];return e===void 0&&(globalThis.__convexAuthMutexes[s]={currentlyRunning:null,waiting:[]}),e=globalThis.__convexAuthMutexes[s],e}function vh(s,e){globalThis.__convexAuthMutexes[s]=e}async function jx(s,e){const t=rc(s);t.currentlyRunning===null?vh(s,{currentlyRunning:e().finally(()=>{const i=rc(s).waiting.shift();rc(s).currentlyRunning=null,vh(s,{...rc(s),currentlyRunning:i===void 0?null:jx(s,i)})}),waiting:[]}):vh(s,{...t,waiting:[...t.waiting,e]})}async function n_(s,e){return new Promise((i,r)=>{jx(s,()=>e().then(u=>i(u)).catch(u=>r(u)))})}function I0(s,e,t){var i;(i=window.addEventListener)==null||i.call(window,s,e,t)}function F0(s,e,t){var i;(i=window.removeEventListener)==null||i.call(window,s,e,t)}function s_(s){const{client:e,storage:t,storageNamespace:i,replaceURL:r,children:l}=s,u=Q.useMemo(()=>{var d;return{authenticatedCall(m,g){return e.action(m,g)},unauthenticatedCall(m,g){return new T2(e.address).action(m,g)},verbose:(d=e.options)==null?void 0:d.verbose}},[e]);return h.jsx(K2,{client:u,storage:t??(typeof window>"u"||window==null?void 0:window.localStorage),storageNamespace:i??e.address,replaceURL:r??(d=>{window.history.replaceState({},"",d)}),children:h.jsx($2,{client:e,useAuth:W2,children:l})})}const fe=Qw;function i_(s){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}const a_=s=>{switch(s){case"success":return l_;case"info":return u_;case"warning":return c_;case"error":return d_;default:return null}},r_=Array(12).fill(0),o_=({visible:s,className:e})=>ne.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":s},ne.createElement("div",{className:"sonner-spinner"},r_.map((t,i)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),l_=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),c_=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),u_=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),d_=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),h_=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),f_=()=>{const[s,e]=ne.useState(document.hidden);return ne.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),s};let Yh=1;class m_{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:i,...r}=e,l=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Yh++,u=this.toasts.find(m=>m.id===l),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(m=>m.id===l?(this.publish({...m,...e,id:l,title:i}),{...m,...e,id:l,dismissible:d,title:i}):m):this.addToast({title:i,...r,dismissible:d,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(i=>i({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let i;t.loading!==void 0&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let l=i!==void 0,u;const d=r.then(async g=>{if(u=["resolve",g],ne.isValidElement(g))l=!1,this.create({id:i,type:"default",message:g});else if(p_(g)&&!g.ok){l=!1;const x=typeof t.error=="function"?await t.error(`HTTP error! status: ${g.status}`):t.error,b=typeof t.description=="function"?await t.description(`HTTP error! status: ${g.status}`):t.description,N=typeof x=="object"&&!ne.isValidElement(x)?x:{message:x};this.create({id:i,type:"error",description:b,...N})}else if(g instanceof Error){l=!1;const x=typeof t.error=="function"?await t.error(g):t.error,b=typeof t.description=="function"?await t.description(g):t.description,N=typeof x=="object"&&!ne.isValidElement(x)?x:{message:x};this.create({id:i,type:"error",description:b,...N})}else if(t.success!==void 0){l=!1;const x=typeof t.success=="function"?await t.success(g):t.success,b=typeof t.description=="function"?await t.description(g):t.description,N=typeof x=="object"&&!ne.isValidElement(x)?x:{message:x};this.create({id:i,type:"success",description:b,...N})}}).catch(async g=>{if(u=["reject",g],t.error!==void 0){l=!1;const y=typeof t.error=="function"?await t.error(g):t.error,x=typeof t.description=="function"?await t.description(g):t.description,w=typeof y=="object"&&!ne.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:x,...w})}}).finally(()=>{l&&(this.dismiss(i),i=void 0),t.finally==null||t.finally.call(t)}),m=()=>new Promise((g,y)=>d.then(()=>u[0]==="reject"?y(u[1]):g(u[1])).catch(y));return typeof i!="string"&&typeof i!="number"?{unwrap:m}:Object.assign(i,{unwrap:m})},this.custom=(e,t)=>{const i=(t==null?void 0:t.id)||Yh++;return this.create({jsx:e(i),id:i,...t}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const en=new m_,g_=(s,e)=>{const t=(e==null?void 0:e.id)||Yh++;return en.addToast({title:s,...e,id:t}),t},p_=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",y_=g_,x_=()=>en.toasts,b_=()=>en.getActiveToasts(),ie=Object.assign(y_,{success:en.success,info:en.info,warning:en.warning,error:en.error,custom:en.custom,message:en.message,promise:en.promise,dismiss:en.dismiss,loading:en.loading},{getHistory:x_,getToasts:b_});i_("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function oc(s){return s.label!==void 0}const v_=3,w_="24px",__="16px",U0=4e3,S_=356,M_=14,N_=45,A_=200;function Xn(...s){return s.filter(Boolean).join(" ")}function j_(s){const[e,t]=s.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}const k_=s=>{var e,t,i,r,l,u,d,m,g;const{invert:y,toast:x,unstyled:b,interacting:w,setHeights:N,visibleToasts:A,heights:j,index:M,toasts:E,expanded:D,removeToast:Y,defaultRichColors:S,closeButton:T,style:$,cancelButtonStyle:I,actionButtonStyle:q,className:L="",descriptionClassName:J="",duration:oe,position:ce,gap:me,expandByDefault:te,classNames:R,icons:G,closeButtonAriaLabel:se="Close toast"}=s,[ue,C]=ne.useState(null),[F,ee]=ne.useState(null),[K,le]=ne.useState(!1),[xe,re]=ne.useState(!1),[Ue,De]=ne.useState(!1),[Lt,Dn]=ne.useState(!1),[ss,is]=ne.useState(!1),[ks,Hn]=ne.useState(0),[ae,Ce]=ne.useState(0),pt=ne.useRef(x.duration||oe||U0),Wi=ne.useRef(null),Ft=ne.useRef(null),Pn=M===0,as=M+1<=A,Nt=x.type,mn=x.dismissible!==!1,Zi=x.className||"",Ki=x.descriptionClassName||"",sn=ne.useMemo(()=>j.findIndex(we=>we.toastId===x.id)||0,[j,x.id]),Me=ne.useMemo(()=>{var we;return(we=x.closeButton)!=null?we:T},[x.closeButton,T]),Ut=ne.useMemo(()=>x.duration||oe||U0,[x.duration,oe]),At=ne.useRef(0),rs=ne.useRef(0),Ji=ne.useRef(0),On=ne.useRef(null),[ea,ta]=ce.split("-"),Yn=ne.useMemo(()=>j.reduce((we,ot,yt)=>yt>=sn?we:we+ot.height,0),[j,sn]),ci=f_(),ui=x.invert||y,nr=Nt==="loading";rs.current=ne.useMemo(()=>sn*me+Yn,[sn,Yn]),ne.useEffect(()=>{pt.current=Ut},[Ut]),ne.useEffect(()=>{le(!0)},[]),ne.useEffect(()=>{const we=Ft.current;if(we){const ot=we.getBoundingClientRect().height;return Ce(ot),N(yt=>[{toastId:x.id,height:ot,position:x.position},...yt]),()=>N(yt=>yt.filter(Rt=>Rt.toastId!==x.id))}},[N,x.id]),ne.useLayoutEffect(()=>{if(!K)return;const we=Ft.current,ot=we.style.height;we.style.height="auto";const yt=we.getBoundingClientRect().height;we.style.height=ot,Ce(yt),N(Rt=>Rt.find(vt=>vt.toastId===x.id)?Rt.map(vt=>vt.toastId===x.id?{...vt,height:yt}:vt):[{toastId:x.id,height:yt,position:x.position},...Rt])},[K,x.title,x.description,N,x.id]);const Rn=ne.useCallback(()=>{re(!0),Hn(rs.current),N(we=>we.filter(ot=>ot.toastId!==x.id)),setTimeout(()=>{Y(x)},A_)},[x,Y,N,rs]);ne.useEffect(()=>{if(x.promise&&Nt==="loading"||x.duration===1/0||x.type==="loading")return;let we;return D||w||ci?(()=>{if(Ji.current<At.current){const Rt=new Date().getTime()-At.current;pt.current=pt.current-Rt}Ji.current=new Date().getTime()})():(()=>{pt.current!==1/0&&(At.current=new Date().getTime(),we=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),Rn()},pt.current))})(),()=>clearTimeout(we)},[D,w,x,Nt,ci,Rn]),ne.useEffect(()=>{x.delete&&Rn()},[Rn,x.delete]);function Io(){var we;if(G!=null&&G.loading){var ot;return ne.createElement("div",{className:Xn(R==null?void 0:R.loader,x==null||(ot=x.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":Nt==="loading"},G.loading)}return ne.createElement(o_,{className:Xn(R==null?void 0:R.loader,x==null||(we=x.classNames)==null?void 0:we.loader),visible:Nt==="loading"})}const sr=x.icon||(G==null?void 0:G[Nt])||a_(Nt);var Cs,Fo;return ne.createElement("li",{tabIndex:0,ref:Ft,className:Xn(L,Zi,R==null?void 0:R.toast,x==null||(e=x.classNames)==null?void 0:e.toast,R==null?void 0:R.default,R==null?void 0:R[Nt],x==null||(t=x.classNames)==null?void 0:t[Nt]),"data-sonner-toast":"","data-rich-colors":(Cs=x.richColors)!=null?Cs:S,"data-styled":!(x.jsx||x.unstyled||b),"data-mounted":K,"data-promise":!!x.promise,"data-swiped":ss,"data-removed":xe,"data-visible":as,"data-y-position":ea,"data-x-position":ta,"data-index":M,"data-front":Pn,"data-swiping":Ue,"data-dismissible":mn,"data-type":Nt,"data-invert":ui,"data-swipe-out":Lt,"data-swipe-direction":F,"data-expanded":!!(D||te&&K),style:{"--index":M,"--toasts-before":M,"--z-index":E.length-M,"--offset":`${xe?ks:rs.current}px`,"--initial-height":te?"auto":`${ae}px`,...$,...x.style},onDragEnd:()=>{De(!1),C(null),On.current=null},onPointerDown:we=>{nr||!mn||(Wi.current=new Date,Hn(rs.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(De(!0),On.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,ot,yt;if(Lt||!mn)return;On.current=null;const Rt=Number(((we=Ft.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),di=Number(((ot=Ft.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vt=new Date().getTime()-((yt=Wi.current)==null?void 0:yt.getTime()),lt=ue==="x"?Rt:di,ct=Math.abs(lt)/vt;if(Math.abs(lt)>=N_||ct>.11){Hn(rs.current),x.onDismiss==null||x.onDismiss.call(x,x),ee(ue==="x"?Rt>0?"right":"left":di>0?"down":"up"),Rn(),Dn(!0);return}else{var Qe,jt;(Qe=Ft.current)==null||Qe.style.setProperty("--swipe-amount-x","0px"),(jt=Ft.current)==null||jt.style.setProperty("--swipe-amount-y","0px")}is(!1),De(!1),C(null)},onPointerMove:we=>{var ot,yt,Rt;if(!On.current||!mn||((ot=window.getSelection())==null?void 0:ot.toString().length)>0)return;const vt=we.clientY-On.current.y,lt=we.clientX-On.current.x;var ct;const Qe=(ct=s.swipeDirections)!=null?ct:j_(ce);!ue&&(Math.abs(lt)>1||Math.abs(vt)>1)&&C(Math.abs(lt)>Math.abs(vt)?"x":"y");let jt={x:0,y:0};const na=os=>1/(1.5+Math.abs(os)/20);if(ue==="y"){if(Qe.includes("top")||Qe.includes("bottom"))if(Qe.includes("top")&&vt<0||Qe.includes("bottom")&&vt>0)jt.y=vt;else{const os=vt*na(vt);jt.y=Math.abs(os)<Math.abs(vt)?os:vt}}else if(ue==="x"&&(Qe.includes("left")||Qe.includes("right")))if(Qe.includes("left")&&lt<0||Qe.includes("right")&&lt>0)jt.x=lt;else{const os=lt*na(lt);jt.x=Math.abs(os)<Math.abs(lt)?os:lt}(Math.abs(jt.x)>0||Math.abs(jt.y)>0)&&is(!0),(yt=Ft.current)==null||yt.style.setProperty("--swipe-amount-x",`${jt.x}px`),(Rt=Ft.current)==null||Rt.style.setProperty("--swipe-amount-y",`${jt.y}px`)}},Me&&!x.jsx&&Nt!=="loading"?ne.createElement("button",{"aria-label":se,"data-disabled":nr,"data-close-button":!0,onClick:nr||!mn?()=>{}:()=>{Rn(),x.onDismiss==null||x.onDismiss.call(x,x)},className:Xn(R==null?void 0:R.closeButton,x==null||(i=x.classNames)==null?void 0:i.closeButton)},(Fo=G==null?void 0:G.close)!=null?Fo:h_):null,(Nt||x.icon||x.promise)&&x.icon!==null&&((G==null?void 0:G[Nt])!==null||x.icon)?ne.createElement("div",{"data-icon":"",className:Xn(R==null?void 0:R.icon,x==null||(r=x.classNames)==null?void 0:r.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Io():null,x.type!=="loading"?sr:null):null,ne.createElement("div",{"data-content":"",className:Xn(R==null?void 0:R.content,x==null||(l=x.classNames)==null?void 0:l.content)},ne.createElement("div",{"data-title":"",className:Xn(R==null?void 0:R.title,x==null||(u=x.classNames)==null?void 0:u.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?ne.createElement("div",{"data-description":"",className:Xn(J,Ki,R==null?void 0:R.description,x==null||(d=x.classNames)==null?void 0:d.description)},typeof x.description=="function"?x.description():x.description):null),ne.isValidElement(x.cancel)?x.cancel:x.cancel&&oc(x.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||I,onClick:we=>{oc(x.cancel)&&mn&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,we),Rn())},className:Xn(R==null?void 0:R.cancelButton,x==null||(m=x.classNames)==null?void 0:m.cancelButton)},x.cancel.label):null,ne.isValidElement(x.action)?x.action:x.action&&oc(x.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||q,onClick:we=>{oc(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,we),!we.defaultPrevented&&Rn())},className:Xn(R==null?void 0:R.actionButton,x==null||(g=x.classNames)==null?void 0:g.actionButton)},x.action.label):null)};function $0(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function C_(s,e){const t={};return[s,e].forEach((i,r)=>{const l=r===1,u=l?"--mobile-offset":"--offset",d=l?__:w_;function m(g){["top","right","bottom","left"].forEach(y=>{t[`${u}-${y}`]=typeof g=="number"?`${g}px`:g})}typeof i=="number"||typeof i=="string"?m(i):typeof i=="object"?["top","right","bottom","left"].forEach(g=>{i[g]===void 0?t[`${u}-${g}`]=d:t[`${u}-${g}`]=typeof i[g]=="number"?`${i[g]}px`:i[g]}):m(d)}),t}const Vh=ne.forwardRef(function(e,t){const{invert:i,position:r="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:d,className:m,offset:g,mobileOffset:y,theme:x="light",richColors:b,duration:w,style:N,visibleToasts:A=v_,toastOptions:j,dir:M=$0(),gap:E=M_,icons:D,containerAriaLabel:Y="Notifications"}=e,[S,T]=ne.useState([]),$=ne.useMemo(()=>Array.from(new Set([r].concat(S.filter(F=>F.position).map(F=>F.position)))),[S,r]),[I,q]=ne.useState([]),[L,J]=ne.useState(!1),[oe,ce]=ne.useState(!1),[me,te]=ne.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=ne.useRef(null),G=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=ne.useRef(null),ue=ne.useRef(!1),C=ne.useCallback(F=>{T(ee=>{var K;return(K=ee.find(le=>le.id===F.id))!=null&&K.delete||en.dismiss(F.id),ee.filter(({id:le})=>le!==F.id)})},[]);return ne.useEffect(()=>en.subscribe(F=>{if(F.dismiss){requestAnimationFrame(()=>{T(ee=>ee.map(K=>K.id===F.id?{...K,delete:!0}:K))});return}setTimeout(()=>{cf.flushSync(()=>{T(ee=>{const K=ee.findIndex(le=>le.id===F.id);return K!==-1?[...ee.slice(0,K),{...ee[K],...F},...ee.slice(K+1)]:[F,...ee]})})})}),[S]),ne.useEffect(()=>{if(x!=="system"){te(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;const F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:ee})=>{te(ee?"dark":"light")})}catch{F.addListener(({matches:K})=>{try{te(K?"dark":"light")}catch(le){console.error(le)}})}},[x]),ne.useEffect(()=>{S.length<=1&&J(!1)},[S]),ne.useEffect(()=>{const F=ee=>{var K;if(l.every(re=>ee[re]||ee.code===re)){var xe;J(!0),(xe=R.current)==null||xe.focus()}ee.code==="Escape"&&(document.activeElement===R.current||(K=R.current)!=null&&K.contains(document.activeElement))&&J(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[l]),ne.useEffect(()=>{if(R.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,ue.current=!1)}},[R.current]),ne.createElement("section",{ref:t,"aria-label":`${Y} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((F,ee)=>{var K;const[le,xe]=F.split("-");return S.length?ne.createElement("ol",{key:F,dir:M==="auto"?$0():M,tabIndex:-1,ref:R,className:m,"data-sonner-toaster":!0,"data-sonner-theme":me,"data-y-position":le,"data-lifted":L&&S.length>1&&!u,"data-x-position":xe,style:{"--front-toast-height":`${((K=I[0])==null?void 0:K.height)||0}px`,"--width":`${S_}px`,"--gap":`${E}px`,...N,...C_(g,y)},onBlur:re=>{ue.current&&!re.currentTarget.contains(re.relatedTarget)&&(ue.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,se.current=re.relatedTarget)},onMouseEnter:()=>J(!0),onMouseMove:()=>J(!0),onMouseLeave:()=>{oe||J(!1)},onDragEnd:()=>J(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||ce(!0)},onPointerUp:()=>ce(!1)},S.filter(re=>!re.position&&ee===0||re.position===F).map((re,Ue)=>{var De,Lt;return ne.createElement(k_,{key:re.id,icons:D,index:Ue,toast:re,defaultRichColors:b,duration:(De=j==null?void 0:j.duration)!=null?De:w,className:j==null?void 0:j.className,descriptionClassName:j==null?void 0:j.descriptionClassName,invert:i,visibleToasts:A,closeButton:(Lt=j==null?void 0:j.closeButton)!=null?Lt:d,interacting:oe,position:F,style:j==null?void 0:j.style,unstyled:j==null?void 0:j.unstyled,classNames:j==null?void 0:j.classNames,cancelButtonStyle:j==null?void 0:j.cancelButtonStyle,actionButtonStyle:j==null?void 0:j.actionButtonStyle,closeButtonAriaLabel:j==null?void 0:j.closeButtonAriaLabel,removeToast:C,toasts:S.filter(Dn=>Dn.position==re.position),heights:I.filter(Dn=>Dn.position==re.position),setHeights:q,expandByDefault:u,gap:E,expanded:L,swipeDirections:e.swipeDirections})})):null}))});/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D_=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Q0=s=>{const e=D_(s);return e.charAt(0).toUpperCase()+e.slice(1)},kx=(...s)=>s.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),O_=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=Q.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:l,iconNode:u,...d},m)=>Q.createElement("svg",{ref:m,...R_,width:e,height:e,stroke:s,strokeWidth:i?Number(t)*24/Number(e):t,className:kx("lucide",r),...!l&&!O_(d)&&{"aria-hidden":"true"},...d},[...u.map(([g,y])=>Q.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(s,e)=>{const t=Q.forwardRef(({className:i,...r},l)=>Q.createElement(E_,{ref:l,iconNode:e,className:kx(`lucide-${T_(Q0(s))}`,`lucide-${s}`,i),...r}));return t.displayName=Q0(s),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],q_=ge("arrow-left",z_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],B_=ge("bell-ring",L_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Cx=ge("bell",H_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],uf=ge("building-2",P_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Tx=ge("building",Y_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$c=ge("calendar",V_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],F_=ge("chart-no-axes-column",I_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],X0=ge("check",U_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dx=ge("circle-alert",$_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yi=ge("circle-check-big",Q_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],G_=ge("circle-user",X_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$a=ge("circle-x",W_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Rc=ge("clock",Z_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],J_=ge("copy",K_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ec=ge("crown",eS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],yo=ge("download",tS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],sS=ge("external-link",nS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Qa=ge("eye-off",iS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ri=ge("eye",aS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],oS=ge("file-down",rS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],cS=ge("file-spreadsheet",lS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Za=ge("file-text",uS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ox=ge("history",dS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Rx=ge("info",hS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],mS=ge("loader-circle",fS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jo=ge("lock",gS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],yS=ge("log-in",pS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bS=ge("log-out",xS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],wS=ge("mail",vS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],SS=ge("message-square",_S);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],NS=ge("pause",MS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],jS=ge("pen-line",AS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ex=ge("pen",kS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],df=ge("play",CS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],DS=ge("plus",TS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],RS=ge("printer",OS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zS=ge("refresh-cw",ES);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],LS=ge("save",qS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zx=ge("settings",BS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qc=ge("shield",HS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],YS=ge("square-check-big",PS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],IS=ge("square-pen",VS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],US=ge("target",FS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ko=ge("trash-2",$S);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],XS=ge("trending-up",QS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qx=ge("triangle-alert",GS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Lx=ge("upload",WS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Sc=ge("user-plus",ZS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Co=ge("user",KS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xc=ge("users",JS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],tM=ge("volume-2",eM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],sM=ge("volume-x",nM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$i=ge("x",iM);function Bx({onLogin:s}){const[e,t]=Q.useState(""),[i,r]=Q.useState(""),[l,u]=Q.useState(!1),[d,m]=Q.useState(!1),[g,y]=Q.useState(!1),[x,b]=Q.useState(""),[w,N]=Q.useState(""),[A,j]=Q.useState(!1),[M,E]=Q.useState({name:"",email:"",password:""}),D=Fe(fe.simpleAuth.signIn),Y=Uc(fe.users.setupFirstTimePassword),S=Fe(fe.simpleAuth.signUp),T=async q=>{if(q.preventDefault(),!e.trim()||!i.trim()){ie.error("Please enter both email and password");return}m(!0);try{const L=await D({email:e.trim(),password:i});if(L.success&&L.user){if(L.user.requiresPasswordSetup){y(!0),m(!1);return}s(L.user),ie.success(`Welcome back, ${L.user.name||L.user.email}!`)}else ie.error(L.message||"Login failed")}catch(L){console.error("Login error:",L),ie.error("Login failed. Please try again.")}finally{m(!1)}},$=async q=>{if(q.preventDefault(),!x.trim()||!w.trim()){ie.error("Please enter both password fields");return}if(x!==w){ie.error("Passwords do not match");return}if(x.length<6){ie.error("Password must be at least 6 characters long");return}m(!0);try{await Y({email:e.trim(),temporaryPassword:i,newPassword:x}),ie.success("Password set successfully! Please log in with your new password."),y(!1),r(""),b(""),N("")}catch(L){console.error("Password setup error:",L),ie.error(`Failed to set password: ${L.message}`)}finally{m(!1)}},I=async q=>{if(q.preventDefault(),!M.name.trim()||!M.email.trim()||!M.password.trim()){ie.error("Please fill in all fields");return}m(!0);try{const L=await S({name:M.name.trim(),email:M.email.trim(),password:M.password});L.success?(ie.success("Request submitted! Await admin approval."),j(!1),E({name:"",email:"",password:""})):ie.error(L.message||"Request failed")}catch{ie.error("Request failed. Please try again.")}finally{m(!1)}};return g?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100 mb-4",children:h.jsx(jo,{size:24,className:"text-blue-600"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Set Your Password"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Please set a new password for your account"})]}),h.jsxs("form",{onSubmit:$,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),h.jsx("input",{type:"password",value:x,onChange:q=>b(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your new password",required:!0,minLength:6})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),h.jsx("input",{type:"password",value:w,onChange:q=>N(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your new password",required:!0,minLength:6})]}),h.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Setting Password..."]}):h.jsxs(h.Fragment,{children:[h.jsx(jo,{size:16}),"Set Password"]})}),h.jsx("button",{type:"button",onClick:()=>{y(!1),r(""),b(""),N("")},className:"w-full text-gray-600 py-2 px-4 rounded-md hover:bg-gray-100 focus:outline-none",children:"Back to Login"})]})]})}):A?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100 mb-4",children:h.jsx(Sc,{size:24,className:"text-blue-600"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Request Access"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Fill in your details to request access. An admin will review your request."})]}),h.jsxs("form",{onSubmit:I,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),h.jsx("input",{type:"text",value:M.name,onChange:q=>E(L=>({...L,name:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your name",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),h.jsx("input",{type:"email",value:M.email,onChange:q=>E(L=>({...L,email:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsx("input",{type:"password",value:M.password,onChange:q=>E(L=>({...L,password:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Create a password",required:!0,minLength:6})]}),h.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submitting..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Sc,{size:16}),"Submit Request"]})}),h.jsx("button",{type:"button",onClick:()=>j(!1),className:"w-full text-gray-600 py-2 px-4 rounded-md hover:bg-gray-100 focus:outline-none",children:"Back to Login"})]})]})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100 mb-4",children:h.jsx(Co,{size:24,className:"text-blue-600"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"RFC Platform"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),h.jsxs("form",{onSubmit:T,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),h.jsx("input",{type:"email",value:e,onChange:q=>t(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:l?"text":"password",value:i,onChange:q=>r(q.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password",required:!0}),h.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?h.jsx(Qa,{size:16}):h.jsx(ri,{size:16})})]})]}),h.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Signing In..."]}):h.jsxs(h.Fragment,{children:[h.jsx(yS,{size:16}),"Sign In"]})})]}),h.jsxs("div",{className:"mt-6 text-center",children:[h.jsxs("button",{onClick:()=>j(!0),className:"text-blue-600 hover:underline flex items-center gap-1 justify-center",children:[h.jsx(Sc,{size:16}),"Request Access"]}),h.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Need an account? Contact your administrator."})]})]})})}const ht={title:"أدخل عنوان واضح ومختصر لطلب التغيير",description:"اكتب وصف مفصل للتغيير المطلوب وأسبابه",assignedTo:"اختر الشخص المسؤول عن تنفيذ هذا التغيير",requestedByDepartment:"حدد القسم الذي يطلب هذا التغيير",reasonForChange:"اشرح الأسباب التفصيلية وراء الحاجة لهذا التغيير",riskAssessment:"هل يتطلب هذا التغيير تقييم مخاطر؟",impactAssessment:"اكتب تقييم تأثير التغيير على العمليات",hseImpactAssessment:"قيم تأثير التغيير على الصحة والسلامة والبيئة",riskEvaluation:"قدم تقييم شامل للمخاطر المحتملة",riskLevelPreMitigation:"حدد مستوى المخاطر قبل التخفيف",riskMatrixPreMitigation:"أدخل قيمة مصفوفة المخاطر قبل التخفيف",riskLevelPostMitigation:"حدد مستوى المخاطر بعد التخفيف",riskMatrixPostMitigation:"أدخل قيمة مصفوفة المخاطر بعد التخفيف",preChangeCondition:"اوصف الحالة الحالية قبل التغيير",postChangeCondition:"اوصف الحالة المتوقعة بعد التغيير",supportingDocuments:"أضف ملاحظات حول المستندات الداعمة",training:"هل يتطلب التغيير تدريب للموظفين؟",trainingDetails:"اكتب تفاصيل التدريب المطلوب",technicalAuthorityApprovers:"اختر المراجعين التقنيين للموافقة النهائية (يجب أن يوافق جميعهم بعد موافقة الأقسام)",closeOutApprovers:"اختر الأشخاص المسؤولين عن الموافقة على إغلاق المشروع (مطلوب للانتقال من مكتمل إلى مغلق)",viewers:"اختر الأشخاص الذين يمكنهم عرض هذا الطلب"},nt=({text:s})=>h.jsxs("div",{className:"group relative inline-block ml-2",children:[h.jsx(Rx,{size:16,className:"text-blue-500 cursor-help"}),h.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10 max-w-xs",children:[h.jsx("div",{className:"break-words whitespace-normal",children:s}),h.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-800"})]})]});function Ih({onSuccess:s,currentUser:e,mocToEdit:t}){const i=!!t,[r,l]=Q.useState({title:"",description:"",assignedToId:"",requestedByDepartment:"",reasonForChange:"",changeType:"",changeCategory:"",changeCategoryOther:"",departmentsAffected:[],riskAssessmentRequired:!1,impactAssessment:"",hseImpactAssessment:"",riskEvaluation:"",riskLevelPreMitigation:"",riskMatrixPreMitigation:"",riskLevelPostMitigation:"",riskMatrixPostMitigation:"",preChangeCondition:"",postChangeCondition:"",supportingDocumentsNotes:"",trainingRequired:!1,trainingDetails:"",startDateOfChange:"",expectedCompletionDate:"",deadline:"",implementationOwner:"",verificationOfCompletionText:"",postImplementationReviewText:"",closeoutApprovedByText:"",technicalAuthorityApproverUserIds:[],closeOutApproverUserIds:[],viewerIds:[]}),[u,d]=Q.useState([]),[m,g]=Q.useState(!1),y=Ze(fe.users.listApprovedUsers)||[],x=Ze(fe.departments.listDepartments)||[],b=Fe(fe.moc.createMocRequest),w=Fe(fe.moc.updateMocRequest),N=Fe(fe.moc.generateUploadUrl),A=Fe(fe.moc.addAttachment),j=y;Q.useEffect(()=>{i&&t&&l({title:t.title||"",description:t.description||"",assignedToId:t.assignedToId||"",requestedByDepartment:t.requestedByDepartment||"",reasonForChange:t.reasonForChange||"",changeType:t.changeType||"",changeCategory:t.changeCategory||"",changeCategoryOther:t.changeCategoryOther||"",departmentsAffected:t.departmentsAffected||[],riskAssessmentRequired:t.riskAssessmentRequired||!1,impactAssessment:t.impactAssessment||"",hseImpactAssessment:t.hseImpactAssessment||"",riskEvaluation:t.riskEvaluation||"",riskLevelPreMitigation:t.riskLevelPreMitigation||"",riskMatrixPreMitigation:t.riskMatrixPreMitigation||"",riskLevelPostMitigation:t.riskLevelPostMitigation||"",riskMatrixPostMitigation:t.riskMatrixPostMitigation||"",preChangeCondition:t.preChangeCondition||"",postChangeCondition:t.postChangeCondition||"",supportingDocumentsNotes:t.supportingDocumentsNotes||"",trainingRequired:t.trainingRequired||!1,trainingDetails:t.trainingDetails||"",startDateOfChange:t.startDateOfChange?new Date(t.startDateOfChange).toISOString().split("T")[0]:"",expectedCompletionDate:t.expectedCompletionDate?new Date(t.expectedCompletionDate).toISOString().split("T")[0]:"",deadline:t.deadline?new Date(t.deadline).toISOString().split("T")[0]:"",implementationOwner:t.implementationOwner||"",verificationOfCompletionText:t.verificationOfCompletionText||"",postImplementationReviewText:t.postImplementationReviewText||"",closeoutApprovedByText:t.closeoutApprovedByText||"",technicalAuthorityApproverUserIds:t.technicalAuthorityApproverUserIds||[],closeOutApproverUserIds:t.closeOutApproverUserIds||[],viewerIds:t.viewerIds||[]})},[i,t]);const M=(T,$)=>{l(I=>({...I,[T]:$}))},E=(T,$)=>{l(I=>{const q=I[T],L=q.includes($)?q.filter(J=>J!==$):[...q,$];return{...I,[T]:L}})},D=T=>{if(T.target.files){const $=Array.from(T.target.files),I=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain","image/jpeg","image/jpg","image/png","image/gif"],q=10*1024*1024,L=$.filter(J=>I.includes(J.type)?J.size>q?(ie.error(`File too large: ${J.name} (max 10MB)`),!1):!0:(ie.error(`File type not supported: ${J.name}`),!1));d(J=>[...J,...L])}},Y=T=>{d($=>$.filter((I,q)=>q!==T))},S=async T=>{if(T.preventDefault(),!(e!=null&&e._id)){ie.error("User not authenticated");return}g(!0);try{const $={title:r.title,description:r.description,reasonForChange:r.reasonForChange||void 0,changeType:r.changeType||void 0,changeCategory:r.changeCategory||void 0,changeCategoryOther:r.changeCategoryOther||void 0,assignedToId:r.assignedToId?r.assignedToId:void 0,requestedByDepartment:r.requestedByDepartment?r.requestedByDepartment:void 0,departmentsAffected:r.departmentsAffected.length>0?r.departmentsAffected.map(q=>q):void 0,riskAssessmentRequired:r.riskAssessmentRequired,impactAssessment:r.impactAssessment||void 0,hseImpactAssessment:r.hseImpactAssessment||void 0,riskEvaluation:r.riskEvaluation||void 0,riskLevelPreMitigation:r.riskLevelPreMitigation||void 0,riskMatrixPreMitigation:r.riskMatrixPreMitigation||void 0,riskLevelPostMitigation:r.riskLevelPostMitigation||void 0,riskMatrixPostMitigation:r.riskMatrixPostMitigation||void 0,startDateOfChange:r.startDateOfChange?new Date(r.startDateOfChange).getTime():void 0,expectedCompletionDate:r.expectedCompletionDate?new Date(r.expectedCompletionDate).getTime():void 0,deadline:r.deadline?new Date(r.deadline).getTime():void 0,preChangeCondition:r.preChangeCondition||void 0,postChangeCondition:r.postChangeCondition||void 0,supportingDocumentsNotes:r.supportingDocumentsNotes||void 0,trainingRequired:r.trainingRequired,trainingDetails:r.trainingDetails||void 0,implementationOwner:r.implementationOwner||void 0,verificationOfCompletionText:r.verificationOfCompletionText||void 0,postImplementationReviewText:r.postImplementationReviewText||void 0,closeoutApprovedByText:r.closeoutApprovedByText||void 0,technicalAuthorityApproverUserIds:r.technicalAuthorityApproverUserIds.length>0?r.technicalAuthorityApproverUserIds.map(q=>q):void 0,closeOutApproverUserIds:r.closeOutApproverUserIds.length>0?r.closeOutApproverUserIds.map(q=>q):void 0,viewerIds:r.viewerIds.length>0?r.viewerIds.map(q=>q):void 0,requestingUserId:e._id};let I;if(i&&t?(await w({id:t._id,...$}),I=t._id,ie.success("MOC updated successfully")):(I=await b($),ie.success("MOC created successfully")),u.length>0)for(const q of u)try{const L=await N({requestingUserId:e._id}),J=await fetch(L,{method:"POST",headers:{"Content-Type":q.type},body:q});if(!J.ok)throw new Error(`Upload failed: ${J.statusText}`);const{storageId:oe}=await J.json();await A({mocRequestId:I,storageId:oe,fileName:q.name,fileType:q.type,requestingUserId:e._id})}catch(L){console.error("File upload error:",L),ie.error(`Failed to upload ${q.name}`)}s(I)}catch($){console.error("Submit error:",$),ie.error(`Failed to ${i?"update":"create"} MOC: ${$.message}`)}finally{g(!1)}};return h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsx("div",{className:"max-w-6xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(Za,{size:24}),i?"Edit RFC":"Create New RFC"]}),h.jsx("p",{className:"text-gray-600 mt-1",children:i?"Update the RFC details below":"Fill out the comprehensive form below to create a new Request for Change"})]}),i&&t&&(t.status==="pending_department_approval"||t.status==="pending_final_review")&&h.jsx("div",{className:"mx-6 mt-4 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(qx,{size:20,className:"text-amber-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Editing During Approval Process"}),h.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["This MOC is currently ",t.status==="pending_department_approval"?"pending department approval":"pending final review",". Making changes will reset the MOC to draft status and require re-approval from all departments."]})]})]})}),h.jsxs("form",{onSubmit:S,className:"p-6 space-y-8",children:[h.jsxs("section",{className:"space-y-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Basic Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["MOC Title *",h.jsx(nt,{text:ht.title})]}),h.jsx("input",{type:"text",required:!0,value:r.title,onChange:T=>M("title",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm break-words",placeholder:"Enter a clear and concise title for the MOC"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Description *",h.jsx(nt,{text:ht.description})]}),h.jsx("textarea",{required:!0,rows:4,value:r.description,onChange:T=>M("description",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical shadow-sm break-words",placeholder:"Provide a detailed description of the change request"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Assigned To",h.jsx(nt,{text:ht.assignedTo})]}),h.jsxs("select",{value:r.assignedToId,onChange:T=>M("assignedToId",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm",children:[h.jsx("option",{value:"",children:"Select assignee"}),j.map(T=>h.jsx("option",{value:T._id,children:h.jsx("span",{className:"truncate",children:T.name||T.email})},T._id))]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Requesting Department",h.jsx(nt,{text:ht.requestedByDepartment})]}),h.jsxs("select",{value:r.requestedByDepartment,onChange:T=>M("requestedByDepartment",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm",children:[h.jsx("option",{value:"",children:"Select department"}),x.map(T=>h.jsx("option",{value:T._id,children:h.jsx("span",{className:"truncate",children:T.name})},T._id))]})]})]})]}),h.jsxs("section",{className:"space-y-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Change Details"}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Reason for Change",h.jsx(nt,{text:ht.reasonForChange})]}),h.jsx("textarea",{rows:3,value:r.reasonForChange,onChange:T=>M("reasonForChange",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical shadow-sm break-words",placeholder:"Explain the detailed reasons behind the need for this change"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Change Type"}),h.jsxs("select",{value:r.changeType,onChange:T=>M("changeType",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm",children:[h.jsx("option",{value:"",children:"Select change type"}),h.jsx("option",{value:"temporary",children:"Temporary"}),h.jsx("option",{value:"permanent",children:"Permanent"}),h.jsx("option",{value:"emergency",children:"Emergency"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Change Category"}),h.jsxs("select",{value:r.changeCategory,onChange:T=>M("changeCategory",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm",children:[h.jsx("option",{value:"",children:"Select change category"}),h.jsx("option",{value:"process",children:"Process"}),h.jsx("option",{value:"equipment",children:"Equipment"}),h.jsx("option",{value:"personnel",children:"Personnel"}),h.jsx("option",{value:"material",children:"Material"}),h.jsx("option",{value:"environment",children:"Environment"}),h.jsx("option",{value:"other",children:"Other"})]})]}),r.changeCategory==="other"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Other Category Details"}),h.jsx("input",{type:"text",value:r.changeCategoryOther,onChange:T=>M("changeCategoryOther",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm",placeholder:"Please specify the other category"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departments Affected"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 p-4 border border-gray-300 rounded-lg shadow-sm max-h-48 overflow-y-auto",children:x.map(T=>h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:r.departmentsAffected.includes(T._id),onChange:()=>E("departmentsAffected",T._id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),h.jsx("span",{className:"text-sm text-gray-700 truncate",children:T.name})]},T._id))})]})]}),h.jsxs("section",{className:"space-y-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Risk & Impact Assessment"}),h.jsx("div",{children:h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:r.riskAssessmentRequired,onChange:T=>M("riskAssessmentRequired",T.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),h.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Risk Assessment Required",h.jsx(nt,{text:ht.riskAssessment})]})]})}),r.riskAssessmentRequired&&h.jsxs("div",{className:"space-y-6 pl-6 border-l-4 border-blue-200 bg-blue-50 p-4 rounded-lg",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Impact Assessment",h.jsx(nt,{text:ht.impactAssessment})]}),h.jsx("textarea",{rows:3,value:r.impactAssessment,onChange:T=>M("impactAssessment",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical shadow-sm break-words",placeholder:"Describe the impact of this change on operations"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["HSE Impact Assessment",h.jsx(nt,{text:ht.hseImpactAssessment})]}),h.jsx("textarea",{rows:3,value:r.hseImpactAssessment,onChange:T=>M("hseImpactAssessment",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical shadow-sm break-words",placeholder:"Assess the impact on Health, Safety, and Environment"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Risk Evaluation",h.jsx(nt,{text:ht.riskEvaluation})]}),h.jsx("textarea",{rows:3,value:r.riskEvaluation,onChange:T=>M("riskEvaluation",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical shadow-sm break-words",placeholder:"Provide a comprehensive evaluation of potential risks"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Risk Level (Pre-Mitigation)",h.jsx(nt,{text:ht.riskLevelPreMitigation})]}),h.jsxs("select",{value:r.riskLevelPreMitigation,onChange:T=>M("riskLevelPreMitigation",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm",children:[h.jsx("option",{value:"",children:"Select risk level"}),h.jsx("option",{value:"low",children:"Low"}),h.jsx("option",{value:"medium",children:"Medium"}),h.jsx("option",{value:"high",children:"High"}),h.jsx("option",{value:"critical",children:"Critical"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Risk Matrix (Pre-Mitigation)",h.jsx(nt,{text:ht.riskMatrixPreMitigation})]}),h.jsx("input",{type:"text",value:r.riskMatrixPreMitigation,onChange:T=>M("riskMatrixPreMitigation",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm",placeholder:"Enter risk matrix value (e.g., A1, B2, C3)"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Risk Level (Post-Mitigation)",h.jsx(nt,{text:ht.riskLevelPostMitigation})]}),h.jsxs("select",{value:r.riskLevelPostMitigation,onChange:T=>M("riskLevelPostMitigation",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm",children:[h.jsx("option",{value:"",children:"Select risk level"}),h.jsx("option",{value:"low",children:"Low"}),h.jsx("option",{value:"medium",children:"Medium"}),h.jsx("option",{value:"high",children:"High"}),h.jsx("option",{value:"critical",children:"Critical"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Risk Matrix (Post-Mitigation)",h.jsx(nt,{text:ht.riskMatrixPostMitigation})]}),h.jsx("input",{type:"text",value:r.riskMatrixPostMitigation,onChange:T=>M("riskMatrixPostMitigation",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm",placeholder:"Enter risk matrix value (e.g., A1, B2, C3)"})]})]})]})]}),h.jsxs("section",{className:"space-y-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Implementation Details"}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Pre-Change Condition",h.jsx(nt,{text:ht.preChangeCondition})]}),h.jsx("textarea",{rows:3,value:r.preChangeCondition,onChange:T=>M("preChangeCondition",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical shadow-sm break-words",placeholder:"Describe the current state before the change"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Post-Change Condition",h.jsx(nt,{text:ht.postChangeCondition})]}),h.jsx("textarea",{rows:3,value:r.postChangeCondition,onChange:T=>M("postChangeCondition",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical shadow-sm break-words",placeholder:"Describe the expected state after the change"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Supporting Documents Notes",h.jsx(nt,{text:ht.supportingDocuments})]}),h.jsx("textarea",{rows:3,value:r.supportingDocumentsNotes,onChange:T=>M("supportingDocumentsNotes",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical shadow-sm break-words",placeholder:"Add notes about supporting documents"})]}),h.jsx("div",{children:h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:r.trainingRequired,onChange:T=>M("trainingRequired",T.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),h.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Training Required",h.jsx(nt,{text:ht.training})]})]})}),r.trainingRequired&&h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Training Details",h.jsx(nt,{text:ht.trainingDetails})]}),h.jsx("textarea",{rows:3,value:r.trainingDetails,onChange:T=>M("trainingDetails",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical shadow-sm break-words",placeholder:"Describe the training requirements in detail"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date of Change"}),h.jsx("input",{type:"date",value:r.startDateOfChange,onChange:T=>M("startDateOfChange",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Completion Date"}),h.jsx("input",{type:"date",value:r.expectedCompletionDate,onChange:T=>M("expectedCompletionDate",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadline"}),h.jsx("input",{type:"date",value:r.deadline,onChange:T=>M("deadline",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Implementation Owner"}),h.jsx("input",{type:"text",value:r.implementationOwner,onChange:T=>M("implementationOwner",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm",placeholder:"Name of the person responsible for implementation"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification of Completion"}),h.jsx("textarea",{rows:3,value:r.verificationOfCompletionText,onChange:T=>M("verificationOfCompletionText",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical shadow-sm break-words",placeholder:"Describe how completion will be verified"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Post-Implementation Review"}),h.jsx("textarea",{rows:3,value:r.postImplementationReviewText,onChange:T=>M("postImplementationReviewText",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical shadow-sm break-words",placeholder:"Describe the post-implementation review plan"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Closeout Approved By"}),h.jsx("input",{type:"text",value:r.closeoutApprovedByText,onChange:T=>M("closeoutApprovedByText",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors shadow-sm",placeholder:"Who will approve the project closeout"})]})]}),h.jsxs("section",{className:"space-y-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Access Control"}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Technical Authority Approvers (Final Review)",h.jsx(nt,{text:ht.technicalAuthorityApprovers})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 p-4 border border-gray-300 rounded-lg shadow-sm max-h-48 overflow-y-auto",children:j.map(T=>h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:r.technicalAuthorityApproverUserIds.includes(T._id),onChange:()=>E("technicalAuthorityApproverUserIds",T._id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),h.jsx("span",{className:"text-sm text-gray-700 truncate",children:T.name||T.email})]},T._id))}),h.jsx("p",{className:"text-sm text-gray-500 mt-1 break-words",children:"All selected Technical Authority Approvers must approve after department approvals for the MOC to be approved. If no Technical Authority Approvers are selected, the MOC will be approved directly after department approvals."})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Close Out Approvers",h.jsx(nt,{text:ht.closeOutApprovers})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 p-4 border border-gray-300 rounded-lg shadow-sm max-h-48 overflow-y-auto",children:j.map(T=>h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:r.closeOutApproverUserIds.includes(T._id),onChange:()=>E("closeOutApproverUserIds",T._id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),h.jsx("span",{className:"text-sm text-gray-700 truncate",children:T.name||T.email})]},T._id))})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Viewers",h.jsx(nt,{text:ht.viewers})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 p-4 border border-gray-300 rounded-lg shadow-sm max-h-48 overflow-y-auto",children:j.map(T=>h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:r.viewerIds.includes(T._id),onChange:()=>E("viewerIds",T._id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),h.jsx("span",{className:"text-sm text-gray-700 truncate",children:T.name||T.email})]},T._id))})]})]}),h.jsxs("section",{className:"space-y-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Attachments"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:["Upload Supporting Documents",h.jsx(nt,{text:"أضف المستندات والملفات الداعمة لطلب التغيير"})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("input",{type:"file",multiple:!0,onChange:D,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 file:cursor-pointer",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.jpg,.jpeg,.png,.gif"}),h.jsxs("button",{type:"button",onClick:()=>{var T;return(T=document.querySelector('input[type="file"]'))==null?void 0:T.click()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center gap-2",children:[h.jsx(Lx,{size:16}),"Browse Files"]})]}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Supported formats: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX, TXT, JPG, JPEG, PNG, GIF (Max 10MB per file)"})]}),u.length>0&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Selected Files:"}),h.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:u.map((T,$)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[h.jsx(Za,{size:20,className:"text-blue-500 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:T.name}),h.jsxs("p",{className:"text-xs text-gray-500",children:[(T.size/1024/1024).toFixed(2)," MB • ",T.type]})]})]}),h.jsx("button",{type:"button",onClick:()=>Y($),className:"p-1 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Remove file",children:h.jsx($i,{size:16})})]},$))})]})]})]}),h.jsx("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-200",children:h.jsx("button",{type:"submit",disabled:m,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium flex items-center gap-2",children:m?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i?"Updating...":"Creating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(LS,{size:16}),i?"Update RFC":"Create RFC"]})})})]})]})})})}function hf(s){if(!s)return"N/A";const e=new Date(s);if(isNaN(e.getTime()))return"Invalid Date";const t=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear(),l=String(e.getHours()).padStart(2,"0"),u=String(e.getMinutes()).padStart(2,"0");return`${t}/${i}/${r} ${l}:${u}`}function aM(s){if(!s)return"N/A";const e=new Date(s);if(isNaN(e.getTime()))return"Invalid Date";const t=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return`${t}/${i}/${r}`}let Jt=null;function rM(s){localStorage.setItem("notificationSoundEnabled",s.toString())}function Hx(){const s=localStorage.getItem("notificationSoundEnabled");return s!==null?s==="true":!0}function G0(){try{if(!Hx())return;if(!Jt)try{Jt=new Audio("/notification.mp3"),Jt.volume=.6,Jt.preload="auto",Jt.addEventListener("error",()=>{console.log("Audio file not found or invalid, using fallback beep"),Jt=null})}catch(s){console.log("Error loading audio file:",s),Jt=null}if(Jt){Jt.currentTime=0;const s=Jt.play();s!==void 0&&s.catch(e=>{console.log("Notification sound could not be played:",e.message),wh()})}else wh()}catch(s){console.log("Error playing notification sound:",s),wh()}}function wh(){try{const s=new(window.AudioContext||window.webkitAudioContext),e=s.createOscillator(),t=s.createGain();e.connect(t),t.connect(s.destination),e.frequency.setValueAtTime(800,s.currentTime),e.type="sine",t.gain.setValueAtTime(.1,s.currentTime),t.gain.exponentialRampToValueAtTime(.01,s.currentTime+.3),e.start(s.currentTime),e.stop(s.currentTime+.3)}catch(s){console.log("Fallback beep failed:",s)}}function oM(){try{Jt||(Jt=new Audio("/notification.mp3"),Jt.volume=.6,Jt.preload="auto");const s=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT");s.volume=.01,s.play().catch(()=>{})}catch(s){console.log("Error enabling notification sound:",s)}}const lM=s=>{switch(s){case"draft":return h.jsx(NS,{className:"w-4 h-4"});case"pending_department_approval":return h.jsx(Rc,{className:"w-4 h-4"});case"pending_final_review":return h.jsx(Dx,{className:"w-4 h-4"});case"approved":return h.jsx(Yi,{className:"w-4 h-4"});case"rejected":return h.jsx($a,{className:"w-4 h-4"});case"in_progress":return h.jsx(df,{className:"w-4 h-4"});case"completed":return h.jsx(Yi,{className:"w-4 h-4"});case"cancelled":return h.jsx($a,{className:"w-4 h-4"});default:return h.jsx(Rc,{className:"w-4 h-4"})}},cM=s=>{switch(s){case"draft":return"bg-gray-100 text-gray-800 border-gray-300";case"pending_department_approval":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"pending_final_review":return"bg-orange-100 text-orange-800 border-orange-300";case"approved":return"bg-green-100 text-green-800 border-green-300";case"rejected":return"bg-red-100 text-red-800 border-red-300";case"in_progress":return"bg-blue-100 text-blue-800 border-blue-300";case"completed":return"bg-emerald-100 text-emerald-800 border-emerald-300";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},uM=s=>s.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),dM=s=>s==="in_progress"||s==="pending_closeout"||s==="completed"?"MOC":"RFC",hM=s=>s==="in_progress"||s==="pending_closeout"||s==="completed"?"bg-blue-100 text-blue-800 border-blue-300":"bg-orange-100 text-orange-800 border-orange-300";function fM({moc:s,onSelectMoc:e}){const t=cM(s.status),i=lM(s.status),r=dM(s.status),l=hM(s.status);return h.jsx("li",{className:"bg-white p-4 md:p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer border border-gray-200",onClick:()=>e(s._id),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-primary truncate",children:s.mocIdString||`RFC-${s._id.slice(-6)}`}),h.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${l}`,children:r})]}),h.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${t}`,children:[i,uM(s.status)]})]}),h.jsx("h4",{className:"text-base font-medium text-secondary-dark line-clamp-2",children:s.title}),h.jsx("p",{className:"text-sm text-secondary-light line-clamp-3",children:s.description}),h.jsxs("div",{className:"space-y-2 text-xs text-secondary-light",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Co,{className:"w-3 h-3"}),h.jsxs("span",{children:["Submitter: ",s.submitterName||"Unknown"]})]}),s.assignedToName&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Co,{className:"w-3 h-3"}),h.jsxs("span",{children:["Assigned: ",s.assignedToName]})]}),s.dateRaised&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx($c,{className:"w-3 h-3"}),h.jsxs("span",{children:["Raised: ",aM(s.dateRaised)]})]}),s.departmentApprovals&&s.departmentApprovals.length>0&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Tx,{className:"w-3 h-3"}),h.jsxs("span",{children:["Departments: ",s.departmentApprovals.length]})]})]})]})})}function mM({currentUser:s,className:e=""}){const[t,i]=Q.useState(!1),r=Uc(fe.excel.exportMocsToExcel),l=async()=>{if(!(s!=null&&s._id)){ie.error("User not authenticated");return}i(!0);try{const u=await r({requestingUserId:s._id});if(u.success&&u.downloadUrl){const d=document.createElement("a");d.href=u.downloadUrl,d.download=u.fileName,document.body.appendChild(d),d.click(),document.body.removeChild(d),ie.success(`Successfully exported ${u.recordCount} MOCs to Excel`)}else ie.error("Export failed: No download URL received")}catch(u){console.error("Export error:",u),ie.error(`Failed to export MOCs: ${u.message}`)}finally{i(!1)}};return h.jsx("button",{onClick:l,disabled:t,className:`btn btn-outline-primary flex items-center gap-2 ${e}`,children:t?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"Exporting..."]}):h.jsxs(h.Fragment,{children:[h.jsx(cS,{size:16}),"Export to Excel"]})})}function gM({onSelectMoc:s,currentUser:e}){var u;const[t,i]=Q.useState("all"),r=Ze(fe.moc.listRequests,e!=null&&e._id?{statusFilter:t==="all"?void 0:t,requestingUserId:e._id}:"skip")||[];Ze(fe.users.getCurrentUserById,e!=null&&e._id?{userId:e._id}:"skip");const l=[{value:"all",label:"All Statuses"},{value:"draft",label:"Draft"},{value:"pending_department_approval",label:"Pending Dept Approval"},{value:"pending_final_review",label:"Pending Final Review"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}];return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 p-4 bg-white rounded-lg shadow",children:[h.jsx("h1",{className:"text-2xl font-semibold text-primary",children:"Management of Change (MOC)"}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:[h.jsx(mM,{currentUser:e,className:"w-full sm:w-auto"}),h.jsx("div",{className:"w-full sm:w-auto",children:h.jsx("select",{value:t,onChange:d=>i(d.target.value),className:"input-field w-full",children:l.map(d=>h.jsx("option",{value:d.value,children:d.label},d.value))})})]})]}),r.length===0?h.jsx("div",{className:"text-center py-10",children:h.jsxs("p",{className:"text-xl text-secondary-light",children:["No MOC requests found ",t!=="all"?`with status "${((u=l.find(d=>d.value===t))==null?void 0:u.label)||t}"`:"","."]})}):h.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:r.map(d=>h.jsx(fM,{moc:d,onSelectMoc:s},d._id))})]})}function pM({mocRequestId:s,isOpen:e,onClose:t,currentUser:i}){const r=Ze(fe.moc.getEditLogsSummary,i!=null&&i._id?{mocRequestId:s,requestingUserId:i._id}:"skip");if(!e)return null;console.log("Edit history data:",r);const l=(d,m=100)=>!d||d.length<=m?d:d.substring(0,m)+"...",u=(d,m)=>h.jsxs("div",{className:"bg-white rounded p-3 border border-gray-100 hover:border-gray-200 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"text-sm font-medium text-gray-800",children:d.field}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${d.changeType==="added"?"bg-green-100 text-green-700":d.changeType==="removed"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:d.changeType==="added"?"Added":d.changeType==="removed"?"Removed":"Changed"})]}),d.changeType==="added"&&h.jsxs("div",{className:"text-sm text-gray-700 bg-green-50 p-2 rounded border-l-3 border-green-400",children:[h.jsx("span",{className:"text-green-700 font-medium",children:"Added:"}),h.jsx("div",{className:"mt-1 break-words",children:l(d.newValue)})]}),d.changeType==="removed"&&h.jsxs("div",{className:"text-sm text-gray-700 bg-red-50 p-2 rounded border-l-3 border-red-400",children:[h.jsx("span",{className:"text-red-700 font-medium",children:"Removed:"}),h.jsx("div",{className:"mt-1 break-words",children:l(d.oldValue)})]}),d.changeType==="changed"&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"text-sm text-gray-700 bg-red-50 p-2 rounded border-l-3 border-red-400",children:[h.jsx("span",{className:"text-red-700 font-medium",children:"Previous:"}),h.jsx("div",{className:"mt-1 break-words",children:l(d.oldValue)||"Empty"})]}),h.jsxs("div",{className:"text-sm text-gray-700 bg-green-50 p-2 rounded border-l-3 border-green-400",children:[h.jsx("span",{className:"text-green-700 font-medium",children:"Updated to:"}),h.jsx("div",{className:"mt-1 break-words",children:l(d.newValue)||"Empty"})]})]})]},m);return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[h.jsx(jS,{size:20}),"Edit History"]}),h.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx($i,{size:20,className:"text-gray-500"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:r&&r.length>0?h.jsx("div",{className:"space-y-4",children:r.map(d=>{var m;return h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-900",children:d.editedByName}),h.jsx("div",{className:"text-xs text-gray-500 mt-1",children:((m=d.fieldChanges)==null?void 0:m.length)>0?`Modified ${d.fieldChanges.length} field${d.fieldChanges.length>1?"s":""}`:"General update"})]}),h.jsx("span",{className:"text-sm text-gray-500",children:hf(d.editedAt)})]}),h.jsx("p",{className:"text-sm text-gray-700 mb-3",children:d.changesDescription}),d.fieldChanges&&d.fieldChanges.length>0&&h.jsxs("div",{className:"mt-3 space-y-2",children:[h.jsx("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Detailed Changes:"}),h.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:d.fieldChanges.map((g,y)=>u(g,y))})]})]},d._id)})}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Za,{className:"mx-auto text-gray-400 mb-4",size:48}),h.jsx("p",{className:"text-gray-600",children:"No edit history available for this RFC."})]})})]})})}const yM={draft:"bg-gray-100 text-gray-800",pending_department_approval:"bg-yellow-100 text-yellow-800",pending_final_review:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",in_progress:"bg-purple-100 text-purple-800",pending_closeout:"bg-orange-100 text-orange-800",completed:"bg-emerald-100 text-emerald-800",cancelled:"bg-gray-100 text-gray-800"},xM={draft:Za,pending_department_approval:Rc,pending_final_review:ri,approved:Yi,rejected:$a,in_progress:df,pending_closeout:Qc,completed:YS,cancelled:$i};function bM({mocId:s,onBack:e,currentUser:t}){var is,ks,Hn;const[i,r]=Q.useState(!1),[l,u]=Q.useState(!1),[d,m]=Q.useState(""),[g,y]=Q.useState(!1),[x,b]=Q.useState(null),[w,N]=Q.useState([]),[A,j]=Q.useState(!1),[M,E]=Q.useState(!1),[D,Y]=Q.useState(null),S=Ze(fe.moc.getRequestDetails,{id:s,requestingUserId:t==null?void 0:t._id});Ze(fe.moc.getEditLogsSummary,{mocRequestId:s,requestingUserId:t==null?void 0:t._id});const T=Fe(fe.moc.changeStatus),$=Fe(fe.moc.deleteMocRequest),I=Fe(fe.moc.resubmitMocRequest),q=Fe(fe.moc.approveOrRejectDepartmentStep),L=Fe(fe.moc.approveCloseout);if(Fe(fe.moc.generateUploadUrl),Fe(fe.moc.addAttachment),!S)return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(i)return h.jsx(Ih,{onSuccess:()=>{r(!1),ie.success("MOC updated successfully")},currentUser:t,mocToEdit:S});const J=xM[S.status],oe=S.submitterId===(t==null?void 0:t._id),ce=S.assignedToId===(t==null?void 0:t._id),me=(is=S.technicalAuthorityApproverUserIds)==null?void 0:is.includes(t==null?void 0:t._id),te=(ks=S.closeOutApproverUserIds)==null?void 0:ks.includes(t==null?void 0:t._id),R=t==null?void 0:t.isAdmin,G=(R||oe||ce||me)&&(S.status!=="completed"||te||R),se=(R||(t==null?void 0:t.canDeleteAnyMoc)||oe&&["draft","rejected","cancelled"].includes(S.status))&&(S.status!=="completed"||te||R),ue=ae=>{if(R)return!0;const Ce=S.status;return!!(oe&&(Ce==="draft"&&ae==="pending_department_approval"||["pending_department_approval","pending_final_review","approved","rejected"].includes(Ce)&&ae==="cancelled")||ce&&(Ce==="approved"&&ae==="in_progress"||Ce==="in_progress"&&ae==="pending_closeout")||me&&Ce==="pending_final_review"&&["approved","rejected"].includes(ae))},C=async ae=>{if(["approved","rejected"].includes(ae)&&!d.trim()){ie.error("Please provide comments for approval/rejection");return}try{await T({id:s,newStatus:ae,comments:d.trim()||void 0,requestingUserId:t._id}),ie.success(`MOC status changed to ${ae}`),y(!1),m(""),b(null)}catch(Ce){ie.error(`Failed to change status: ${Ce.message}`)}},F=async()=>{if(D){if(D==="rejected"&&!d.trim()){ie.error("Please provide comments for rejection");return}try{await L({mocRequestId:s,action:D,comments:d.trim()||void 0,requestingUserId:t._id}),ie.success(`Closeout ${D} successfully`),E(!1),Y(null),m("")}catch(ae){ie.error(`Failed to ${D} closeout: ${ae.message}`)}}},ee=async(ae,Ce)=>{if(Ce==="rejected"&&!d.trim()){ie.error("Please provide comments for rejection");return}try{await q({mocRequestId:s,departmentId:ae,action:Ce,comments:d.trim()||void 0,requestingUserId:t._id}),ie.success(`Department ${Ce} successfully`),m("")}catch(pt){ie.error(`Failed to ${Ce}: ${pt.message}`)}},K=async()=>{if(confirm("Are you sure you want to delete this MOC? This action cannot be undone."))try{await $({id:s,requestingUserId:t._id}),ie.success("MOC deleted successfully"),e()}catch(ae){ie.error(`Failed to delete MOC: ${ae.message}`)}},le=async()=>{try{await I({id:s,requestingUserId:t._id}),ie.success("MOC resubmitted successfully")}catch(ae){ie.error(`Failed to resubmit MOC: ${ae.message}`)}},xe=()=>{window.print()},re=()=>{var as,Nt,mn,Zi,Ki,sn;const ae=Me=>new Date(Me).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ce=Me=>Me.replace(/_/g," ").replace(/\b\w/g,Ut=>Ut.toUpperCase()),pt=`
      <html>
        <head>
          <title>Management of Change Request - ${S.mocIdString}</title>
          <style>
            body { 
              font-family: 'Calibri', Arial, sans-serif; 
              margin: 30px; 
              line-height: 1.6; 
              color: #333; 
              font-size: 11pt;
            }
            .header { 
              text-align: center; 
              margin-bottom: 40px; 
              border-bottom: 3px solid #2563eb; 
              padding-bottom: 20px; 
            }
            .header h1 { 
              color: #2563eb; 
              font-size: 24pt; 
              margin-bottom: 10px; 
              font-weight: bold;
            }
            .header h2 { 
              color: #555; 
              font-size: 16pt; 
              margin-bottom: 5px;
            }
            .header .moc-id { 
              font-size: 14pt; 
              color: #666; 
              font-weight: bold;
            }
            .section { 
              margin-bottom: 30px; 
              padding: 20px; 
              background: #f8f9fa; 
              border-left: 4px solid #2563eb; 
              page-break-inside: avoid;
            }
            .section h3 { 
              color: #2563eb; 
              font-size: 14pt; 
              margin-bottom: 15px; 
              font-weight: bold;
              border-bottom: 2px solid #2563eb;
              padding-bottom: 5px;
            }
            .field { 
              margin-bottom: 12px; 
              display: flex;
            }
            .label { 
              font-weight: 600; 
              color: #555; 
              min-width: 200px;
              margin-right: 10px;
            }
            .value { 
              color: #333; 
              flex: 1;
            }
            table { 
              width: 100%; 
              border-collapse: collapse; 
              margin: 20px 0; 
              font-size: 10pt;
            }
            th, td { 
              border: 1px solid #ddd; 
              padding: 8px; 
              text-align: left; 
              vertical-align: top;
            }
            th { 
              background-color: #2563eb; 
              color: white; 
              font-weight: 600; 
              font-size: 10pt;
            }
            .approval-table th {
              background-color: #059669;
            }
            .signature-section {
              margin-top: 40px;
              page-break-inside: avoid;
            }
            .signature-grid {
              display: grid;
              grid-template-columns: 1fr 1fr 1fr;
              gap: 20px;
              margin-top: 20px;
            }
            .signature-box {
              border: 1px solid #ddd;
              padding: 15px;
              text-align: center;
              min-height: 100px;
            }
            .signature-line {
              border-top: 1px solid #333;
              margin-top: 40px;
              padding-top: 5px;
            }
            .status-badge {
              display: inline-block;
              padding: 5px 15px;
              background-color: #2563eb;
              color: white;
              border-radius: 20px;
              font-weight: bold;
              font-size: 12pt;
            }
            .page-break {
              page-break-before: always;
            }
            .footer {
              margin-top: 40px;
              text-align: center;
              font-size: 9pt;
              color: #666;
              border-top: 1px solid #ddd;
              padding-top: 10px;
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>MANAGEMENT OF CHANGE REQUEST</h1>
            <h2>${S.title}</h2>
            <div class="moc-id">MOC ID: ${S.mocIdString}</div>
            <div style="margin-top: 15px;">
              <span class="status-badge">Status: ${Ce(S.status)}</span>
            </div>
          </div>
          
          <div class="section">
            <h3>1. BASIC INFORMATION</h3>
            <div class="field">
              <span class="label">MOC ID:</span>
              <span class="value">${S.mocIdString}</span>
            </div>
            <div class="field">
              <span class="label">Title:</span>
              <span class="value">${S.title}</span>
            </div>
            <div class="field">
              <span class="label">Description:</span>
              <span class="value">${S.description}</span>
            </div>
            <div class="field">
              <span class="label">Submitter:</span>
              <span class="value">${S.submitterName}</span>
            </div>
            <div class="field">
              <span class="label">Assigned To:</span>
              <span class="value">${S.assignedToName||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Requested By Department:</span>
              <span class="value">${S.requestedByDepartmentName||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Date Raised:</span>
              <span class="value">${ae(S.dateRaised)}</span>
            </div>
            <div class="field">
              <span class="label">Date Submitted:</span>
              <span class="value">${S.submittedAt?ae(S.submittedAt):"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Date Reviewed:</span>
              <span class="value">${S.reviewedAt?ae(S.reviewedAt):"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Reviewer:</span>
              <span class="value">${S.reviewerName||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Review Comments:</span>
              <span class="value">${S.reviewComments||"N/A"}</span>
            </div>
          </div>

          <div class="section">
            <h3>2. CHANGE DETAILS</h3>
            <div class="field">
              <span class="label">Reason for Change:</span>
              <span class="value">${S.reasonForChange||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Change Type:</span>
              <span class="value">${S.changeType?Ce(S.changeType):"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Change Category:</span>
              <span class="value">${S.changeCategory||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Change Category Other:</span>
              <span class="value">${S.changeCategoryOther||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Departments Affected:</span>
              <span class="value">${((as=S.departmentsAffectedNames)==null?void 0:as.join(", "))||"N/A"}</span>
            </div>
          </div>

          <div class="section">
            <h3>3. RISK ASSESSMENT</h3>
            <div class="field">
              <span class="label">Risk Assessment Required:</span>
              <span class="value">${S.riskAssessmentRequired?"Yes":"No"}</span>
            </div>
            <div class="field">
              <span class="label">Impact Assessment:</span>
              <span class="value">${S.impactAssessment||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">HSE Impact Assessment:</span>
              <span class="value">${S.hseImpactAssessment||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Risk Evaluation:</span>
              <span class="value">${S.riskEvaluation||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Risk Level (Post-Mitigation):</span>
              <span class="value">${S.riskLevelPostMitigation?Ce(S.riskLevelPostMitigation):"N/A"}</span>
            </div>
          </div>

          <div class="section">
            <h3>4. IMPLEMENTATION DETAILS</h3>
            <div class="field">
              <span class="label">Pre-Change Condition:</span>
              <span class="value">${S.preChangeCondition||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Post-Change Condition:</span>
              <span class="value">${S.postChangeCondition||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Implementation Owner:</span>
              <span class="value">${S.implementationOwner||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Training Required:</span>
              <span class="value">${S.trainingRequired?"Yes":"No"}</span>
            </div>
            <div class="field">
              <span class="label">Training Details:</span>
              <span class="value">${S.trainingDetails||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Start Date of Change:</span>
              <span class="value">${S.startDateOfChange?ae(S.startDateOfChange):"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Expected Completion Date:</span>
              <span class="value">${S.expectedCompletionDate?ae(S.expectedCompletionDate):"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Deadline:</span>
              <span class="value">${S.deadline?ae(S.deadline):"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Supporting Documents Notes:</span>
              <span class="value">${S.supportingDocumentsNotes||"N/A"}</span>
            </div>
          </div>

          ${S.departmentApprovals&&S.departmentApprovals.length>0?`
          <div class="section">
            <h3>5. DEPARTMENT APPROVALS</h3>
            <table class="approval-table">
              <thead>
                <tr>
                  <th>Department</th>
                  <th>Status</th>
                  <th>Approver</th>
                  <th>Approval Date</th>
                  <th>Comments</th>
                </tr>
              </thead>
              <tbody>
                ${S.departmentApprovals.map(Me=>`
                  <tr>
                    <td>${Me.departmentName}</td>
                    <td>${Ce(Me.status)}</td>
                    <td>${Me.approverDisplayName}</td>
                    <td>${Me.approvedAt?ae(Me.approvedAt):"N/A"}</td>
                    <td>${Me.comments||"N/A"}</td>
                  </tr>
                `).join("")}
              </tbody>
            </table>
          </div>
          `:""}

          ${S.technicalAuthorityApproverNames&&S.technicalAuthorityApproverNames.length>0?`
          <div class="section">
            <h3>6. TECHNICAL AUTHORITY APPROVERS</h3>
            <div class="field">
              <span class="label">Technical Authority Approvers:</span>
              <span class="value">${S.technicalAuthorityApproverNames.join(", ")}</span>
            </div>
            ${S.technicalAuthorityApprovals?`
            <table class="approval-table">
              <thead>
                <tr>
                  <th>Technical Authority</th>
                  <th>Decision</th>
                </tr>
              </thead>
              <tbody>
                ${Object.entries(S.technicalAuthorityApprovals).map(([Me,Ut])=>`
                    <tr>
                      <td>${S.technicalAuthorityApproverNames.find((rs,Ji)=>{var On;return((On=S.technicalAuthorityApproverUserIds)==null?void 0:On[Ji])===Me})||"Unknown"}</td>
                      <td>${Ce(Ut)}</td>
                    </tr>
                  `).join("")}
              </tbody>
            </table>
            `:""}
          </div>
          `:""}

          ${S.closeOutApproverNames&&S.closeOutApproverNames.length>0?`
          <div class="section">
            <h3>7. CLOSEOUT APPROVERS</h3>
            <div class="field">
              <span class="label">Closeout Approvers:</span>
              <span class="value">${S.closeOutApproverNames.join(", ")}</span>
            </div>
            <div class="field">
              <span class="label">Verification of Completion:</span>
              <span class="value">${S.verificationOfCompletionText||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Post Implementation Review:</span>
              <span class="value">${S.postImplementationReviewText||"N/A"}</span>
            </div>
            <div class="field">
              <span class="label">Closeout Approved By:</span>
              <span class="value">${S.closeoutApprovedByText||"N/A"}</span>
            </div>
          </div>
          `:""}

          ${S.attachments&&S.attachments.length>0?`
          <div class="section">
            <h3>8. ATTACHMENTS</h3>
            <table>
              <thead>
                <tr>
                  <th>File Name</th>
                  <th>File Type</th>
                  <th>Uploaded By</th>
                </tr>
              </thead>
              <tbody>
                ${S.attachments.map(Me=>`
                  <tr>
                    <td>${Me.fileName}</td>
                    <td>${Me.fileType}</td>
                    <td>${Me.uploadedByName}</td>
                  </tr>
                `).join("")}
              </tbody>
            </table>
          </div>
          `:""}

          <div class="signature-section">
            <h3>9. APPROVAL SIGNATURES</h3>
            <div class="signature-grid">
              <div class="signature-box">
                <div><strong>Submitter</strong></div>
                <div style="margin-top: 10px; font-size: 10pt;">${S.submitterName}</div>
                <div class="signature-line"></div>
                <div style="font-size: 9pt; margin-top: 5px;">Date: ${ae(S.dateRaised)}</div>
              </div>
              <div class="signature-box">
                <div><strong>Department Approver</strong></div>
                <div style="margin-top: 10px; font-size: 10pt;">
                  ${((mn=(Nt=S.departmentApprovals)==null?void 0:Nt.find(Me=>Me.status==="approved"))==null?void 0:mn.approverDisplayName)||"N/A"}
                </div>
                <div class="signature-line"></div>
                <div style="font-size: 9pt; margin-top: 5px;">
                  Date: ${(Ki=(Zi=S.departmentApprovals)==null?void 0:Zi.find(Me=>Me.status==="approved"))!=null&&Ki.approvedAt?ae(S.departmentApprovals.find(Me=>Me.status==="approved").approvedAt):"N/A"}
                </div>
              </div>
              <div class="signature-box">
                <div><strong>Technical Authority</strong></div>
                <div style="margin-top: 10px; font-size: 10pt;">
                  ${((sn=S.technicalAuthorityApproverNames)==null?void 0:sn[0])||"N/A"}
                </div>
                <div class="signature-line"></div>
                <div style="font-size: 9pt; margin-top: 5px;">Date: N/A</div>
              </div>
            </div>
          </div>

          <div class="footer">
            <p><strong>Document Generated:</strong> ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
            <p>This document is automatically generated from the Management of Change system.</p>
          </div>
        </body>
      </html>
    `,Wi=new Blob([pt],{type:"application/msword"}),Ft=URL.createObjectURL(Wi),Pn=document.createElement("a");Pn.href=Ft,Pn.download=`MOC_${S.mocIdString}_${new Date().toISOString().split("T")[0]}.doc`,document.body.appendChild(Pn),Pn.click(),document.body.removeChild(Pn),URL.revokeObjectURL(Ft),ie.success("Professional MOC document exported successfully")},Ue=ae=>new Date(ae).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),De=()=>{const ae=S.status,Ce=[];return ue("pending_department_approval")&&ae==="draft"&&Ce.push({status:"pending_department_approval",label:"Submit for Approval",icon:Lx}),ue("in_progress")&&ae==="approved"&&Ce.push({status:"in_progress",label:"Start Implementation",icon:df}),ue("pending_closeout")&&ae==="in_progress"&&Ce.push({status:"pending_closeout",label:"Mark as Complete",icon:Qc}),ue("cancelled")&&Ce.push({status:"cancelled",label:"Cancel MOC",icon:$i}),Ce},Lt=()=>S.status==="in_progress"||S.status==="pending_closeout"||S.status==="completed"?"MOC":"RFC",Dn=()=>S.status==="in_progress"||S.status==="pending_closeout"||S.status==="completed"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800",ss=()=>{const ae=[];return S.assignedToName&&S.assignedToName!=="N/A"&&ae.push({role:"Assigned To",name:S.assignedToName}),S.technicalAuthorityApproverNames&&S.technicalAuthorityApproverNames.length>0&&ae.push({role:"Technical Authority Approvers",name:S.technicalAuthorityApproverNames.join(", ")}),S.closeOutApproverNames&&S.closeOutApproverNames.length>0&&ae.push({role:"Closeout Approvers",name:S.closeOutApproverNames.join(", ")}),S.viewerNames&&S.viewerNames.length>0&&ae.push({role:"Viewers",name:S.viewerNames.join(", ")}),S.requestedByDepartmentName&&S.requestedByDepartmentName!=="N/A"&&ae.push({role:"Requested By Department",name:S.requestedByDepartmentName}),ae};return h.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("button",{onClick:e,className:"p-2 hover:bg-blue-500 rounded-lg transition-colors",children:h.jsx(q_,{size:20})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("h1",{className:"text-2xl font-bold",children:S.mocIdString}),h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Dn()}`,children:Lt()}),h.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${yM[S.status]}`,children:[h.jsx(J,{size:16,className:"inline mr-1"}),S.status.replace(/_/g," ").toUpperCase()]})]}),h.jsx("h2",{className:"text-lg mt-1 opacity-90",children:S.title})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs("button",{onClick:xe,className:"btn btn-secondary btn-sm flex items-center gap-2",children:[h.jsx(RS,{size:16}),"Print"]}),h.jsxs("button",{onClick:re,className:"btn btn-secondary btn-sm flex items-center gap-2",children:[h.jsx(oS,{size:16}),"Export Word"]}),G&&h.jsxs("button",{onClick:()=>r(!0),className:"btn btn-primary btn-sm flex items-center gap-2",children:[h.jsx(IS,{size:16}),"Edit"]}),se&&h.jsxs("button",{onClick:K,className:"btn btn-danger btn-sm flex items-center gap-2",children:[h.jsx(ko,{size:16}),"Delete"]})]})]})}),h.jsx("div",{className:"p-6 border-b bg-gray-50",children:h.jsxs("div",{className:"flex flex-wrap gap-3",children:[De().map(ae=>{const Ce=ae.icon;return h.jsxs("button",{onClick:()=>{b(ae.status),y(!0)},className:"btn btn-primary flex items-center gap-2",children:[h.jsx(Ce,{size:16}),ae.label]},ae.status)}),S.status==="pending_department_approval"&&((Hn=S.departmentApprovals)==null?void 0:Hn.map(ae=>ae.status==="pending"&&(R||(t==null?void 0:t._id)===ae.approverId)?h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>ee(ae.departmentId,"approved"),className:"btn btn-success flex items-center gap-2",children:[h.jsx(Yi,{size:16}),"Approve (",ae.departmentName,")"]}),h.jsxs("button",{onClick:()=>{m(""),ee(ae.departmentId,"rejected")},className:"btn btn-danger flex items-center gap-2",children:[h.jsx($a,{size:16}),"Reject (",ae.departmentName,")"]})]},ae.departmentId):null)),S.status==="pending_final_review"&&me&&h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>{b("approved"),y(!0)},className:"btn btn-success flex items-center gap-2",children:[h.jsx(Yi,{size:16}),"Approve"]}),h.jsxs("button",{onClick:()=>{b("rejected"),y(!0)},className:"btn btn-danger flex items-center gap-2",children:[h.jsx($a,{size:16}),"Reject"]})]}),S.status==="pending_closeout"&&te&&h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>{Y("approved"),E(!0)},className:"btn btn-success flex items-center gap-2",children:[h.jsx(Yi,{size:16}),"Approve Closeout"]}),h.jsxs("button",{onClick:()=>{Y("rejected"),E(!0)},className:"btn btn-danger flex items-center gap-2",children:[h.jsx($a,{size:16}),"Reject Closeout"]})]}),S.status==="rejected"&&oe&&h.jsxs("button",{onClick:le,className:"btn btn-primary flex items-center gap-2",children:[h.jsx(zS,{size:16}),"Resubmit"]}),h.jsxs("button",{onClick:()=>u(!0),className:"btn btn-outline-secondary flex items-center gap-2",children:[h.jsx(Ox,{size:16}),"Edit History"]})]})}),h.jsxs("div",{className:"p-6 space-y-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[h.jsx(Rx,{size:20,className:"text-blue-600"}),"Basic Information"]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Submitter"}),h.jsx("p",{className:"text-gray-900",children:S.submitterName})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date Raised"}),h.jsx("p",{className:"text-gray-900",children:Ue(S.dateRaised)})]}),S.submittedAt&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date Submitted"}),h.jsx("p",{className:"text-gray-900",children:Ue(S.submittedAt)})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[h.jsx(Xc,{size:20,className:"text-green-600"}),"Access Control"]}),h.jsx("div",{className:"space-y-3",children:ss().length>0?ss().map((ae,Ce)=>h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:ae.role}),h.jsx("p",{className:"text-gray-900 text-sm leading-relaxed",children:ae.name})]},Ce)):h.jsx("p",{className:"text-gray-500 text-sm",children:"No specific access control assigned"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[h.jsx($c,{size:20,className:"text-purple-600"}),"Timeline"]}),h.jsxs("div",{className:"space-y-3",children:[S.startDateOfChange&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),h.jsx("p",{className:"text-gray-900",children:Ue(S.startDateOfChange)})]}),S.expectedCompletionDate&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Expected Completion"}),h.jsx("p",{className:"text-gray-900",children:Ue(S.expectedCompletionDate)})]}),S.deadline&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Deadline"}),h.jsx("p",{className:"text-gray-900",children:Ue(S.deadline)})]})]})]})]}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[h.jsx(Za,{size:20,className:"text-blue-600"}),"Description"]}),h.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:h.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:S.description})})]}),(S.reasonForChange||S.changeType||S.changeCategory)&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[h.jsx(zx,{size:20,className:"text-orange-600"}),"Change Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[S.reasonForChange&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Reason for Change"}),h.jsx("p",{className:"text-gray-900 mt-1",children:S.reasonForChange})]}),S.changeType&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Change Type"}),h.jsx("p",{className:"text-gray-900 mt-1 capitalize",children:S.changeType})]}),S.changeCategory&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Change Category"}),h.jsx("p",{className:"text-gray-900 mt-1",children:S.changeCategory})]})]})]}),S.riskAssessmentRequired&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[h.jsx(qx,{size:20,className:"text-red-600"}),"Risk Assessment"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.impactAssessment&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Impact Assessment"}),h.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-1",children:h.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:S.impactAssessment})})]}),S.hseImpactAssessment&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"HSE Impact Assessment"}),h.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-1",children:h.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:S.hseImpactAssessment})})]}),S.riskEvaluation&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Risk Evaluation"}),h.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-1",children:h.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:S.riskEvaluation})})]}),S.riskLevelPreMitigation&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Risk Level (Pre-Mitigation)"}),h.jsx("p",{className:"text-gray-900 mt-1 capitalize",children:S.riskLevelPreMitigation})]}),S.riskMatrixPreMitigation&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Risk Matrix (Pre-Mitigation)"}),h.jsx("p",{className:"text-gray-900 mt-1",children:S.riskMatrixPreMitigation})]}),S.riskLevelPostMitigation&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Risk Level (Post-Mitigation)"}),h.jsx("p",{className:"text-gray-900 mt-1 capitalize",children:S.riskLevelPostMitigation})]}),S.riskMatrixPostMitigation&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Risk Matrix (Post-Mitigation)"}),h.jsx("p",{className:"text-gray-900 mt-1",children:S.riskMatrixPostMitigation})]})]})]}),(S.preChangeCondition||S.postChangeCondition||S.implementationOwner)&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[h.jsx(US,{size:20,className:"text-green-600"}),"Implementation Details"]}),h.jsxs("div",{className:"space-y-4",children:[S.preChangeCondition&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Pre-Change Condition"}),h.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-1",children:h.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:S.preChangeCondition})})]}),S.postChangeCondition&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Post-Change Condition"}),h.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-1",children:h.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:S.postChangeCondition})})]}),S.implementationOwner&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Implementation Owner"}),h.jsx("p",{className:"text-gray-900 mt-1",children:S.implementationOwner})]})]})]}),S.reviewComments&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[h.jsx(SS,{size:20,className:"text-blue-600"}),"Review Comments"]}),h.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-6 rounded-lg shadow-sm",children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("p",{className:"text-base font-semibold text-gray-900",children:S.reviewerName}),h.jsx("p",{className:"text-sm font-medium text-gray-600",children:S.reviewedAt?Ue(S.reviewedAt):"N/A"})]}),h.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:h.jsx("p",{className:"text-gray-800 text-base leading-relaxed whitespace-pre-wrap font-medium",children:S.reviewComments})})]})]}),S.departmentApprovals&&S.departmentApprovals.length>0&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[h.jsx(Tx,{size:20,className:"text-blue-600"}),"Department Approvals"]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approver"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comments"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.departmentApprovals.map((ae,Ce)=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ae.departmentName}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ae.status==="approved"?"bg-green-100 text-green-800":ae.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:ae.status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ae.approverDisplayName||"N/A"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ae.approvedAt?Ue(ae.approvedAt):"N/A"}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:ae.comments||"N/A"})]},Ce))})]})})]}),S.attachments&&S.attachments.length>0&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[h.jsx(yo,{size:20,className:"text-purple-600"}),"Attachments"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.attachments.map(ae=>h.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ae.fileName}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded by ",ae.uploadedByName]})]}),ae.url&&h.jsx("a",{href:ae.url,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:text-blue-800",children:h.jsx(yo,{size:16})})]})},ae._id))})]})]}),g&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Change Status to ",x==null?void 0:x.replace(/_/g," ").toUpperCase()]}),h.jsx("textarea",{value:d,onChange:ae=>m(ae.target.value),placeholder:"Add comments (required for approval/rejection)...",className:"w-full p-3 border rounded-lg resize-none",rows:4}),h.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[h.jsx("button",{onClick:()=>{y(!1),b(null),m("")},className:"btn btn-outline-secondary",children:"Cancel"}),h.jsx("button",{onClick:()=>C(x),className:"btn btn-primary",children:"Confirm"})]})]})}),M&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:D==="approved"?"Approve Closeout":"Reject Closeout"}),h.jsx("textarea",{value:d,onChange:ae=>m(ae.target.value),placeholder:D==="rejected"?"Please provide reason for rejection...":"Add comments (optional)...",className:"w-full p-3 border rounded-lg resize-none",rows:4}),h.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[h.jsx("button",{onClick:()=>{E(!1),Y(null),m("")},className:"btn btn-outline-secondary",children:"Cancel"}),h.jsx("button",{onClick:F,className:`btn ${D==="approved"?"btn-success":"btn-danger"}`,children:D==="approved"?"Approve":"Reject"})]})]})}),l&&h.jsx(pM,{mocRequestId:s,isOpen:l,onClose:()=>u(!1),currentUser:t})]})}const vM="hassanhany@scimitaregypt.com",hn=s=>s===vM;function wM({onClose:s,onSuccess:e,initialData:t,isEditing:i,currentUser:r}){const[l,u]=Q.useState({name:"",email:"",password:"",isAdmin:!1,canCreateMocs:!1,canEditAnyMoc:!1,canDeleteAnyMoc:!1,canManageUsers:!1,canManageDepartments:!1,canViewAllMocs:!1,canManageMocRolesGlobally:!1,departmentId:""}),[d,m]=Q.useState(!1),[g,y]=Q.useState(!1),[x,b]=Q.useState(""),[w,N]=Q.useState(!1),[A,j]=Q.useState(!1),M=Ze(fe.departments.listDepartments)||[],E=Uc(fe.users.createUser);Q.useEffect(()=>{t&&i&&u({name:t.name||"",email:t.email||"",password:"",isAdmin:t.isAdmin||!1,canCreateMocs:t.canCreateMocs||!1,canEditAnyMoc:t.canEditAnyMoc||!1,canDeleteAnyMoc:t.canDeleteAnyMoc||!1,canManageUsers:t.canManageUsers||!1,canManageDepartments:t.canManageDepartments||!1,canViewAllMocs:t.canViewAllMocs||!1,canManageMocRolesGlobally:t.canManageMocRolesGlobally||!1,departmentId:t.departmentId||""})},[t,i]);const D=async q=>{if(q.preventDefault(),!l.name.trim()||!l.email.trim()){ie.error("Name and email are required");return}if(!i&&!l.password.trim()){ie.error("Admin reference password is required for new users");return}y(!0);try{if(i){const L={name:l.name,email:l.email,isAdmin:l.isAdmin,canCreateMocs:l.canCreateMocs,canEditAnyMoc:l.canEditAnyMoc,canDeleteAnyMoc:l.canDeleteAnyMoc,canManageUsers:l.canManageUsers,canManageDepartments:l.canManageDepartments,canViewAllMocs:l.canViewAllMocs,canManageMocRolesGlobally:l.canManageMocRolesGlobally,departmentId:l.departmentId||void 0};await e(L)}else{const L=await E({name:l.name,email:l.email,temporaryPassword:l.password,isAdmin:l.isAdmin,canCreateMocs:l.canCreateMocs,canEditAnyMoc:l.canEditAnyMoc,canDeleteAnyMoc:l.canDeleteAnyMoc,canManageUsers:l.canManageUsers,canManageDepartments:l.canManageDepartments,canViewAllMocs:l.canViewAllMocs,canManageMocRolesGlobally:l.canManageMocRolesGlobally,requestingUserId:r._id});b(l.password),N(!0),ie.success("User created successfully! Please share the temporary password with the user.")}}catch(L){ie.error(`Failed to ${i?"update":"create"} user: ${L.message}`)}finally{y(!1)}},Y=(q,L)=>{u(J=>({...J,[q]:L}))},S=async()=>{try{await navigator.clipboard.writeText(x),j(!0),ie.success("Temporary password copied to clipboard"),setTimeout(()=>j(!1),2e3)}catch{ie.error("Failed to copy password")}},T=()=>{N(!1),b(""),e(),s()},$=i&&hn(t==null?void 0:t.email),I=!$||hn(r==null?void 0:r.email);return w&&x?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-green-100 mb-4",children:h.jsx(X0,{size:24,className:"text-green-600"})}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Created Successfully!"}),h.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Please share the temporary password with ",h.jsx("strong",{children:l.email})]})]}),h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-6",children:[h.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Temporary Password:"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("code",{className:"flex-1 bg-yellow-100 text-yellow-900 px-3 py-2 rounded text-lg font-mono",children:x}),h.jsx("button",{onClick:S,className:"p-2 text-yellow-700 hover:text-yellow-900 hover:bg-yellow-100 rounded",title:"Copy password",children:A?h.jsx(X0,{size:16}):h.jsx(J_,{size:16})})]}),h.jsx("p",{className:"text-xs text-yellow-700 mt-2",children:"The user will need to use this temporary password to set up their account on first login."})]}),h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:[h.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Next Steps:"}),h.jsxs("ol",{className:"text-xs text-blue-700 space-y-1 list-decimal list-inside",children:[h.jsx("li",{children:"Share the temporary password with the user"}),h.jsx("li",{children:"User signs in with their email and temporary password"}),h.jsx("li",{children:"User will be prompted to set a new password"}),h.jsx("li",{children:"User can then access the system normally"})]})]}),h.jsx("button",{onClick:T,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Done"})]})}):h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i?"Edit User":"Create New User",$&&h.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[h.jsx(Ec,{size:12}),"Super Admin"]})]}),h.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:h.jsx($i,{size:20})})]}),$&&!hn(r==null?void 0:r.email)&&h.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:h.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ You are viewing the super admin account. Some fields cannot be modified."})}),h.jsxs("form",{onSubmit:D,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),h.jsx("input",{type:"text",value:l.name,onChange:q=>u(L=>({...L,name:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full name",required:!0,disabled:$&&!hn(r==null?void 0:r.email)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),h.jsx("input",{type:"email",value:l.email,onChange:q=>u(L=>({...L,email:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email address",required:!0,disabled:$&&!hn(r==null?void 0:r.email)})]})]}),!i&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Reference Password *"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:d?"text":"password",value:l.password,onChange:q=>u(L=>({...L,password:q.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password (for admin reference only)",required:!0}),h.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?h.jsx(Qa,{size:16}):h.jsx(ri,{size:16})})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This password is for admin reference only. The user will receive a secure temporary password to set up their account."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),h.jsxs("select",{value:l.departmentId,onChange:q=>u(L=>({...L,departmentId:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:$&&!hn(r==null?void 0:r.email),children:[h.jsx("option",{value:"",children:"No Department"}),M.map(q=>h.jsx("option",{value:q._id,children:q.name},q._id))]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Permissions"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:l.isAdmin,onChange:q=>Y("isAdmin",q.target.checked),className:"checkbox checkbox-sm",disabled:!I}),h.jsxs("span",{className:"text-sm flex items-center gap-1",children:["Administrator",$&&h.jsx(Ec,{size:12,className:"text-yellow-600"})]})]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:l.canCreateMocs,onChange:q=>Y("canCreateMocs",q.target.checked),className:"checkbox checkbox-sm",disabled:$&&!hn(r==null?void 0:r.email)}),h.jsx("span",{className:"text-sm",children:"Can Create MOCs"})]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:l.canEditAnyMoc,onChange:q=>Y("canEditAnyMoc",q.target.checked),className:"checkbox checkbox-sm",disabled:$&&!hn(r==null?void 0:r.email)}),h.jsx("span",{className:"text-sm",children:"Can Edit Any MOC"})]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:l.canDeleteAnyMoc,onChange:q=>Y("canDeleteAnyMoc",q.target.checked),className:"checkbox checkbox-sm",disabled:$&&!hn(r==null?void 0:r.email)}),h.jsx("span",{className:"text-sm",children:"Can Delete Any MOC"})]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:l.canManageUsers,onChange:q=>Y("canManageUsers",q.target.checked),className:"checkbox checkbox-sm",disabled:$&&!hn(r==null?void 0:r.email)}),h.jsx("span",{className:"text-sm",children:"Can Manage Users"})]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:l.canManageDepartments,onChange:q=>Y("canManageDepartments",q.target.checked),className:"checkbox checkbox-sm",disabled:$&&!hn(r==null?void 0:r.email)}),h.jsx("span",{className:"text-sm",children:"Can Manage Departments"})]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:l.canViewAllMocs,onChange:q=>Y("canViewAllMocs",q.target.checked),className:"checkbox checkbox-sm",disabled:$&&!hn(r==null?void 0:r.email)}),h.jsx("span",{className:"text-sm",children:"Can View All MOCs"})]}),h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:l.canManageMocRolesGlobally,onChange:q=>Y("canManageMocRolesGlobally",q.target.checked),className:"checkbox checkbox-sm",disabled:$&&!hn(r==null?void 0:r.email)}),h.jsx("span",{className:"text-sm",children:"Can Manage MOC Roles Globally"})]})]})]}),!I&&h.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:h.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ Admin status cannot be modified for the super admin account."})}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",disabled:g,children:"Cancel"}),h.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:g,children:g?"Processing...":i?"Update User":"Create User"})]})]})]})})}function _M({currentUser:s}){const[e,t]=Q.useState(!1),[i,r]=Q.useState(null),[l,u]=Q.useState({name:"",description:"",approverUserIds:[]}),d=Ze(fe.departments.listDepartments)||[],m=Ze(fe.users.listAllUsers,s!=null&&s._id?{requestingUserId:s._id}:"skip")||[],g=Fe(fe.departments.createDepartment),y=Fe(fe.departments.updateDepartment),x=Fe(fe.departments.deleteDepartment),b=async M=>{if(M.preventDefault(),!l.name.trim()){ie.error("Department name is required");return}try{i?(await y({departmentId:i._id,requestingUserId:s._id,...l}),ie.success("Department updated successfully")):(await g({...l,requestingUserId:s._id}),ie.success("Department created successfully")),A()}catch(E){ie.error(`Failed to ${i?"update":"create"} department: ${E.message}`)}},w=M=>{r(M),u({name:M.name,description:M.description||"",approverUserIds:M.approverUserIds||[]}),t(!0)},N=async M=>{if(confirm("Are you sure you want to delete this department?"))try{await x({departmentId:M,requestingUserId:s._id}),ie.success("Department deleted successfully")}catch(E){const D=E.message;if(D.includes("forceDelete")){if(confirm("This department has references in MOCs. Would you like to force delete it? This will remove all references to this department from existing MOCs."))try{await x({departmentId:M,requestingUserId:s._id,forceDelete:!0}),ie.success("Department force deleted successfully")}catch(S){ie.error(`Failed to force delete department: ${S.message}`)}}else ie.error(`Failed to delete department: ${D}`)}},A=()=>{u({name:"",description:"",approverUserIds:[]}),r(null),t(!1)},j=M=>{u(E=>({...E,approverUserIds:E.approverUserIds.includes(M)?E.approverUserIds.filter(D=>D!==M):[...E.approverUserIds,M]}))};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(uf,{size:24}),"Department Management"]}),h.jsxs("button",{onClick:()=>t(!0),className:"btn btn-primary flex items-center gap-2",children:[h.jsx(DS,{size:16}),"Create Department"]})]}),h.jsx("div",{className:"grid gap-4",children:d.map(M=>{var E;return h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.name}),M.description&&h.jsx("p",{className:"text-gray-600 mt-1",children:M.description}),h.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-500",children:[h.jsx(Xc,{size:16}),h.jsx("span",{children:(E=M.approverUserIds)!=null&&E.length?`${M.approverUserIds.length} approver${M.approverUserIds.length>1?"s":""}`:"0 approvers"})]}),M.approverUserIds&&M.approverUserIds.length>0&&h.jsxs("div",{className:"mt-2",children:[h.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Approver",M.approverUserIds.length>1?"s":"",":"]}),h.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:M.approverUserIds.map(D=>{const Y=m.find(S=>S._id===D);return Y?h.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:Y.name||Y.email},D):null})})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>w(M),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:h.jsx(Ex,{size:16})}),h.jsx("button",{onClick:()=>N(M._id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:h.jsx(ko,{size:16})})]})]})},M._id)})}),e&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold",children:i?"Edit Department":"Create Department"}),h.jsx("button",{onClick:A,className:"text-gray-400 hover:text-gray-600",children:h.jsx($i,{size:20})})]}),h.jsxs("form",{onSubmit:b,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Name *"}),h.jsx("input",{type:"text",value:l.name,onChange:M=>u(E=>({...E,name:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter department name",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{value:l.description,onChange:M=>u(E=>({...E,description:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter department description",rows:3})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department Approvers"}),h.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-md p-2",children:m.map(M=>h.jsxs("label",{className:"flex items-center gap-2 p-1 hover:bg-gray-50 rounded cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:l.approverUserIds.includes(M._id),onChange:()=>j(M._id),className:"checkbox checkbox-sm"}),h.jsx("span",{className:"text-sm",children:M.name||M.email})]},M._id))})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:A,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),h.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:i?"Update":"Create"})]})]})]})})]})}const SM="hassanhany@scimitaregypt.com",Ti=s=>s===SM;function MM({currentUser:s}){const[e,t]=Q.useState("users"),[i,r]=Q.useState(!1),[l,u]=Q.useState(null),d=Ze(fe.users.listAllUsers,s!=null&&s._id&&(s==null?void 0:s.isAdmin)===!0?{requestingUserId:s._id}:"skip")||[];if(!s||s.isAdmin!==!0)return h.jsx("div",{className:"flex items-center justify-center min-h-64",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),h.jsx("p",{className:"text-gray-600",children:"You need administrator privileges to access this page."})]})});const m=Ze(fe.departments.listDepartments)||[],g=Fe(fe.users.updateUser),y=Fe(fe.departments.assignUserToDepartment),x=Fe(fe.users.approveUser),b=Fe(fe.users.rejectUser),w=Fe(fe.users.deleteUser),N=d.filter(L=>L.isApproved),A=d.filter(L=>!L.isApproved),j=async L=>{try{await x({userId:L,requestingUserId:s._id}),ie.success("User approved successfully")}catch(J){ie.error(`Failed to approve user: ${J.message}`)}},M=async L=>{if(confirm("Are you sure you want to reject this user? This action cannot be undone."))try{await b({userId:L,requestingUserId:s._id}),ie.success("User rejected successfully")}catch(J){ie.error(`Failed to reject user: ${J.message}`)}},E=async(L,J)=>{const oe=`Are you sure you want to permanently delete "${J}"?

This will:
- Delete the user account
- Remove all their notifications
- Clear their edit history
- Remove all related data

This action CANNOT be undone.`;if(confirm(oe))try{await w({userId:L,requestingUserId:s._id}),ie.success("User deleted successfully")}catch(ce){ie.error(`Failed to delete user: ${ce.message}`)}},D=L=>{u(L),r(!0)},Y=async L=>{if(l)try{await g({userId:l._id,requestingUserId:s._id,...L}),ie.success("User updated successfully"),u(null),r(!1)}catch(J){ie.error(`Failed to update user: ${J.message}`)}},S=async(L,J)=>{try{await y({userId:L,departmentId:J,requestingUserId:s._id}),ie.success("User department assignment updated")}catch{ie.error("Failed to update department assignment")}},T=L=>{if(!L)return"No Department";const J=m.find(oe=>oe._id===L);return(J==null?void 0:J.name)||"Unknown Department"},$=L=>Ti(s.email)?!0:!Ti(L.email),I=L=>!(Ti(L.email)||L._id===s._id),q=[{id:"users",label:"Users",icon:Xc,count:N.length},{id:"pending",label:"Pending Approval",icon:Qc,count:A.length},{id:"departments",label:"Departments",icon:uf,count:m.length}];return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(zx,{size:28}),"Admin Panel",Ti(s.email)&&h.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-sm px-2 py-1 rounded-full flex items-center gap-1",children:[h.jsx(Ec,{size:14}),"Super Admin"]})]}),e==="users"&&h.jsxs("button",{onClick:()=>r(!0),className:"btn btn-primary flex items-center gap-2",children:[h.jsx(Sc,{size:16}),"Create User"]})]}),h.jsx("div",{className:"border-b border-gray-200",children:h.jsx("nav",{className:"-mb-px flex space-x-8",children:q.map(L=>h.jsxs("button",{onClick:()=>t(L.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${e===L.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[h.jsx(L.icon,{size:16}),L.label,h.jsx("span",{className:"bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-xs",children:L.count})]},L.id))})}),e==="users"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Approved Users"}),h.jsx("div",{className:"grid gap-4",children:N.map(L=>h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:L.name||"No Name"}),L.isAdmin&&h.jsxs("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[Ti(L.email)&&h.jsx(Ec,{size:12}),Ti(L.email)?"Super Admin":"Admin"]})]}),h.jsx("p",{className:"text-gray-600",children:L.email}),Ti(L.email)&&h.jsx("p",{className:"text-sm text-yellow-600 font-medium mt-1",children:"🛡️ Protected Account - Cannot be modified or deleted"}),h.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Department: ",T(L.departmentId)]}),$(L)&&h.jsxs("div",{className:"mt-3",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign Department:"}),h.jsxs("select",{value:L.departmentId||"",onChange:J=>S(L._id,J.target.value?J.target.value:void 0),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[h.jsx("option",{value:"",children:"No Department"}),m.map(J=>h.jsx("option",{value:J._id,children:J.name},J._id))]})]}),h.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[L.canCreateMocs&&h.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Can Create MOCs"}),L.canEditAnyMoc&&h.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"Can Edit Any MOC"}),L.canDeleteAnyMoc&&h.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded",children:"Can Delete Any MOC"})]})]}),h.jsxs("div",{className:"flex gap-2",children:[$(L)&&h.jsx("button",{onClick:()=>D(L),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Edit user",children:h.jsx(Ex,{size:16})}),I(L)&&h.jsx("button",{onClick:()=>E(L._id,L.name||L.email||"Unknown User"),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete user",children:h.jsx(ko,{size:16})})]})]})},L._id))})]}),e==="pending"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending User Approvals"}),A.length===0?h.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pending user approvals"}):h.jsx("div",{className:"grid gap-4",children:A.map(L=>h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border border-yellow-200",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:L.name||"No Name"}),h.jsx("p",{className:"text-gray-600",children:L.email}),h.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full mt-2 inline-block",children:"Pending Approval"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>j(L._id),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Approve"}),h.jsx("button",{onClick:()=>M(L._id),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Reject"})]})]})},L._id))})]}),e==="departments"&&h.jsx(_M,{currentUser:s}),i&&h.jsx(wM,{onClose:()=>{r(!1),u(null)},onSuccess:l?Y:()=>{r(!1),u(null)},initialData:l,isEditing:!!l,currentUser:s})]})}function NM({currentUser:s}){const[e,t]=Q.useState("");Q.useEffect(()=>{const b=new Date().getHours();b<12?t("Good morning"):b<17?t("Good afternoon"):t("Good evening")},[]);const i=Ze(fe.moc.listRequests,s!=null&&s._id?{statusFilter:"all",requestingUserId:s._id}:"skip")||[],r=i.filter(b=>b.submitterId===(s==null?void 0:s._id)||b.assignedToId===(s==null?void 0:s._id)),l=i.filter(b=>b.status==="pending_department_approval"||b.status==="pending_final_review"),u=i.filter(b=>b.status==="approved");i.filter(b=>b.status==="rejected");const d=i.filter(b=>b.status==="draft"),m=i.sort((b,w)=>w._creationTime-b._creationTime).slice(0,5),g=[{title:"Total MOCs",value:i.length,icon:Za,color:"bg-blue-500",textColor:"text-blue-600",bgColor:"bg-blue-50"},{title:"Pending Approval",value:l.length,icon:Rc,color:"bg-yellow-500",textColor:"text-yellow-600",bgColor:"bg-yellow-50"},{title:"Approved",value:u.length,icon:Yi,color:"bg-green-500",textColor:"text-green-600",bgColor:"bg-green-50"},{title:"My MOCs",value:r.length,icon:Xc,color:"bg-purple-500",textColor:"text-purple-600",bgColor:"bg-purple-50"}],y=b=>{switch(b){case"draft":return"bg-gray-100 text-gray-800";case"pending_approval":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"implemented":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},x=b=>b.split("_").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" ");return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 rounded-lg shadow-lg",children:[h.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[e,", ",(s==null?void 0:s.name)||(s==null?void 0:s.email)||"User","! 👋"]}),h.jsx("p",{className:"text-blue-100",children:"Welcome to the RFC Platform. Here's an overview of your change management activities."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map((b,w)=>h.jsx("div",{className:`${b.bgColor} p-6 rounded-lg shadow-md`,children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:b.title}),h.jsx("p",{className:`text-3xl font-bold ${b.textColor}`,children:b.value})]}),h.jsx("div",{className:`${b.color} p-3 rounded-full`,children:h.jsx(b.icon,{className:"h-6 w-6 text-white"})})]})},w))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[h.jsx(XS,{size:20}),"Recent MOCs"]})}),h.jsx("div",{className:"space-y-3",children:m.length===0?h.jsx("p",{className:"text-gray-500 text-center py-4",children:"No MOCs found"}):m.map(b=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-medium text-gray-900 truncate",children:b.title}),h.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(b._creationTime).toLocaleDateString(),b.departmentApprovals&&b.departmentApprovals.length>0&&h.jsxs("span",{className:"ml-2 text-xs",children:["• ",b.departmentApprovals.filter(w=>w.status==="approved").length,"/",b.departmentApprovals.length," depts approved"]})]})]}),h.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${y(b.status)}`,children:x(b.status)})]},b._id))})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[h.jsx($c,{size:20}),"Quick Actions"]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"p-4 border border-blue-200 rounded-lg bg-blue-50",children:[h.jsx("h3",{className:"font-medium text-blue-900",children:"Pending Your Review"}),h.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:[l.length," RFCs waiting for approval"]})]}),h.jsxs("div",{className:"p-4 border border-green-200 rounded-lg bg-green-50",children:[h.jsx("h3",{className:"font-medium text-green-900",children:"Recently Approved"}),h.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[u.length," RFCs have been approved"]})]}),d.length>0&&h.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[h.jsx("h3",{className:"font-medium text-gray-900",children:"Draft RFCs"}),h.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[d.length," RFCs in draft status"]})]})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Overview"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.length}),h.jsx("div",{className:"text-sm text-gray-600",children:"Total RFCs"})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(u.length/Math.max(i.length,1)*100),"%"]}),h.jsx("div",{className:"text-sm text-gray-600",children:"Approval Rate"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:l.length}),h.jsx("div",{className:"text-sm text-gray-600",children:"Awaiting Review"})]})]})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ho(s){return s+.5|0}const si=(s,e,t)=>Math.max(Math.min(s,t),e);function lo(s){return si(Ho(s*2.55),0,255)}function oi(s){return si(Ho(s*255),0,255)}function As(s){return si(Ho(s/2.55)/100,0,1)}function W0(s){return si(Ho(s*100),0,100)}const Nn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fh=[..."0123456789ABCDEF"],AM=s=>Fh[s&15],jM=s=>Fh[(s&240)>>4]+Fh[s&15],lc=s=>(s&240)>>4===(s&15),kM=s=>lc(s.r)&&lc(s.g)&&lc(s.b)&&lc(s.a);function CM(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&Nn[s[1]]*17,g:255&Nn[s[2]]*17,b:255&Nn[s[3]]*17,a:e===5?Nn[s[4]]*17:255}:(e===7||e===9)&&(t={r:Nn[s[1]]<<4|Nn[s[2]],g:Nn[s[3]]<<4|Nn[s[4]],b:Nn[s[5]]<<4|Nn[s[6]],a:e===9?Nn[s[7]]<<4|Nn[s[8]]:255})),t}const TM=(s,e)=>s<255?e(s):"";function DM(s){var e=kM(s)?AM:jM;return s?"#"+e(s.r)+e(s.g)+e(s.b)+TM(s.a,e):void 0}const OM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Px(s,e,t){const i=e*Math.min(t,1-t),r=(l,u=(l+s/30)%12)=>t-i*Math.max(Math.min(u-3,9-u,1),-1);return[r(0),r(8),r(4)]}function RM(s,e,t){const i=(r,l=(r+s/60)%6)=>t-t*e*Math.max(Math.min(l,4-l,1),0);return[i(5),i(3),i(1)]}function EM(s,e,t){const i=Px(s,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function zM(s,e,t,i,r){return s===r?(e-t)/i+(e<t?6:0):e===r?(t-s)/i+2:(s-e)/i+4}function ff(s){const t=s.r/255,i=s.g/255,r=s.b/255,l=Math.max(t,i,r),u=Math.min(t,i,r),d=(l+u)/2;let m,g,y;return l!==u&&(y=l-u,g=d>.5?y/(2-l-u):y/(l+u),m=zM(t,i,r,y,l),m=m*60+.5),[m|0,g||0,d]}function mf(s,e,t,i){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,i)).map(oi)}function gf(s,e,t){return mf(Px,s,e,t)}function qM(s,e,t){return mf(EM,s,e,t)}function LM(s,e,t){return mf(RM,s,e,t)}function Yx(s){return(s%360+360)%360}function BM(s){const e=OM.exec(s);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?lo(+e[5]):oi(+e[5]));const r=Yx(+e[2]),l=+e[3]/100,u=+e[4]/100;return e[1]==="hwb"?i=qM(r,l,u):e[1]==="hsv"?i=LM(r,l,u):i=gf(r,l,u),{r:i[0],g:i[1],b:i[2],a:t}}function HM(s,e){var t=ff(s);t[0]=Yx(t[0]+e),t=gf(t),s.r=t[0],s.g=t[1],s.b=t[2]}function PM(s){if(!s)return;const e=ff(s),t=e[0],i=W0(e[1]),r=W0(e[2]);return s.a<255?`hsla(${t}, ${i}%, ${r}%, ${As(s.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const Z0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},K0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function YM(){const s={},e=Object.keys(K0),t=Object.keys(Z0);let i,r,l,u,d;for(i=0;i<e.length;i++){for(u=d=e[i],r=0;r<t.length;r++)l=t[r],d=d.replace(l,Z0[l]);l=parseInt(K0[u],16),s[d]=[l>>16&255,l>>8&255,l&255]}return s}let cc;function VM(s){cc||(cc=YM(),cc.transparent=[0,0,0,0]);const e=cc[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const IM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function FM(s){const e=IM.exec(s);let t=255,i,r,l;if(e){if(e[7]!==i){const u=+e[7];t=e[8]?lo(u):si(u*255,0,255)}return i=+e[1],r=+e[3],l=+e[5],i=255&(e[2]?lo(i):si(i,0,255)),r=255&(e[4]?lo(r):si(r,0,255)),l=255&(e[6]?lo(l):si(l,0,255)),{r:i,g:r,b:l,a:t}}}function UM(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${As(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const _h=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Va=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function $M(s,e,t){const i=Va(As(s.r)),r=Va(As(s.g)),l=Va(As(s.b));return{r:oi(_h(i+t*(Va(As(e.r))-i))),g:oi(_h(r+t*(Va(As(e.g))-r))),b:oi(_h(l+t*(Va(As(e.b))-l))),a:s.a+t*(e.a-s.a)}}function uc(s,e,t){if(s){let i=ff(s);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=gf(i),s.r=i[0],s.g=i[1],s.b=i[2]}}function Vx(s,e){return s&&Object.assign(e||{},s)}function J0(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=oi(s[3]))):(e=Vx(s,{r:0,g:0,b:0,a:1}),e.a=oi(e.a)),e}function QM(s){return s.charAt(0)==="r"?FM(s):BM(s)}class To{constructor(e){if(e instanceof To)return e;const t=typeof e;let i;t==="object"?i=J0(e):t==="string"&&(i=CM(e)||VM(e)||QM(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Vx(this._rgb);return e&&(e.a=As(e.a)),e}set rgb(e){this._rgb=J0(e)}rgbString(){return this._valid?UM(this._rgb):void 0}hexString(){return this._valid?DM(this._rgb):void 0}hslString(){return this._valid?PM(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let l;const u=t===l?.5:t,d=2*u-1,m=i.a-r.a,g=((d*m===-1?d:(d+m)/(1+d*m))+1)/2;l=1-g,i.r=255&g*i.r+l*r.r+.5,i.g=255&g*i.g+l*r.g+.5,i.b=255&g*i.b+l*r.b+.5,i.a=u*i.a+(1-u)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=$M(this._rgb,e._rgb,t)),this}clone(){return new To(this.rgb)}alpha(e){return this._rgb.a=oi(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ho(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return uc(this._rgb,2,e),this}darken(e){return uc(this._rgb,2,-e),this}saturate(e){return uc(this._rgb,1,e),this}desaturate(e){return uc(this._rgb,1,-e),this}rotate(e){return HM(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ss(){}const XM=(()=>{let s=0;return()=>s++})();function qe(s){return s==null}function St(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Oe(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Cn(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function Gn(s,e){return Cn(s)?s:e}function ke(s,e){return typeof s>"u"?e:s}const GM=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,Ix=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function Ge(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function Pe(s,e,t,i){let r,l,u;if(St(s))for(l=s.length,r=0;r<l;r++)e.call(t,s[r],r);else if(Oe(s))for(u=Object.keys(s),l=u.length,r=0;r<l;r++)e.call(t,s[u[r]],u[r])}function zc(s,e){let t,i,r,l;if(!s||!e||s.length!==e.length)return!1;for(t=0,i=s.length;t<i;++t)if(r=s[t],l=e[t],r.datasetIndex!==l.datasetIndex||r.index!==l.index)return!1;return!0}function qc(s){if(St(s))return s.map(qc);if(Oe(s)){const e=Object.create(null),t=Object.keys(s),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=qc(s[t[r]]);return e}return s}function Fx(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function WM(s,e,t,i){if(!Fx(s))return;const r=e[s],l=t[s];Oe(r)&&Oe(l)?Do(r,l,i):e[s]=qc(l)}function Do(s,e,t){const i=St(e)?e:[e],r=i.length;if(!Oe(s))return s;t=t||{};const l=t.merger||WM;let u;for(let d=0;d<r;++d){if(u=i[d],!Oe(u))continue;const m=Object.keys(u);for(let g=0,y=m.length;g<y;++g)l(m[g],s,u,t)}return s}function xo(s,e){return Do(s,e,{merger:ZM})}function ZM(s,e,t){if(!Fx(s))return;const i=e[s],r=t[s];Oe(i)&&Oe(r)?xo(i,r):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=qc(r))}const ey={"":s=>s,x:s=>s.x,y:s=>s.y};function KM(s){const e=s.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function JM(s){const e=KM(s);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Fi(s,e){return(ey[e]||(ey[e]=JM(e)))(s)}function pf(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Oo=s=>typeof s<"u",li=s=>typeof s=="function",ty=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function eN(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const it=Math.PI,st=2*it,tN=st+it,Lc=Number.POSITIVE_INFINITY,nN=it/180,Mt=it/2,Di=it/4,ny=it*2/3,Ux=Math.log10,ts=Math.sign;function bo(s,e,t){return Math.abs(s-e)<t}function sy(s){const e=Math.round(s);s=bo(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(Ux(s))),i=s/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function sN(s){const e=[],t=Math.sqrt(s);let i;for(i=1;i<t;i++)s%i===0&&(e.push(i),e.push(s/i));return t===(t|0)&&e.push(t),e.sort((r,l)=>r-l).pop(),e}function iN(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function Ro(s){return!iN(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function aN(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function rN(s,e,t){let i,r,l;for(i=0,r=s.length;i<r;i++)l=s[i][t],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function js(s){return s*(it/180)}function oN(s){return s*(180/it)}function iy(s){if(!Cn(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function $x(s,e){const t=e.x-s.x,i=e.y-s.y,r=Math.sqrt(t*t+i*i);let l=Math.atan2(i,t);return l<-.5*it&&(l+=st),{angle:l,distance:r}}function Uh(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function lN(s,e){return(s-e+tN)%st-it}function ti(s){return(s%st+st)%st}function Eo(s,e,t,i){const r=ti(s),l=ti(e),u=ti(t),d=ti(l-r),m=ti(u-r),g=ti(r-l),y=ti(r-u);return r===l||r===u||i&&l===u||d>m&&g<y}function Vt(s,e,t){return Math.max(e,Math.min(t,s))}function cN(s){return Vt(s,-32768,32767)}function ii(s,e,t,i=1e-6){return s>=Math.min(e,t)-i&&s<=Math.max(e,t)+i}function yf(s,e,t){t=t||(u=>s[u]<e);let i=s.length-1,r=0,l;for(;i-r>1;)l=r+i>>1,t(l)?r=l:i=l;return{lo:r,hi:i}}const Hi=(s,e,t,i)=>yf(s,t,i?r=>{const l=s[r][e];return l<t||l===t&&s[r+1][e]===t}:r=>s[r][e]<t),uN=(s,e,t)=>yf(s,t,i=>s[i][e]>=t);function dN(s,e,t){let i=0,r=s.length;for(;i<r&&s[i]<e;)i++;for(;r>i&&s[r-1]>t;)r--;return i>0||r<s.length?s.slice(i,r):s}const Qx=["push","pop","shift","splice","unshift"];function hN(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Qx.forEach(t=>{const i="_onData"+pf(t),r=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...l){const u=r.apply(this,l);return s._chartjs.listeners.forEach(d=>{typeof d[i]=="function"&&d[i](...l)}),u}})})}function ay(s,e){const t=s._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(Qx.forEach(l=>{delete s[l]}),delete s._chartjs)}function Xx(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const Gx=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function Wx(s,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,Gx.call(window,()=>{i=!1,s.apply(e,t)}))}}function fN(s,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(s,e,i)):s.apply(this,i),e}}const xf=s=>s==="start"?"left":s==="end"?"right":"center",Yt=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,mN=(s,e,t,i)=>s===(i?"left":"right")?t:s==="center"?(e+t)/2:e;function gN(s,e,t){const i=e.length;let r=0,l=i;if(s._sorted){const{iScale:u,vScale:d,_parsed:m}=s,g=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,y=u.axis,{min:x,max:b,minDefined:w,maxDefined:N}=u.getUserBounds();if(w){if(r=Math.min(Hi(m,y,x).lo,t?i:Hi(e,y,u.getPixelForValue(x)).lo),g){const A=m.slice(0,r+1).reverse().findIndex(j=>!qe(j[d.axis]));r-=Math.max(0,A)}r=Vt(r,0,i-1)}if(N){let A=Math.max(Hi(m,u.axis,b,!0).hi+1,t?0:Hi(e,y,u.getPixelForValue(b),!0).hi+1);if(g){const j=m.slice(A-1).findIndex(M=>!qe(M[d.axis]));A+=Math.max(0,j)}l=Vt(A,r,i)-r}else l=i-r}return{start:r,count:l}}function pN(s){const{xScale:e,yScale:t,_scaleRanges:i}=s,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return s._scaleRanges=r,!0;const l=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),l}const dc=s=>s===0||s===1,ry=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*st/t)),oy=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*st/t)+1,vo={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*Mt)+1,easeOutSine:s=>Math.sin(s*Mt),easeInOutSine:s=>-.5*(Math.cos(it*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>dc(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>dc(s)?s:ry(s,.075,.3),easeOutElastic:s=>dc(s)?s:oy(s,.075,.3),easeInOutElastic(s){return dc(s)?s:s<.5?.5*ry(s*2,.1125,.45):.5+.5*oy(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-vo.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?vo.easeInBounce(s*2)*.5:vo.easeOutBounce(s*2-1)*.5+.5};function bf(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ly(s){return bf(s)?s:new To(s)}function Sh(s){return bf(s)?s:new To(s).saturate(.5).darken(.1).hexString()}const yN=["x","y","borderWidth","radius","tension"],xN=["color","borderColor","backgroundColor"];function bN(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:xN},numbers:{type:"number",properties:yN}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function vN(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cy=new Map;function wN(s,e){e=e||{};const t=s+JSON.stringify(e);let i=cy.get(t);return i||(i=new Intl.NumberFormat(s,e),cy.set(t,i)),i}function vf(s,e,t){return wN(e,t).format(s)}const _N={values(s){return St(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const i=this.chart.options.locale;let r,l=s;if(t.length>1){const g=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),l=SN(s,t)}const u=Ux(Math.abs(l)),d=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),m={notation:r,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(m,this.options.ticks.format),vf(s,i,m)}};function SN(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var Zx={formatters:_N};function MN(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ui=Object.create(null),$h=Object.create(null);function wo(s,e){if(!e)return s;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const l=t[i];s=s[l]||(s[l]=Object.create(null))}return s}function Mh(s,e,t){return typeof e=="string"?Do(wo(s,e),t):Do(wo(s,""),e)}class NN{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Sh(r.backgroundColor),this.hoverBorderColor=(i,r)=>Sh(r.borderColor),this.hoverColor=(i,r)=>Sh(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Mh(this,e,t)}get(e){return wo(this,e)}describe(e,t){return Mh($h,e,t)}override(e,t){return Mh(Ui,e,t)}route(e,t,i,r){const l=wo(this,e),u=wo(this,i),d="_"+t;Object.defineProperties(l,{[d]:{value:l[t],writable:!0},[t]:{enumerable:!0,get(){const m=this[d],g=u[r];return Oe(m)?Object.assign({},g,m):ke(m,g)},set(m){this[d]=m}}})}apply(e){e.forEach(t=>t(this))}}var ft=new NN({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bN,vN,MN]);function AN(s){return!s||qe(s.size)||qe(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function uy(s,e,t,i,r){let l=e[r];return l||(l=e[r]=s.measureText(r).width,t.push(r)),l>i&&(i=l),i}function Oi(s,e,t){const i=s.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function dy(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function Qh(s,e,t,i){Kx(s,e,t,i,null)}function Kx(s,e,t,i,r){let l,u,d,m,g,y,x,b;const w=e.pointStyle,N=e.rotation,A=e.radius;let j=(N||0)*nN;if(w&&typeof w=="object"&&(l=w.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){s.save(),s.translate(t,i),s.rotate(j),s.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),s.restore();return}if(!(isNaN(A)||A<=0)){switch(s.beginPath(),w){default:r?s.ellipse(t,i,r/2,A,0,0,st):s.arc(t,i,A,0,st),s.closePath();break;case"triangle":y=r?r/2:A,s.moveTo(t+Math.sin(j)*y,i-Math.cos(j)*A),j+=ny,s.lineTo(t+Math.sin(j)*y,i-Math.cos(j)*A),j+=ny,s.lineTo(t+Math.sin(j)*y,i-Math.cos(j)*A),s.closePath();break;case"rectRounded":g=A*.516,m=A-g,u=Math.cos(j+Di)*m,x=Math.cos(j+Di)*(r?r/2-g:m),d=Math.sin(j+Di)*m,b=Math.sin(j+Di)*(r?r/2-g:m),s.arc(t-x,i-d,g,j-it,j-Mt),s.arc(t+b,i-u,g,j-Mt,j),s.arc(t+x,i+d,g,j,j+Mt),s.arc(t-b,i+u,g,j+Mt,j+it),s.closePath();break;case"rect":if(!N){m=Math.SQRT1_2*A,y=r?r/2:m,s.rect(t-y,i-m,2*y,2*m);break}j+=Di;case"rectRot":x=Math.cos(j)*(r?r/2:A),u=Math.cos(j)*A,d=Math.sin(j)*A,b=Math.sin(j)*(r?r/2:A),s.moveTo(t-x,i-d),s.lineTo(t+b,i-u),s.lineTo(t+x,i+d),s.lineTo(t-b,i+u),s.closePath();break;case"crossRot":j+=Di;case"cross":x=Math.cos(j)*(r?r/2:A),u=Math.cos(j)*A,d=Math.sin(j)*A,b=Math.sin(j)*(r?r/2:A),s.moveTo(t-x,i-d),s.lineTo(t+x,i+d),s.moveTo(t+b,i-u),s.lineTo(t-b,i+u);break;case"star":x=Math.cos(j)*(r?r/2:A),u=Math.cos(j)*A,d=Math.sin(j)*A,b=Math.sin(j)*(r?r/2:A),s.moveTo(t-x,i-d),s.lineTo(t+x,i+d),s.moveTo(t+b,i-u),s.lineTo(t-b,i+u),j+=Di,x=Math.cos(j)*(r?r/2:A),u=Math.cos(j)*A,d=Math.sin(j)*A,b=Math.sin(j)*(r?r/2:A),s.moveTo(t-x,i-d),s.lineTo(t+x,i+d),s.moveTo(t+b,i-u),s.lineTo(t-b,i+u);break;case"line":u=r?r/2:Math.cos(j)*A,d=Math.sin(j)*A,s.moveTo(t-u,i-d),s.lineTo(t+u,i+d);break;case"dash":s.moveTo(t,i),s.lineTo(t+Math.cos(j)*(r?r/2:A),i+Math.sin(j)*A);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function zo(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function wf(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function _f(s){s.restore()}function jN(s,e,t,i,r){if(!e)return s.lineTo(t.x,t.y);if(r==="middle"){const l=(e.x+t.x)/2;s.lineTo(l,e.y),s.lineTo(l,t.y)}else r==="after"!=!!i?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function kN(s,e,t,i){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function CN(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),qe(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function TN(s,e,t,i,r){if(r.strikethrough||r.underline){const l=s.measureText(i),u=e-l.actualBoundingBoxLeft,d=e+l.actualBoundingBoxRight,m=t-l.actualBoundingBoxAscent,g=t+l.actualBoundingBoxDescent,y=r.strikethrough?(m+g)/2:g;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=r.decorationWidth||2,s.moveTo(u,y),s.lineTo(d,y),s.stroke()}}function DN(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function qo(s,e,t,i,r,l={}){const u=St(e)?e:[e],d=l.strokeWidth>0&&l.strokeColor!=="";let m,g;for(s.save(),s.font=r.string,CN(s,l),m=0;m<u.length;++m)g=u[m],l.backdrop&&DN(s,l.backdrop),d&&(l.strokeColor&&(s.strokeStyle=l.strokeColor),qe(l.strokeWidth)||(s.lineWidth=l.strokeWidth),s.strokeText(g,t,i,l.maxWidth)),s.fillText(g,t,i,l.maxWidth),TN(s,t,i,g,l),i+=Number(r.lineHeight);s.restore()}function Bc(s,e){const{x:t,y:i,w:r,h:l,radius:u}=e;s.arc(t+u.topLeft,i+u.topLeft,u.topLeft,1.5*it,it,!0),s.lineTo(t,i+l-u.bottomLeft),s.arc(t+u.bottomLeft,i+l-u.bottomLeft,u.bottomLeft,it,Mt,!0),s.lineTo(t+r-u.bottomRight,i+l),s.arc(t+r-u.bottomRight,i+l-u.bottomRight,u.bottomRight,Mt,0,!0),s.lineTo(t+r,i+u.topRight),s.arc(t+r-u.topRight,i+u.topRight,u.topRight,0,-Mt,!0),s.lineTo(t+u.topLeft,i)}const ON=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,RN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function EN(s,e){const t=(""+s).match(ON);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const zN=s=>+s||0;function Sf(s,e){const t={},i=Oe(e),r=i?Object.keys(e):e,l=Oe(s)?i?u=>ke(s[u],s[e[u]]):u=>s[u]:()=>s;for(const u of r)t[u]=zN(l(u));return t}function Jx(s){return Sf(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Xa(s){return Sf(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Tn(s){const e=Jx(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function It(s,e){s=s||{},e=e||ft.font;let t=ke(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=ke(s.style,e.style);i&&!(""+i).match(RN)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ke(s.family,e.family),lineHeight:EN(ke(s.lineHeight,e.lineHeight),t),size:t,style:i,weight:ke(s.weight,e.weight),string:""};return r.string=AN(r),r}function hc(s,e,t,i){let r,l,u;for(r=0,l=s.length;r<l;++r)if(u=s[r],u!==void 0&&u!==void 0)return u}function qN(s,e,t){const{min:i,max:r}=s,l=Ix(e,(r-i)/2),u=(d,m)=>t&&d===0?0:d+m;return{min:u(i,-Math.abs(l)),max:u(r,l)}}function Qi(s,e){return Object.assign(Object.create(s),e)}function Mf(s,e=[""],t,i,r=()=>s[0]){const l=t||s;typeof i>"u"&&(i=sb("_fallback",s));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:l,_fallback:i,_getTarget:r,override:d=>Mf([d,...s],e,l,i)};return new Proxy(u,{deleteProperty(d,m){return delete d[m],delete d._keys,delete s[0][m],!0},get(d,m){return tb(d,m,()=>FN(m,e,s,d))},getOwnPropertyDescriptor(d,m){return Reflect.getOwnPropertyDescriptor(d._scopes[0],m)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(d,m){return fy(d).includes(m)},ownKeys(d){return fy(d)},set(d,m,g){const y=d._storage||(d._storage=r());return d[m]=y[m]=g,delete d._keys,!0}})}function Ka(s,e,t,i){const r={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:eb(s,i),setContext:l=>Ka(s,l,t,i),override:l=>Ka(s.override(l),e,t,i)};return new Proxy(r,{deleteProperty(l,u){return delete l[u],delete s[u],!0},get(l,u,d){return tb(l,u,()=>BN(l,u,d))},getOwnPropertyDescriptor(l,u){return l._descriptors.allKeys?Reflect.has(s,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,u)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(l,u){return Reflect.has(s,u)},ownKeys(){return Reflect.ownKeys(s)},set(l,u,d){return s[u]=d,delete l[u],!0}})}function eb(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=s;return{allKeys:r,scriptable:t,indexable:i,isScriptable:li(t)?t:()=>t,isIndexable:li(i)?i:()=>i}}const LN=(s,e)=>s?s+pf(e):e,Nf=(s,e)=>Oe(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function tb(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const i=t();return s[e]=i,i}function BN(s,e,t){const{_proxy:i,_context:r,_subProxy:l,_descriptors:u}=s;let d=i[e];return li(d)&&u.isScriptable(e)&&(d=HN(e,d,s,t)),St(d)&&d.length&&(d=PN(e,d,s,u.isIndexable)),Nf(e,d)&&(d=Ka(d,r,l&&l[e],u)),d}function HN(s,e,t,i){const{_proxy:r,_context:l,_subProxy:u,_stack:d}=t;if(d.has(s))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+s);d.add(s);let m=e(l,u||i);return d.delete(s),Nf(s,m)&&(m=Af(r._scopes,r,s,m)),m}function PN(s,e,t,i){const{_proxy:r,_context:l,_subProxy:u,_descriptors:d}=t;if(typeof l.index<"u"&&i(s))return e[l.index%e.length];if(Oe(e[0])){const m=e,g=r._scopes.filter(y=>y!==m);e=[];for(const y of m){const x=Af(g,r,s,y);e.push(Ka(x,l,u&&u[s],d))}}return e}function nb(s,e,t){return li(s)?s(e,t):s}const YN=(s,e)=>s===!0?e:typeof s=="string"?Fi(e,s):void 0;function VN(s,e,t,i,r){for(const l of e){const u=YN(t,l);if(u){s.add(u);const d=nb(u._fallback,t,r);if(typeof d<"u"&&d!==t&&d!==i)return d}else if(u===!1&&typeof i<"u"&&t!==i)return null}return!1}function Af(s,e,t,i){const r=e._rootScopes,l=nb(e._fallback,t,i),u=[...s,...r],d=new Set;d.add(i);let m=hy(d,u,t,l||t,i);return m===null||typeof l<"u"&&l!==t&&(m=hy(d,u,l,m,i),m===null)?!1:Mf(Array.from(d),[""],r,l,()=>IN(e,t,i))}function hy(s,e,t,i,r){for(;t;)t=VN(s,e,t,i,r);return t}function IN(s,e,t){const i=s._getTarget();e in i||(i[e]={});const r=i[e];return St(r)&&Oe(t)?t:r||{}}function FN(s,e,t,i){let r;for(const l of e)if(r=sb(LN(l,s),t),typeof r<"u")return Nf(s,r)?Af(t,i,s,r):r}function sb(s,e){for(const t of e){if(!t)continue;const i=t[s];if(typeof i<"u")return i}}function fy(s){let e=s._keys;return e||(e=s._keys=UN(s._scopes)),e}function UN(s){const e=new Set;for(const t of s)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const $N=Number.EPSILON||1e-14,Ja=(s,e)=>e<s.length&&!s[e].skip&&s[e],ib=s=>s==="x"?"y":"x";function QN(s,e,t,i){const r=s.skip?e:s,l=e,u=t.skip?e:t,d=Uh(l,r),m=Uh(u,l);let g=d/(d+m),y=m/(d+m);g=isNaN(g)?0:g,y=isNaN(y)?0:y;const x=i*g,b=i*y;return{previous:{x:l.x-x*(u.x-r.x),y:l.y-x*(u.y-r.y)},next:{x:l.x+b*(u.x-r.x),y:l.y+b*(u.y-r.y)}}}function XN(s,e,t){const i=s.length;let r,l,u,d,m,g=Ja(s,0);for(let y=0;y<i-1;++y)if(m=g,g=Ja(s,y+1),!(!m||!g)){if(bo(e[y],0,$N)){t[y]=t[y+1]=0;continue}r=t[y]/e[y],l=t[y+1]/e[y],d=Math.pow(r,2)+Math.pow(l,2),!(d<=9)&&(u=3/Math.sqrt(d),t[y]=r*u*e[y],t[y+1]=l*u*e[y])}}function GN(s,e,t="x"){const i=ib(t),r=s.length;let l,u,d,m=Ja(s,0);for(let g=0;g<r;++g){if(u=d,d=m,m=Ja(s,g+1),!d)continue;const y=d[t],x=d[i];u&&(l=(y-u[t])/3,d[`cp1${t}`]=y-l,d[`cp1${i}`]=x-l*e[g]),m&&(l=(m[t]-y)/3,d[`cp2${t}`]=y+l,d[`cp2${i}`]=x+l*e[g])}}function WN(s,e="x"){const t=ib(e),i=s.length,r=Array(i).fill(0),l=Array(i);let u,d,m,g=Ja(s,0);for(u=0;u<i;++u)if(d=m,m=g,g=Ja(s,u+1),!!m){if(g){const y=g[e]-m[e];r[u]=y!==0?(g[t]-m[t])/y:0}l[u]=d?g?ts(r[u-1])!==ts(r[u])?0:(r[u-1]+r[u])/2:r[u-1]:r[u]}XN(s,r,l),GN(s,l,e)}function fc(s,e,t){return Math.max(Math.min(s,t),e)}function ZN(s,e){let t,i,r,l,u,d=zo(s[0],e);for(t=0,i=s.length;t<i;++t)u=l,l=d,d=t<i-1&&zo(s[t+1],e),l&&(r=s[t],u&&(r.cp1x=fc(r.cp1x,e.left,e.right),r.cp1y=fc(r.cp1y,e.top,e.bottom)),d&&(r.cp2x=fc(r.cp2x,e.left,e.right),r.cp2y=fc(r.cp2y,e.top,e.bottom)))}function KN(s,e,t,i,r){let l,u,d,m;if(e.spanGaps&&(s=s.filter(g=>!g.skip)),e.cubicInterpolationMode==="monotone")WN(s,r);else{let g=i?s[s.length-1]:s[0];for(l=0,u=s.length;l<u;++l)d=s[l],m=QN(g,d,s[Math.min(l+1,u-(i?0:1))%u],e.tension),d.cp1x=m.previous.x,d.cp1y=m.previous.y,d.cp2x=m.next.x,d.cp2y=m.next.y,g=d}e.capBezierPoints&&ZN(s,t)}function jf(){return typeof window<"u"&&typeof document<"u"}function kf(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Hc(s,e,t){let i;return typeof s=="string"?(i=parseInt(s,10),s.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=s,i}const Gc=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function JN(s,e){return Gc(s).getPropertyValue(e)}const eA=["top","right","bottom","left"];function Vi(s,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const l=eA[r];i[l]=parseFloat(s[e+"-"+l+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const tA=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function nA(s,e){const t=s.touches,i=t&&t.length?t[0]:s,{offsetX:r,offsetY:l}=i;let u=!1,d,m;if(tA(r,l,s.target))d=r,m=l;else{const g=e.getBoundingClientRect();d=i.clientX-g.left,m=i.clientY-g.top,u=!0}return{x:d,y:m,box:u}}function Ei(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:i}=e,r=Gc(t),l=r.boxSizing==="border-box",u=Vi(r,"padding"),d=Vi(r,"border","width"),{x:m,y:g,box:y}=nA(s,t),x=u.left+(y&&d.left),b=u.top+(y&&d.top);let{width:w,height:N}=e;return l&&(w-=u.width+d.width,N-=u.height+d.height),{x:Math.round((m-x)/w*t.width/i),y:Math.round((g-b)/N*t.height/i)}}function sA(s,e,t){let i,r;if(e===void 0||t===void 0){const l=s&&kf(s);if(!l)e=s.clientWidth,t=s.clientHeight;else{const u=l.getBoundingClientRect(),d=Gc(l),m=Vi(d,"border","width"),g=Vi(d,"padding");e=u.width-g.width-m.width,t=u.height-g.height-m.height,i=Hc(d.maxWidth,l,"clientWidth"),r=Hc(d.maxHeight,l,"clientHeight")}}return{width:e,height:t,maxWidth:i||Lc,maxHeight:r||Lc}}const mc=s=>Math.round(s*10)/10;function iA(s,e,t,i){const r=Gc(s),l=Vi(r,"margin"),u=Hc(r.maxWidth,s,"clientWidth")||Lc,d=Hc(r.maxHeight,s,"clientHeight")||Lc,m=sA(s,e,t);let{width:g,height:y}=m;if(r.boxSizing==="content-box"){const b=Vi(r,"border","width"),w=Vi(r,"padding");g-=w.width+b.width,y-=w.height+b.height}return g=Math.max(0,g-l.width),y=Math.max(0,i?g/i:y-l.height),g=mc(Math.min(g,u,m.maxWidth)),y=mc(Math.min(y,d,m.maxHeight)),g&&!y&&(y=mc(g/2)),(e!==void 0||t!==void 0)&&i&&m.height&&y>m.height&&(y=m.height,g=mc(Math.floor(y*i))),{width:g,height:y}}function my(s,e,t){const i=e||1,r=Math.floor(s.height*i),l=Math.floor(s.width*i);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const u=s.canvas;return u.style&&(t||!u.style.height&&!u.style.width)&&(u.style.height=`${s.height}px`,u.style.width=`${s.width}px`),s.currentDevicePixelRatio!==i||u.height!==r||u.width!==l?(s.currentDevicePixelRatio=i,u.height=r,u.width=l,s.ctx.setTransform(i,0,0,i,0,0),!0):!1}const aA=function(){let s=!1;try{const e={get passive(){return s=!0,!1}};jf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s}();function gy(s,e){const t=JN(s,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function zi(s,e,t,i){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function rA(s,e,t,i){return{x:s.x+t*(e.x-s.x),y:i==="middle"?t<.5?s.y:e.y:i==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function oA(s,e,t,i){const r={x:s.cp2x,y:s.cp2y},l={x:e.cp1x,y:e.cp1y},u=zi(s,r,t),d=zi(r,l,t),m=zi(l,e,t),g=zi(u,d,t),y=zi(d,m,t);return zi(g,y,t)}const lA=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},cA=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function Ga(s,e,t){return s?lA(e,t):cA()}function ab(s,e){let t,i;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=i)}function rb(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function ob(s){return s==="angle"?{between:Eo,compare:lN,normalize:ti}:{between:ii,compare:(e,t)=>e-t,normalize:e=>e}}function py({start:s,end:e,count:t,loop:i,style:r}){return{start:s%t,end:e%t,loop:i&&(e-s+1)%t===0,style:r}}function uA(s,e,t){const{property:i,start:r,end:l}=t,{between:u,normalize:d}=ob(i),m=e.length;let{start:g,end:y,loop:x}=s,b,w;if(x){for(g+=m,y+=m,b=0,w=m;b<w&&u(d(e[g%m][i]),r,l);++b)g--,y--;g%=m,y%=m}return y<g&&(y+=m),{start:g,end:y,loop:x,style:s.style}}function dA(s,e,t){if(!t)return[s];const{property:i,start:r,end:l}=t,u=e.length,{compare:d,between:m,normalize:g}=ob(i),{start:y,end:x,loop:b,style:w}=uA(s,e,t),N=[];let A=!1,j=null,M,E,D;const Y=()=>m(r,D,M)&&d(r,D)!==0,S=()=>d(l,M)===0||m(l,D,M),T=()=>A||Y(),$=()=>!A||S();for(let I=y,q=y;I<=x;++I)E=e[I%u],!E.skip&&(M=g(E[i]),M!==D&&(A=m(M,r,l),j===null&&T()&&(j=d(M,r)===0?I:q),j!==null&&$()&&(N.push(py({start:j,end:I,loop:b,count:u,style:w})),j=null),q=I,D=M));return j!==null&&N.push(py({start:j,end:x,loop:b,count:u,style:w})),N}function hA(s,e){const t=[],i=s.segments;for(let r=0;r<i.length;r++){const l=dA(i[r],s.points,e);l.length&&t.push(...l)}return t}function fA(s,e,t,i){let r=0,l=e-1;if(t&&!i)for(;r<e&&!s[r].skip;)r++;for(;r<e&&s[r].skip;)r++;for(r%=e,t&&(l+=r);l>r&&s[l%e].skip;)l--;return l%=e,{start:r,end:l}}function mA(s,e,t,i){const r=s.length,l=[];let u=e,d=s[e],m;for(m=e+1;m<=t;++m){const g=s[m%r];g.skip||g.stop?d.skip||(i=!1,l.push({start:e%r,end:(m-1)%r,loop:i}),e=u=g.stop?m:null):(u=m,d.skip&&(e=m)),d=g}return u!==null&&l.push({start:e%r,end:u%r,loop:i}),l}function gA(s,e){const t=s.points,i=s.options.spanGaps,r=t.length;if(!r)return[];const l=!!s._loop,{start:u,end:d}=fA(t,r,l,i);if(i===!0)return yy(s,[{start:u,end:d,loop:l}],t,e);const m=d<u?d+r:d,g=!!s._fullLoop&&u===0&&d===r-1;return yy(s,mA(t,u,m,g),t,e)}function yy(s,e,t,i){return!i||!i.setContext||!t?e:pA(s,e,t,i)}function pA(s,e,t,i){const r=s._chart.getContext(),l=xy(s.options),{_datasetIndex:u,options:{spanGaps:d}}=s,m=t.length,g=[];let y=l,x=e[0].start,b=x;function w(N,A,j,M){const E=d?-1:1;if(N!==A){for(N+=m;t[N%m].skip;)N-=E;for(;t[A%m].skip;)A+=E;N%m!==A%m&&(g.push({start:N%m,end:A%m,loop:j,style:M}),y=M,x=A%m)}}for(const N of e){x=d?x:N.start;let A=t[x%m],j;for(b=x+1;b<=N.end;b++){const M=t[b%m];j=xy(i.setContext(Qi(r,{type:"segment",p0:A,p1:M,p0DataIndex:(b-1)%m,p1DataIndex:b%m,datasetIndex:u}))),yA(j,y)&&w(x,b-1,N.loop,y),A=M,y=j}x<b-1&&w(x,b-1,N.loop,y)}return g}function xy(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function yA(s,e){if(!e)return!1;const t=[],i=function(r,l){return bf(l)?(t.includes(l)||t.push(l),t.indexOf(l)):l};return JSON.stringify(s,i)!==JSON.stringify(e,i)}function gc(s,e,t){return s.options.clip?s[t]:e[t]}function xA(s,e){const{xScale:t,yScale:i}=s;return t&&i?{left:gc(t,e,"left"),right:gc(t,e,"right"),top:gc(i,e,"top"),bottom:gc(i,e,"bottom")}:e}function bA(s,e){const t=e._clip;if(t.disabled)return!1;const i=xA(e,s.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class vA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const l=t.listeners[r],u=t.duration;l.forEach(d=>d({chart:e,initial:t.initial,numSteps:u,currentStep:Math.min(i-t.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=Gx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const l=i.items;let u=l.length-1,d=!1,m;for(;u>=0;--u)m=l[u],m._active?(m._total>i.duration&&(i.duration=m._total),m.tick(e),d=!0):(l[u]=l[l.length-1],l.pop());d&&(r.draw(),this._notify(r,i,e,"progress")),l.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=l.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ms=new vA;const by="transparent",wA={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const i=ly(s||by),r=i.valid&&ly(e||by);return r&&r.valid?r.mix(i,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class _A{constructor(e,t,i,r){const l=t[i];r=hc([e.to,r,l,e.from]);const u=hc([e.from,l,r]);this._active=!0,this._fn=e.fn||wA[e.type||typeof u],this._easing=vo[e.easing]||vo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=u,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],l=i-this._start,u=this._duration-l;this._start=i,this._duration=Math.floor(Math.max(u,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=hc([e.to,t,r,e.from]),this._from=hc([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,l=this._from,u=this._loop,d=this._to;let m;if(this._active=l!==d&&(u||t<i),!this._active){this._target[r]=d,this._notify(!0);return}if(t<0){this._target[r]=l;return}m=t/i%2,m=u&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[r]=this._fn(l,d,m)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class lb{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Oe(e))return;const t=Object.keys(ft.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const l=e[r];if(!Oe(l))return;const u={};for(const d of t)u[d]=l[d];(St(l.properties)&&l.properties||[r]).forEach(d=>{(d===r||!i.has(d))&&i.set(d,u)})})}_animateOptions(e,t){const i=t.options,r=MA(e,i);if(!r)return[];const l=this._createAnimations(r,i);return i.$shared&&SA(e.options.$animations,i).then(()=>{e.options=i},()=>{}),l}_createAnimations(e,t){const i=this._properties,r=[],l=e.$animations||(e.$animations={}),u=Object.keys(t),d=Date.now();let m;for(m=u.length-1;m>=0;--m){const g=u[m];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(e,t));continue}const y=t[g];let x=l[g];const b=i.get(g);if(x)if(b&&x.active()){x.update(b,y,d);continue}else x.cancel();if(!b||!b.duration){e[g]=y;continue}l[g]=x=new _A(b,e,g,y),r.push(x)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Ms.add(this._chart,i),!0}}function SA(s,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const l=s[i[r]];l&&l.active()&&t.push(l.wait())}return Promise.all(t)}function MA(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function vy(s,e){const t=s&&s.options||{},i=t.reverse,r=t.min===void 0?e:0,l=t.max===void 0?e:0;return{start:i?l:r,end:i?r:l}}function NA(s,e,t){if(t===!1)return!1;const i=vy(s,t),r=vy(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function AA(s){let e,t,i,r;return Oe(s)?(e=s.top,t=s.right,i=s.bottom,r=s.left):e=t=i=r=s,{top:e,right:t,bottom:i,left:r,disabled:s===!1}}function cb(s,e){const t=[],i=s._getSortedDatasetMetas(e);let r,l;for(r=0,l=i.length;r<l;++r)t.push(i[r].index);return t}function wy(s,e,t,i={}){const r=s.keys,l=i.mode==="single";let u,d,m,g;if(e===null)return;let y=!1;for(u=0,d=r.length;u<d;++u){if(m=+r[u],m===t){if(y=!0,i.all)continue;break}g=s.values[m],Cn(g)&&(l||e===0||ts(e)===ts(g))&&(e+=g)}return!y&&!i.all?0:e}function jA(s,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",l=i.axis==="x"?"x":"y",u=Object.keys(s),d=new Array(u.length);let m,g,y;for(m=0,g=u.length;m<g;++m)y=u[m],d[m]={[r]:y,[l]:s[y]};return d}function Nh(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function kA(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function CA(s){const{min:e,max:t,minDefined:i,maxDefined:r}=s.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function TA(s,e,t){const i=s[e]||(s[e]={});return i[t]||(i[t]={})}function _y(s,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const l=s[r.index];if(t&&l>0||!t&&l<0)return r.index}return null}function Sy(s,e){const{chart:t,_cachedMeta:i}=s,r=t._stacks||(t._stacks={}),{iScale:l,vScale:u,index:d}=i,m=l.axis,g=u.axis,y=kA(l,u,i),x=e.length;let b;for(let w=0;w<x;++w){const N=e[w],{[m]:A,[g]:j}=N,M=N._stacks||(N._stacks={});b=M[g]=TA(r,y,A),b[d]=j,b._top=_y(b,u,!0,i.type),b._bottom=_y(b,u,!1,i.type);const E=b._visualValues||(b._visualValues={});E[d]=j}}function Ah(s,e){const t=s.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function DA(s,e){return Qi(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function OA(s,e,t){return Qi(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function eo(s,e){const t=s.controller.index,i=s.vScale&&s.vScale.axis;if(i){e=e||s._parsed;for(const r of e){const l=r._stacks;if(!l||l[i]===void 0||l[i][t]===void 0)return;delete l[i][t],l[i]._visualValues!==void 0&&l[i]._visualValues[t]!==void 0&&delete l[i]._visualValues[t]}}}const jh=s=>s==="reset"||s==="none",My=(s,e)=>e?s:Object.assign({},s),RA=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:cb(t,!0),values:null};class Ii{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Nh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&eo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(x,b,w,N)=>x==="x"?b:x==="r"?N:w,l=t.xAxisID=ke(i.xAxisID,Ah(e,"x")),u=t.yAxisID=ke(i.yAxisID,Ah(e,"y")),d=t.rAxisID=ke(i.rAxisID,Ah(e,"r")),m=t.indexAxis,g=t.iAxisID=r(m,l,u,d),y=t.vAxisID=r(m,u,l,d);t.xScale=this.getScaleForId(l),t.yScale=this.getScaleForId(u),t.rScale=this.getScaleForId(d),t.iScale=this.getScaleForId(g),t.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ay(this._data,this),e._stacked&&eo(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Oe(t)){const r=this._cachedMeta;this._data=jA(t,r)}else if(i!==t){if(i){ay(i,this);const r=this._cachedMeta;eo(r),r._parsed=[]}t&&Object.isExtensible(t)&&hN(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const l=t._stacked;t._stacked=Nh(t.vScale,t),t.stack!==i.stack&&(r=!0,eo(t),t.stack=i.stack),this._resyncElements(e),(r||l!==t._stacked)&&(Sy(this,t._parsed),t._stacked=Nh(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:l,_stacked:u}=i,d=l.axis;let m=e===0&&t===r.length?!0:i._sorted,g=e>0&&i._parsed[e-1],y,x,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{St(r[e])?b=this.parseArrayData(i,r,e,t):Oe(r[e])?b=this.parseObjectData(i,r,e,t):b=this.parsePrimitiveData(i,r,e,t);const w=()=>x[d]===null||g&&x[d]<g[d];for(y=0;y<t;++y)i._parsed[y+e]=x=b[y],m&&(w()&&(m=!1),g=x);i._sorted=m}u&&Sy(this,b)}parsePrimitiveData(e,t,i,r){const{iScale:l,vScale:u}=e,d=l.axis,m=u.axis,g=l.getLabels(),y=l===u,x=new Array(r);let b,w,N;for(b=0,w=r;b<w;++b)N=b+i,x[b]={[d]:y||l.parse(g[N],N),[m]:u.parse(t[N],N)};return x}parseArrayData(e,t,i,r){const{xScale:l,yScale:u}=e,d=new Array(r);let m,g,y,x;for(m=0,g=r;m<g;++m)y=m+i,x=t[y],d[m]={x:l.parse(x[0],y),y:u.parse(x[1],y)};return d}parseObjectData(e,t,i,r){const{xScale:l,yScale:u}=e,{xAxisKey:d="x",yAxisKey:m="y"}=this._parsing,g=new Array(r);let y,x,b,w;for(y=0,x=r;y<x;++y)b=y+i,w=t[b],g[y]={x:l.parse(Fi(w,d),b),y:u.parse(Fi(w,m),b)};return g}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,l=this._cachedMeta,u=t[e.axis],d={keys:cb(r,!0),values:t._stacks[e.axis]._visualValues};return wy(d,u,l.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const l=i[t.axis];let u=l===null?NaN:l;const d=r&&i._stacks[t.axis];r&&d&&(r.values=d,u=wy(r,l,this._cachedMeta.index)),e.min=Math.min(e.min,u),e.max=Math.max(e.max,u)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,l=i._sorted&&e===i.iScale,u=r.length,d=this._getOtherScale(e),m=RA(t,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:x}=CA(d);let b,w;function N(){w=r[b];const A=w[d.axis];return!Cn(w[e.axis])||y>A||x<A}for(b=0;b<u&&!(!N()&&(this.updateRangeFromParsed(g,e,w,m),l));++b);if(l){for(b=u-1;b>=0;--b)if(!N()){this.updateRangeFromParsed(g,e,w,m);break}}return g}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,l,u;for(r=0,l=t.length;r<l;++r)u=t[r][e.axis],Cn(u)&&i.push(u);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,l=this.getParsed(e);return{label:i?""+i.getLabelForValue(l[i.axis]):"",value:r?""+r.getLabelForValue(l[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=AA(ke(this.options.clip,NA(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],l=t.chartArea,u=[],d=this._drawStart||0,m=this._drawCount||r.length-d,g=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(e,l,d,m),y=d;y<d+m;++y){const x=r[y];x.hidden||(x.active&&g?u.push(x):x.draw(e,l))}for(y=0;y<u.length;++y)u[y].draw(e,l)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const u=this._cachedMeta.data[e];l=u.$context||(u.$context=OA(this.getContext(),e,u)),l.parsed=this.getParsed(e),l.raw=r.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=DA(this.chart.getContext(),this.index)),l.dataset=r,l.index=l.datasetIndex=this.index;return l.active=!!t,l.mode=i,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",l=this._cachedDataOpts,u=e+"-"+t,d=l[u],m=this.enableOptionSharing&&Oo(i);if(d)return My(d,m);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,e),x=r?[`${e}Hover`,"hover",e,""]:[e,""],b=g.getOptionScopes(this.getDataset(),y),w=Object.keys(ft.elements[e]),N=()=>this.getContext(i,r,t),A=g.resolveNamedOptions(b,w,N,x);return A.$shared&&(A.$shared=m,l[u]=Object.freeze(My(A,m))),A}_resolveAnimations(e,t,i){const r=this.chart,l=this._cachedDataOpts,u=`animation-${t}`,d=l[u];if(d)return d;let m;if(r.options.animation!==!1){const y=this.chart.config,x=y.datasetAnimationScopeKeys(this._type,t),b=y.getOptionScopes(this.getDataset(),x);m=y.createResolver(b,this.getContext(e,i,t))}const g=new lb(r,m&&m.animations);return m&&m._cacheable&&(l[u]=Object.freeze(g)),g}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||jh(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,l=this.getSharedOptions(i),u=this.includeOptions(t,l)||l!==r;return this.updateSharedOptions(l,t,i),{sharedOptions:l,includeOptions:u}}updateElement(e,t,i,r){jh(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!jh(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const l=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(l)||l})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[d,m,g]of this._syncList)this[d](m,g);this._syncList=[];const r=i.length,l=t.length,u=Math.min(l,r);u&&this.parse(0,u),l>r?this._insertElements(r,l-r,e):l<r&&this._removeElements(l,r-l)}_insertElements(e,t,i=!0){const r=this._cachedMeta,l=r.data,u=e+t;let d;const m=g=>{for(g.length+=t,d=g.length-1;d>=u;d--)g[d]=g[d-t]};for(m(l),d=e;d<u;++d)l[d]=new this.dataElementType;this._parsing&&m(r._parsed),this.parse(e,t),i&&this.updateElements(l,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&eo(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}U(Ii,"defaults",{}),U(Ii,"datasetElementType",null),U(Ii,"dataElementType",null);function EA(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let i=[];for(let r=0,l=t.length;r<l;r++)i=i.concat(t[r].controller.getAllParsedValues(s));s._cache.$bar=Xx(i.sort((r,l)=>r-l))}return s._cache.$bar}function zA(s){const e=s.iScale,t=EA(e,s.type);let i=e._length,r,l,u,d;const m=()=>{u===32767||u===-32768||(Oo(d)&&(i=Math.min(i,Math.abs(u-d)||i)),d=u)};for(r=0,l=t.length;r<l;++r)u=e.getPixelForValue(t[r]),m();for(d=void 0,r=0,l=e.ticks.length;r<l;++r)u=e.getPixelForTick(r),m();return i}function qA(s,e,t,i){const r=t.barThickness;let l,u;return qe(r)?(l=e.min*t.categoryPercentage,u=t.barPercentage):(l=r*i,u=1),{chunk:l/i,ratio:u,start:e.pixels[s]-l/2}}function LA(s,e,t,i){const r=e.pixels,l=r[s];let u=s>0?r[s-1]:null,d=s<r.length-1?r[s+1]:null;const m=t.categoryPercentage;u===null&&(u=l-(d===null?e.end-e.start:d-l)),d===null&&(d=l+l-u);const g=l-(l-Math.min(u,d))/2*m;return{chunk:Math.abs(d-u)/2*m/i,ratio:t.barPercentage,start:g}}function BA(s,e,t,i){const r=t.parse(s[0],i),l=t.parse(s[1],i),u=Math.min(r,l),d=Math.max(r,l);let m=u,g=d;Math.abs(u)>Math.abs(d)&&(m=d,g=u),e[t.axis]=g,e._custom={barStart:m,barEnd:g,start:r,end:l,min:u,max:d}}function ub(s,e,t,i){return St(s)?BA(s,e,t,i):e[t.axis]=t.parse(s,i),e}function Ny(s,e,t,i){const r=s.iScale,l=s.vScale,u=r.getLabels(),d=r===l,m=[];let g,y,x,b;for(g=t,y=t+i;g<y;++g)b=e[g],x={},x[r.axis]=d||r.parse(u[g],g),m.push(ub(b,x,l,g));return m}function kh(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function HA(s,e,t){return s!==0?ts(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function PA(s){let e,t,i,r,l;return s.horizontal?(e=s.base>s.x,t="left",i="right"):(e=s.base<s.y,t="bottom",i="top"),e?(r="end",l="start"):(r="start",l="end"),{start:t,end:i,reverse:e,top:r,bottom:l}}function YA(s,e,t,i){let r=e.borderSkipped;const l={};if(!r){s.borderSkipped=l;return}if(r===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:u,end:d,reverse:m,top:g,bottom:y}=PA(s);r==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===i?r=g:(t._bottom||0)===i?r=y:(l[Ay(y,u,d,m)]=!0,r=g)),l[Ay(r,u,d,m)]=!0,s.borderSkipped=l}function Ay(s,e,t,i){return i?(s=VA(s,e,t),s=jy(s,t,e)):s=jy(s,e,t),s}function VA(s,e,t){return s===e?t:s===t?e:s}function jy(s,e,t){return s==="start"?e:s==="end"?t:s}function IA(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class Mc extends Ii{parsePrimitiveData(e,t,i,r){return Ny(e,t,i,r)}parseArrayData(e,t,i,r){return Ny(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:l,vScale:u}=e,{xAxisKey:d="x",yAxisKey:m="y"}=this._parsing,g=l.axis==="x"?d:m,y=u.axis==="x"?d:m,x=[];let b,w,N,A;for(b=i,w=i+r;b<w;++b)A=t[b],N={},N[l.axis]=l.parse(Fi(A,g),b),x.push(ub(Fi(A,y),N,u,b));return x}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const l=i._custom;l&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,l=this.getParsed(e),u=l._custom,d=kh(u)?"["+u.start+", "+u.end+"]":""+r.getLabelForValue(l[r.axis]);return{label:""+i.getLabelForValue(l[i.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const l=r==="reset",{index:u,_cachedMeta:{vScale:d}}=this,m=d.getBasePixel(),g=d.isHorizontal(),y=this._getRuler(),{sharedOptions:x,includeOptions:b}=this._getSharedOptions(t,r);for(let w=t;w<t+i;w++){const N=this.getParsed(w),A=l||qe(N[d.axis])?{base:m,head:m}:this._calculateBarValuePixels(w),j=this._calculateBarIndexPixels(w,y),M=(N._stacks||{})[d.axis],E={horizontal:g,base:A.base,enableBorderRadius:!M||kh(N._custom)||u===M._top||u===M._bottom,x:g?A.head:j.center,y:g?j.center:A.head,height:g?j.size:Math.abs(A.size),width:g?Math.abs(A.size):j.size};b&&(E.options=x||this.resolveDataElementOptions(w,e[w].active?"active":r));const D=E.options||e[w].options;YA(E,D,M,u),IA(E,D,y.ratio),this.updateElement(e[w],w,E,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),l=i.options.stacked,u=[],d=this._cachedMeta.controller.getParsed(t),m=d&&d[i.axis],g=y=>{const x=y._parsed.find(w=>w[i.axis]===m),b=x&&x[y.vScale.axis];if(qe(b)||isNaN(b))return!0};for(const y of r)if(!(t!==void 0&&g(y))&&((l===!1||u.indexOf(y.stack)===-1||l===void 0&&y.stack===void 0)&&u.push(y.stack),y.index===e))break;return u.length||u.push(void 0),u}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const r=this._getStacks(e,i),l=t!==void 0?r.indexOf(t):-1;return l===-1?r.length-1:l}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let l,u;for(l=0,u=t.data.length;l<u;++l)r.push(i.getPixelForValue(this.getParsed(l)[i.axis],l));const d=e.barThickness;return{min:d||zA(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:l,minBarLength:u}}=this,d=l||0,m=this.getParsed(e),g=m._custom,y=kh(g);let x=m[t.axis],b=0,w=i?this.applyStack(t,m,i):x,N,A;w!==x&&(b=w-x,w=x),y&&(x=g.barStart,w=g.barEnd-g.barStart,x!==0&&ts(x)!==ts(g.barEnd)&&(b=0),b+=x);const j=!qe(l)&&!y?l:b;let M=t.getPixelForValue(j);if(this.chart.getDataVisibility(e)?N=t.getPixelForValue(b+w):N=M,A=N-M,Math.abs(A)<u){A=HA(A,t,d)*u,x===d&&(M-=A/2);const E=t.getPixelForDecimal(0),D=t.getPixelForDecimal(1),Y=Math.min(E,D),S=Math.max(E,D);M=Math.max(Math.min(M,S),Y),N=M+A,i&&!y&&(m._stacks[t.axis]._visualValues[r]=t.getValueForPixel(N)-t.getValueForPixel(M))}if(M===t.getPixelForValue(d)){const E=ts(A)*t.getLineWidthForValue(d)/2;M+=E,A-=E}return{size:A,base:M,head:N,center:N+A/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,l=r.skipNull,u=ke(r.maxBarThickness,1/0);let d,m;if(t.grouped){const g=l?this._getStackCount(e):t.stackCount,y=r.barThickness==="flex"?LA(e,t,r,g):qA(e,t,r,g),x=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0);d=y.start+y.chunk*x+y.chunk/2,m=Math.min(u,y.chunk*y.ratio)}else d=i.getPixelForValue(this.getParsed(e)[i.axis],e),m=Math.min(u,t.min*t.ratio);return{base:d-m/2,head:d+m/2,center:d,size:m}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let l=0;for(;l<r;++l)this.getParsed(l)[t.axis]!==null&&!i[l].hidden&&i[l].draw(this._ctx)}}U(Mc,"id","bar"),U(Mc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),U(Mc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function FA(s,e,t){let i=1,r=1,l=0,u=0;if(e<st){const d=s,m=d+e,g=Math.cos(d),y=Math.sin(d),x=Math.cos(m),b=Math.sin(m),w=(D,Y,S)=>Eo(D,d,m,!0)?1:Math.max(Y,Y*t,S,S*t),N=(D,Y,S)=>Eo(D,d,m,!0)?-1:Math.min(Y,Y*t,S,S*t),A=w(0,g,x),j=w(Mt,y,b),M=N(it,g,x),E=N(it+Mt,y,b);i=(A-M)/2,r=(j-E)/2,l=-(A+M)/2,u=-(j+E)/2}return{ratioX:i,ratioY:r,offsetX:l,offsetY:u}}class co extends Ii{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let l=m=>+i[m];if(Oe(i[e])){const{key:m="value"}=this._parsing;l=g=>+Fi(i[g],m)}let u,d;for(u=e,d=e+t;u<d;++u)r._parsed[u]=l(u)}}_getRotation(){return js(this.options.rotation-90)}_getCircumference(){return js(this.options.circumference)}_getRotationExtents(){let e=st,t=-st;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,l=r._getRotation(),u=r._getCircumference();e=Math.min(e,l),t=Math.max(t,l+u)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,l=r.data,u=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,d=Math.max((Math.min(i.width,i.height)-u)/2,0),m=Math.min(GM(this.options.cutout,d),1),g=this._getRingWeight(this.index),{circumference:y,rotation:x}=this._getRotationExtents(),{ratioX:b,ratioY:w,offsetX:N,offsetY:A}=FA(x,y,m),j=(i.width-u)/b,M=(i.height-u)/w,E=Math.max(Math.min(j,M)/2,0),D=Ix(this.options.radius,E),Y=Math.max(D*m,0),S=(D-Y)/this._getVisibleDatasetWeightTotal();this.offsetX=N*D,this.offsetY=A*D,r.total=this.calculateTotal(),this.outerRadius=D-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*g,0),this.updateElements(l,0,l.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,l=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*l/st)}updateElements(e,t,i,r){const l=r==="reset",u=this.chart,d=u.chartArea,g=u.options.animation,y=(d.left+d.right)/2,x=(d.top+d.bottom)/2,b=l&&g.animateScale,w=b?0:this.innerRadius,N=b?0:this.outerRadius,{sharedOptions:A,includeOptions:j}=this._getSharedOptions(t,r);let M=this._getRotation(),E;for(E=0;E<t;++E)M+=this._circumference(E,l);for(E=t;E<t+i;++E){const D=this._circumference(E,l),Y=e[E],S={x:y+this.offsetX,y:x+this.offsetY,startAngle:M,endAngle:M+D,circumference:D,outerRadius:N,innerRadius:w};j&&(S.options=A||this.resolveDataElementOptions(E,Y.active?"active":r)),M+=D,this.updateElement(Y,E,S,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const l=e._parsed[r];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(l))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?st*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],l=vf(t._parsed[e],i.options.locale);return{label:r[e]||"",value:l}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,l,u,d,m;if(!e){for(r=0,l=i.data.datasets.length;r<l;++r)if(i.isDatasetVisible(r)){u=i.getDatasetMeta(r),e=u.data,d=u.controller;break}}if(!e)return 0;for(r=0,l=e.length;r<l;++r)m=d.resolveDataElementOptions(r),m.borderAlign!=="inner"&&(t=Math.max(t,m.borderWidth||0,m.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const l=this.resolveDataElementOptions(i);t=Math.max(t,l.offset||0,l.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(ke(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}U(co,"id","doughnut"),U(co,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),U(co,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),U(co,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((l,u)=>{const m=e.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:m.backgroundColor,strokeStyle:m.borderColor,fontColor:r,lineWidth:m.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(u),index:u}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class Nc extends Ii{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:l}=t,u=this.chart._animationsDisabled;let{start:d,count:m}=gN(t,r,u);this._drawStart=d,this._drawCount=m,pN(t)&&(d=0,m=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!l._decimated,i.points=r;const g=this.resolveDatasetElementOptions(e);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!u,options:g},e),this.updateElements(r,d,m,e)}updateElements(e,t,i,r){const l=r==="reset",{iScale:u,vScale:d,_stacked:m,_dataset:g}=this._cachedMeta,{sharedOptions:y,includeOptions:x}=this._getSharedOptions(t,r),b=u.axis,w=d.axis,{spanGaps:N,segment:A}=this.options,j=Ro(N)?N:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||l||r==="none",E=t+i,D=e.length;let Y=t>0&&this.getParsed(t-1);for(let S=0;S<D;++S){const T=e[S],$=M?T:{};if(S<t||S>=E){$.skip=!0;continue}const I=this.getParsed(S),q=qe(I[w]),L=$[b]=u.getPixelForValue(I[b],S),J=$[w]=l||q?d.getBasePixel():d.getPixelForValue(m?this.applyStack(d,I,m):I[w],S);$.skip=isNaN(L)||isNaN(J)||q,$.stop=S>0&&Math.abs(I[b]-Y[b])>j,A&&($.parsed=I,$.raw=g.data[S]),x&&($.options=y||this.resolveDataElementOptions(S,T.active?"active":r)),M||this.updateElement(T,S,$,r),Y=I}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const l=r[0].size(this.resolveDataElementOptions(0)),u=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,l,u)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}U(Nc,"id","line"),U(Nc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),U(Nc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Xh extends co{}U(Xh,"id","pie"),U(Xh,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ri(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Cf{constructor(e){U(this,"options");this.options=e||{}}static override(e){Object.assign(Cf.prototype,e)}init(){}formats(){return Ri()}parse(){return Ri()}format(){return Ri()}add(){return Ri()}diff(){return Ri()}startOf(){return Ri()}endOf(){return Ri()}}var db={_date:Cf};function UA(s,e,t,i){const{controller:r,data:l,_sorted:u}=s,d=r._cachedMeta.iScale,m=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&u&&l.length){const g=d._reversePixels?uN:Hi;if(i){if(r._sharedOptions){const y=l[0],x=typeof y.getRange=="function"&&y.getRange(e);if(x){const b=g(l,e,t-x),w=g(l,e,t+x);return{lo:b.lo,hi:w.hi}}}}else{const y=g(l,e,t);if(m){const{vScale:x}=r._cachedMeta,{_parsed:b}=s,w=b.slice(0,y.lo+1).reverse().findIndex(A=>!qe(A[x.axis]));y.lo-=Math.max(0,w);const N=b.slice(y.hi).findIndex(A=>!qe(A[x.axis]));y.hi+=Math.max(0,N)}return y}}return{lo:0,hi:l.length-1}}function Wc(s,e,t,i,r){const l=s.getSortedVisibleDatasetMetas(),u=t[e];for(let d=0,m=l.length;d<m;++d){const{index:g,data:y}=l[d],{lo:x,hi:b}=UA(l[d],e,u,r);for(let w=x;w<=b;++w){const N=y[w];N.skip||i(N,g,w)}}}function $A(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(i,r){const l=e?Math.abs(i.x-r.x):0,u=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(u,2))}}function Ch(s,e,t,i,r){const l=[];return!r&&!s.isPointInArea(e)||Wc(s,t,e,function(d,m,g){!r&&!zo(d,s.chartArea,0)||d.inRange(e.x,e.y,i)&&l.push({element:d,datasetIndex:m,index:g})},!0),l}function QA(s,e,t,i){let r=[];function l(u,d,m){const{startAngle:g,endAngle:y}=u.getProps(["startAngle","endAngle"],i),{angle:x}=$x(u,{x:e.x,y:e.y});Eo(x,g,y)&&r.push({element:u,datasetIndex:d,index:m})}return Wc(s,t,e,l),r}function XA(s,e,t,i,r,l){let u=[];const d=$A(t);let m=Number.POSITIVE_INFINITY;function g(y,x,b){const w=y.inRange(e.x,e.y,r);if(i&&!w)return;const N=y.getCenterPoint(r);if(!(!!l||s.isPointInArea(N))&&!w)return;const j=d(e,N);j<m?(u=[{element:y,datasetIndex:x,index:b}],m=j):j===m&&u.push({element:y,datasetIndex:x,index:b})}return Wc(s,t,e,g),u}function Th(s,e,t,i,r,l){return!l&&!s.isPointInArea(e)?[]:t==="r"&&!i?QA(s,e,t,r):XA(s,e,t,i,r,l)}function ky(s,e,t,i,r){const l=[],u=t==="x"?"inXRange":"inYRange";let d=!1;return Wc(s,t,e,(m,g,y)=>{m[u]&&m[u](e[t],r)&&(l.push({element:m,datasetIndex:g,index:y}),d=d||m.inRange(e.x,e.y,r))}),i&&!d?[]:l}var GA={modes:{index(s,e,t,i){const r=Ei(e,s),l=t.axis||"x",u=t.includeInvisible||!1,d=t.intersect?Ch(s,r,l,i,u):Th(s,r,l,!1,i,u),m=[];return d.length?(s.getSortedVisibleDatasetMetas().forEach(g=>{const y=d[0].index,x=g.data[y];x&&!x.skip&&m.push({element:x,datasetIndex:g.index,index:y})}),m):[]},dataset(s,e,t,i){const r=Ei(e,s),l=t.axis||"xy",u=t.includeInvisible||!1;let d=t.intersect?Ch(s,r,l,i,u):Th(s,r,l,!1,i,u);if(d.length>0){const m=d[0].datasetIndex,g=s.getDatasetMeta(m).data;d=[];for(let y=0;y<g.length;++y)d.push({element:g[y],datasetIndex:m,index:y})}return d},point(s,e,t,i){const r=Ei(e,s),l=t.axis||"xy",u=t.includeInvisible||!1;return Ch(s,r,l,i,u)},nearest(s,e,t,i){const r=Ei(e,s),l=t.axis||"xy",u=t.includeInvisible||!1;return Th(s,r,l,t.intersect,i,u)},x(s,e,t,i){const r=Ei(e,s);return ky(s,r,"x",t.intersect,i)},y(s,e,t,i){const r=Ei(e,s);return ky(s,r,"y",t.intersect,i)}}};const hb=["left","top","right","bottom"];function to(s,e){return s.filter(t=>t.pos===e)}function Cy(s,e){return s.filter(t=>hb.indexOf(t.pos)===-1&&t.box.axis===e)}function no(s,e){return s.sort((t,i)=>{const r=e?i:t,l=e?t:i;return r.weight===l.weight?r.index-l.index:r.weight-l.weight})}function WA(s){const e=[];let t,i,r,l,u,d;for(t=0,i=(s||[]).length;t<i;++t)r=s[t],{position:l,options:{stack:u,stackWeight:d=1}}=r,e.push({index:t,box:r,pos:l,horizontal:r.isHorizontal(),weight:r.weight,stack:u&&l+u,stackWeight:d});return e}function ZA(s){const e={};for(const t of s){const{stack:i,pos:r,stackWeight:l}=t;if(!i||!hb.includes(r))continue;const u=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=l}return e}function KA(s,e){const t=ZA(s),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let l,u,d;for(l=0,u=s.length;l<u;++l){d=s[l];const{fullSize:m}=d.box,g=t[d.stack],y=g&&d.stackWeight/g.weight;d.horizontal?(d.width=y?y*i:m&&e.availableWidth,d.height=r):(d.width=i,d.height=y?y*r:m&&e.availableHeight)}return t}function JA(s){const e=WA(s),t=no(e.filter(g=>g.box.fullSize),!0),i=no(to(e,"left"),!0),r=no(to(e,"right")),l=no(to(e,"top"),!0),u=no(to(e,"bottom")),d=Cy(e,"x"),m=Cy(e,"y");return{fullSize:t,leftAndTop:i.concat(l),rightAndBottom:r.concat(m).concat(u).concat(d),chartArea:to(e,"chartArea"),vertical:i.concat(r).concat(m),horizontal:l.concat(u).concat(d)}}function Ty(s,e,t,i){return Math.max(s[t],e[t])+Math.max(s[i],e[i])}function fb(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function ej(s,e,t,i){const{pos:r,box:l}=t,u=s.maxPadding;if(!Oe(r)){t.size&&(s[r]-=t.size);const x=i[t.stack]||{size:0,count:1};x.size=Math.max(x.size,t.horizontal?l.height:l.width),t.size=x.size/x.count,s[r]+=t.size}l.getPadding&&fb(u,l.getPadding());const d=Math.max(0,e.outerWidth-Ty(u,s,"left","right")),m=Math.max(0,e.outerHeight-Ty(u,s,"top","bottom")),g=d!==s.w,y=m!==s.h;return s.w=d,s.h=m,t.horizontal?{same:g,other:y}:{same:y,other:g}}function tj(s){const e=s.maxPadding;function t(i){const r=Math.max(e[i]-s[i],0);return s[i]+=r,r}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function nj(s,e){const t=e.maxPadding;function i(r){const l={left:0,top:0,right:0,bottom:0};return r.forEach(u=>{l[u]=Math.max(e[u],t[u])}),l}return i(s?["left","right"]:["top","bottom"])}function uo(s,e,t,i){const r=[];let l,u,d,m,g,y;for(l=0,u=s.length,g=0;l<u;++l){d=s[l],m=d.box,m.update(d.width||e.w,d.height||e.h,nj(d.horizontal,e));const{same:x,other:b}=ej(e,t,d,i);g|=x&&r.length,y=y||b,m.fullSize||r.push(d)}return g&&uo(r,e,t,i)||y}function pc(s,e,t,i,r){s.top=t,s.left=e,s.right=e+i,s.bottom=t+r,s.width=i,s.height=r}function Dy(s,e,t,i){const r=t.padding;let{x:l,y:u}=e;for(const d of s){const m=d.box,g=i[d.stack]||{placed:0,weight:1},y=d.stackWeight/g.weight||1;if(d.horizontal){const x=e.w*y,b=g.size||m.height;Oo(g.start)&&(u=g.start),m.fullSize?pc(m,r.left,u,t.outerWidth-r.right-r.left,b):pc(m,e.left+g.placed,u,x,b),g.start=u,g.placed+=x,u=m.bottom}else{const x=e.h*y,b=g.size||m.width;Oo(g.start)&&(l=g.start),m.fullSize?pc(m,l,r.top,b,t.outerHeight-r.bottom-r.top):pc(m,l,e.top+g.placed,b,x),g.start=l,g.placed+=x,l=m.right}}e.x=l,e.y=u}var kn={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,i){if(!s)return;const r=Tn(s.options.layout.padding),l=Math.max(e-r.width,0),u=Math.max(t-r.height,0),d=JA(s.boxes),m=d.vertical,g=d.horizontal;Pe(s.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const y=m.reduce((A,j)=>j.box.options&&j.box.options.display===!1?A:A+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:l,availableHeight:u,vBoxMaxWidth:l/2/y,hBoxMaxHeight:u/2}),b=Object.assign({},r);fb(b,Tn(i));const w=Object.assign({maxPadding:b,w:l,h:u,x:r.left,y:r.top},r),N=KA(m.concat(g),x);uo(d.fullSize,w,x,N),uo(m,w,x,N),uo(g,w,x,N)&&uo(m,w,x,N),tj(w),Dy(d.leftAndTop,w,x,N),w.x+=w.w,w.y+=w.h,Dy(d.rightAndBottom,w,x,N),s.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Pe(d.chartArea,A=>{const j=A.box;Object.assign(j,s.chartArea),j.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class mb{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class sj extends mb{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ac="$chartjs",ij={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Oy=s=>s===null||s==="";function aj(s,e){const t=s.style,i=s.getAttribute("height"),r=s.getAttribute("width");if(s[Ac]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Oy(r)){const l=gy(s,"width");l!==void 0&&(s.width=l)}if(Oy(i))if(s.style.height==="")s.height=s.width/(e||2);else{const l=gy(s,"height");l!==void 0&&(s.height=l)}return s}const gb=aA?{passive:!0}:!1;function rj(s,e,t){s&&s.addEventListener(e,t,gb)}function oj(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,gb)}function lj(s,e){const t=ij[s.type]||s.type,{x:i,y:r}=Ei(s,e);return{type:t,chart:e,native:s,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Pc(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function cj(s,e,t){const i=s.canvas,r=new MutationObserver(l=>{let u=!1;for(const d of l)u=u||Pc(d.addedNodes,i),u=u&&!Pc(d.removedNodes,i);u&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function uj(s,e,t){const i=s.canvas,r=new MutationObserver(l=>{let u=!1;for(const d of l)u=u||Pc(d.removedNodes,i),u=u&&!Pc(d.addedNodes,i);u&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Lo=new Map;let Ry=0;function pb(){const s=window.devicePixelRatio;s!==Ry&&(Ry=s,Lo.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function dj(s,e){Lo.size||window.addEventListener("resize",pb),Lo.set(s,e)}function hj(s){Lo.delete(s),Lo.size||window.removeEventListener("resize",pb)}function fj(s,e,t){const i=s.canvas,r=i&&kf(i);if(!r)return;const l=Wx((d,m)=>{const g=r.clientWidth;t(d,m),g<r.clientWidth&&t()},window),u=new ResizeObserver(d=>{const m=d[0],g=m.contentRect.width,y=m.contentRect.height;g===0&&y===0||l(g,y)});return u.observe(r),dj(s,l),u}function Dh(s,e,t){t&&t.disconnect(),e==="resize"&&hj(s)}function mj(s,e,t){const i=s.canvas,r=Wx(l=>{s.ctx!==null&&t(lj(l,s))},s);return rj(i,e,r),r}class gj extends mb{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(aj(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Ac])return!1;const i=t[Ac].initial;["height","width"].forEach(l=>{const u=i[l];qe(u)?t.removeAttribute(l):t.setAttribute(l,u)});const r=i.style||{};return Object.keys(r).forEach(l=>{t.style[l]=r[l]}),t.width=t.width,delete t[Ac],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),u={attach:cj,detach:uj,resize:fj}[t]||mj;r[t]=u(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Dh,detach:Dh,resize:Dh}[t]||oj)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return iA(e,t,i,r)}isAttached(e){const t=e&&kf(e);return!!(t&&t.isConnected)}}function pj(s){return!jf()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?sj:gj}class Bn{constructor(){U(this,"x");U(this,"y");U(this,"active",!1);U(this,"options");U(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Ro(this.x)&&Ro(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(l=>{r[l]=i[l]&&i[l].active()?i[l]._to:this[l]}),r}}U(Bn,"defaults",{}),U(Bn,"defaultRoutes");function yj(s,e){const t=s.options.ticks,i=xj(s),r=Math.min(t.maxTicksLimit||i,i),l=t.major.enabled?vj(e):[],u=l.length,d=l[0],m=l[u-1],g=[];if(u>r)return wj(e,g,l,u/r),g;const y=bj(l,e,r);if(u>0){let x,b;const w=u>1?Math.round((m-d)/(u-1)):null;for(yc(e,g,y,qe(w)?0:d-w,d),x=0,b=u-1;x<b;x++)yc(e,g,y,l[x],l[x+1]);return yc(e,g,y,m,qe(w)?e.length:m+w),g}return yc(e,g,y),g}function xj(s){const e=s.options.offset,t=s._tickSize(),i=s._length/t+(e?0:1),r=s._maxLength/t;return Math.floor(Math.min(i,r))}function bj(s,e,t){const i=_j(s),r=e.length/t;if(!i)return Math.max(r,1);const l=sN(i);for(let u=0,d=l.length-1;u<d;u++){const m=l[u];if(m>r)return m}return Math.max(r,1)}function vj(s){const e=[];let t,i;for(t=0,i=s.length;t<i;t++)s[t].major&&e.push(t);return e}function wj(s,e,t,i){let r=0,l=t[0],u;for(i=Math.ceil(i),u=0;u<s.length;u++)u===l&&(e.push(s[u]),r++,l=t[r*i])}function yc(s,e,t,i,r){const l=ke(i,0),u=Math.min(ke(r,s.length),s.length);let d=0,m,g,y;for(t=Math.ceil(t),r&&(m=r-i,t=m/Math.floor(m/t)),y=l;y<0;)d++,y=Math.round(l+d*t);for(g=Math.max(l,0);g<u;g++)g===y&&(e.push(s[g]),d++,y=Math.round(l+d*t))}function _j(s){const e=s.length;let t,i;if(e<2)return!1;for(i=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==i)return!1;return i}const Sj=s=>s==="left"?"right":s==="right"?"left":s,Ey=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,zy=(s,e)=>Math.min(e||s,s);function qy(s,e){const t=[],i=s.length/e,r=s.length;let l=0;for(;l<r;l+=i)t.push(s[Math.floor(l)]);return t}function Mj(s,e,t){const i=s.ticks.length,r=Math.min(e,i-1),l=s._startPixel,u=s._endPixel,d=1e-6;let m=s.getPixelForTick(r),g;if(!(t&&(i===1?g=Math.max(m-l,u-m):e===0?g=(s.getPixelForTick(1)-m)/2:g=(m-s.getPixelForTick(r-1))/2,m+=r<e?g:-g,m<l-d||m>u+d)))return m}function Nj(s,e){Pe(s,t=>{const i=t.gc,r=i.length/2;let l;if(r>e){for(l=0;l<r;++l)delete t.data[i[l]];i.splice(0,r)}})}function so(s){return s.drawTicks?s.tickLength:0}function Ly(s,e){if(!s.display)return 0;const t=It(s.font,e),i=Tn(s.padding);return(St(s.text)?s.text.length:1)*t.lineHeight+i.height}function Aj(s,e){return Qi(s,{scale:e,type:"scale"})}function jj(s,e,t){return Qi(s,{tick:t,index:e,type:"tick"})}function kj(s,e,t){let i=xf(s);return(t&&e!=="right"||!t&&e==="right")&&(i=Sj(i)),i}function Cj(s,e,t,i){const{top:r,left:l,bottom:u,right:d,chart:m}=s,{chartArea:g,scales:y}=m;let x=0,b,w,N;const A=u-r,j=d-l;if(s.isHorizontal()){if(w=Yt(i,l,d),Oe(t)){const M=Object.keys(t)[0],E=t[M];N=y[M].getPixelForValue(E)+A-e}else t==="center"?N=(g.bottom+g.top)/2+A-e:N=Ey(s,t,e);b=d-l}else{if(Oe(t)){const M=Object.keys(t)[0],E=t[M];w=y[M].getPixelForValue(E)-j+e}else t==="center"?w=(g.left+g.right)/2-j+e:w=Ey(s,t,e);N=Yt(i,u,r),x=t==="left"?-Mt:Mt}return{titleX:w,titleY:N,maxWidth:b,rotation:x}}class tr extends Bn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Gn(e,Number.POSITIVE_INFINITY),t=Gn(t,Number.NEGATIVE_INFINITY),i=Gn(i,Number.POSITIVE_INFINITY),r=Gn(r,Number.NEGATIVE_INFINITY),{min:Gn(e,i),max:Gn(t,r),minDefined:Cn(e),maxDefined:Cn(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:l}=this.getUserBounds(),u;if(r&&l)return{min:t,max:i};const d=this.getMatchingVisibleMetas();for(let m=0,g=d.length;m<g;++m)u=d[m].controller.getMinMax(this,e),r||(t=Math.min(t,u.min)),l||(i=Math.max(i,u.max));return t=l&&t>i?i:t,i=r&&t>i?t:i,{min:Gn(t,Gn(i,t)),max:Gn(i,Gn(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ge(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:l,ticks:u}=this.options,d=u.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qN(this,l,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const m=d<this.ticks.length;this._convertTicksToLabels(m?qy(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=yj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ge(this.options.afterUpdate,[this])}beforeSetDimensions(){Ge(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ge(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ge(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ge(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,l;for(i=0,r=e.length;i<r;i++)l=e[i],l.label=Ge(t.callback,[l.value,i,e],this)}afterTickToLabelConversion(){Ge(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ge(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=zy(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,l=t.maxRotation;let u=r,d,m,g;if(!this._isVisible()||!t.display||r>=l||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),x=y.widest.width,b=y.highest.height,w=Vt(this.chart.width-x,0,this.maxWidth);d=e.offset?this.maxWidth/i:w/(i-1),x+6>d&&(d=w/(i-(e.offset?.5:1)),m=this.maxHeight-so(e.grid)-t.padding-Ly(e.title,this.chart.options.font),g=Math.sqrt(x*x+b*b),u=oN(Math.min(Math.asin(Vt((y.highest.height+6)/d,-1,1)),Math.asin(Vt(m/g,-1,1))-Math.asin(Vt(b/g,-1,1)))),u=Math.max(r,Math.min(l,u))),this.labelRotation=u}afterCalculateLabelRotation(){Ge(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ge(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:l}}=this,u=this._isVisible(),d=this.isHorizontal();if(u){const m=Ly(r,t.options.font);if(d?(e.width=this.maxWidth,e.height=so(l)+m):(e.height=this.maxHeight,e.width=so(l)+m),i.display&&this.ticks.length){const{first:g,last:y,widest:x,highest:b}=this._getLabelSizes(),w=i.padding*2,N=js(this.labelRotation),A=Math.cos(N),j=Math.sin(N);if(d){const M=i.mirror?0:j*x.width+A*b.height;e.height=Math.min(this.maxHeight,e.height+M+w)}else{const M=i.mirror?0:A*x.width+j*b.height;e.width=Math.min(this.maxWidth,e.width+M+w)}this._calculatePadding(g,y,j,A)}}this._handleMargins(),d?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:l,padding:u},position:d}=this.options,m=this.labelRotation!==0,g=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,w=0;m?g?(b=r*e.width,w=i*t.height):(b=i*e.height,w=r*t.width):l==="start"?w=t.width:l==="end"?b=e.width:l!=="inner"&&(b=e.width/2,w=t.width/2),this.paddingLeft=Math.max((b-y+u)*this.width/(this.width-y),0),this.paddingRight=Math.max((w-x+u)*this.width/(this.width-x),0)}else{let y=t.height/2,x=e.height/2;l==="start"?(y=0,x=e.height):l==="end"&&(y=t.height,x=0),this.paddingTop=y+u,this.paddingBottom=x+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ge(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)qe(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=qy(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:l}=this,u=[],d=[],m=Math.floor(t/zy(t,i));let g=0,y=0,x,b,w,N,A,j,M,E,D,Y,S;for(x=0;x<t;x+=m){if(N=e[x].label,A=this._resolveTickFontOptions(x),r.font=j=A.string,M=l[j]=l[j]||{data:{},gc:[]},E=A.lineHeight,D=Y=0,!qe(N)&&!St(N))D=uy(r,M.data,M.gc,D,N),Y=E;else if(St(N))for(b=0,w=N.length;b<w;++b)S=N[b],!qe(S)&&!St(S)&&(D=uy(r,M.data,M.gc,D,S),Y+=E);u.push(D),d.push(Y),g=Math.max(D,g),y=Math.max(Y,y)}Nj(l,t);const T=u.indexOf(g),$=d.indexOf(y),I=q=>({width:u[q]||0,height:d[q]||0});return{first:I(0),last:I(t-1),widest:I(T),highest:I($),widths:u,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return cN(this._alignToPixels?Oi(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=jj(this.getContext(),e,i))}return this.$context||(this.$context=Aj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=js(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),l=this._getLabelSizes(),u=e.autoSkipPadding||0,d=l?l.widest.width+u:0,m=l?l.highest.height+u:0;return this.isHorizontal()?m*i>d*r?d/i:m/r:m*r<d*i?m/i:d/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:l,position:u,border:d}=r,m=l.offset,g=this.isHorizontal(),x=this.ticks.length+(m?1:0),b=so(l),w=[],N=d.setContext(this.getContext()),A=N.display?N.width:0,j=A/2,M=function(R){return Oi(i,R,A)};let E,D,Y,S,T,$,I,q,L,J,oe,ce;if(u==="top")E=M(this.bottom),$=this.bottom-b,q=E-j,J=M(e.top)+j,ce=e.bottom;else if(u==="bottom")E=M(this.top),J=e.top,ce=M(e.bottom)-j,$=E+j,q=this.top+b;else if(u==="left")E=M(this.right),T=this.right-b,I=E-j,L=M(e.left)+j,oe=e.right;else if(u==="right")E=M(this.left),L=e.left,oe=M(e.right)-j,T=E+j,I=this.left+b;else if(t==="x"){if(u==="center")E=M((e.top+e.bottom)/2+.5);else if(Oe(u)){const R=Object.keys(u)[0],G=u[R];E=M(this.chart.scales[R].getPixelForValue(G))}J=e.top,ce=e.bottom,$=E+j,q=$+b}else if(t==="y"){if(u==="center")E=M((e.left+e.right)/2);else if(Oe(u)){const R=Object.keys(u)[0],G=u[R];E=M(this.chart.scales[R].getPixelForValue(G))}T=E-j,I=T-b,L=e.left,oe=e.right}const me=ke(r.ticks.maxTicksLimit,x),te=Math.max(1,Math.ceil(x/me));for(D=0;D<x;D+=te){const R=this.getContext(D),G=l.setContext(R),se=d.setContext(R),ue=G.lineWidth,C=G.color,F=se.dash||[],ee=se.dashOffset,K=G.tickWidth,le=G.tickColor,xe=G.tickBorderDash||[],re=G.tickBorderDashOffset;Y=Mj(this,D,m),Y!==void 0&&(S=Oi(i,Y,ue),g?T=I=L=oe=S:$=q=J=ce=S,w.push({tx1:T,ty1:$,tx2:I,ty2:q,x1:L,y1:J,x2:oe,y2:ce,width:ue,color:C,borderDash:F,borderDashOffset:ee,tickWidth:K,tickColor:le,tickBorderDash:xe,tickBorderDashOffset:re}))}return this._ticksLength=x,this._borderValue=E,w}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:l}=i,u=this.isHorizontal(),d=this.ticks,{align:m,crossAlign:g,padding:y,mirror:x}=l,b=so(i.grid),w=b+y,N=x?-y:w,A=-js(this.labelRotation),j=[];let M,E,D,Y,S,T,$,I,q,L,J,oe,ce="middle";if(r==="top")T=this.bottom-N,$=this._getXAxisLabelAlignment();else if(r==="bottom")T=this.top+N,$=this._getXAxisLabelAlignment();else if(r==="left"){const te=this._getYAxisLabelAlignment(b);$=te.textAlign,S=te.x}else if(r==="right"){const te=this._getYAxisLabelAlignment(b);$=te.textAlign,S=te.x}else if(t==="x"){if(r==="center")T=(e.top+e.bottom)/2+w;else if(Oe(r)){const te=Object.keys(r)[0],R=r[te];T=this.chart.scales[te].getPixelForValue(R)+w}$=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")S=(e.left+e.right)/2-w;else if(Oe(r)){const te=Object.keys(r)[0],R=r[te];S=this.chart.scales[te].getPixelForValue(R)}$=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(m==="start"?ce="top":m==="end"&&(ce="bottom"));const me=this._getLabelSizes();for(M=0,E=d.length;M<E;++M){D=d[M],Y=D.label;const te=l.setContext(this.getContext(M));I=this.getPixelForTick(M)+l.labelOffset,q=this._resolveTickFontOptions(M),L=q.lineHeight,J=St(Y)?Y.length:1;const R=J/2,G=te.color,se=te.textStrokeColor,ue=te.textStrokeWidth;let C=$;u?(S=I,$==="inner"&&(M===E-1?C=this.options.reverse?"left":"right":M===0?C=this.options.reverse?"right":"left":C="center"),r==="top"?g==="near"||A!==0?oe=-J*L+L/2:g==="center"?oe=-me.highest.height/2-R*L+L:oe=-me.highest.height+L/2:g==="near"||A!==0?oe=L/2:g==="center"?oe=me.highest.height/2-R*L:oe=me.highest.height-J*L,x&&(oe*=-1),A!==0&&!te.showLabelBackdrop&&(S+=L/2*Math.sin(A))):(T=I,oe=(1-J)*L/2);let F;if(te.showLabelBackdrop){const ee=Tn(te.backdropPadding),K=me.heights[M],le=me.widths[M];let xe=oe-ee.top,re=0-ee.left;switch(ce){case"middle":xe-=K/2;break;case"bottom":xe-=K;break}switch($){case"center":re-=le/2;break;case"right":re-=le;break;case"inner":M===E-1?re-=le:M>0&&(re-=le/2);break}F={left:re,top:xe,width:le+ee.width,height:K+ee.height,color:te.backdropColor}}j.push({label:Y,font:q,textOffset:oe,options:{rotation:A,color:G,strokeColor:se,strokeWidth:ue,textAlign:C,textBaseline:ce,translation:[S,T],backdrop:F}})}return j}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-js(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:l}}=this.options,u=this._getLabelSizes(),d=e+l,m=u.widest.width;let g,y;return t==="left"?r?(y=this.right+l,i==="near"?g="left":i==="center"?(g="center",y+=m/2):(g="right",y+=m)):(y=this.right-d,i==="near"?g="right":i==="center"?(g="center",y-=m/2):(g="left",y=this.left)):t==="right"?r?(y=this.left+l,i==="near"?g="right":i==="center"?(g="center",y-=m/2):(g="left",y-=m)):(y=this.left+d,i==="near"?g="left":i==="center"?(g="center",y+=m/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:l,height:u}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,l,u),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(l=>l.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,u;const d=(m,g,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(m.x,m.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(t.display)for(l=0,u=r.length;l<u;++l){const m=r[l];t.drawOnChartArea&&d({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),t.drawTicks&&d({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,l=i.setContext(this.getContext()),u=i.display?l.width:0;if(!u)return;const d=r.setContext(this.getContext(0)).lineWidth,m=this._borderValue;let g,y,x,b;this.isHorizontal()?(g=Oi(e,this.left,u)-u/2,y=Oi(e,this.right,d)+d/2,x=b=m):(x=Oi(e,this.top,u)-u/2,b=Oi(e,this.bottom,d)+d/2,g=y=m),t.save(),t.lineWidth=l.width,t.strokeStyle=l.color,t.beginPath(),t.moveTo(g,x),t.lineTo(y,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&wf(i,r);const l=this.getLabelItems(e);for(const u of l){const d=u.options,m=u.font,g=u.label,y=u.textOffset;qo(i,g,0,y,m,d)}r&&_f(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const l=It(i.font),u=Tn(i.padding),d=i.align;let m=l.lineHeight/2;t==="bottom"||t==="center"||Oe(t)?(m+=u.bottom,St(i.text)&&(m+=l.lineHeight*(i.text.length-1))):m+=u.top;const{titleX:g,titleY:y,maxWidth:x,rotation:b}=Cj(this,m,t,d);qo(e,i.text,0,0,l,{color:i.color,maxWidth:x,rotation:b,textAlign:kj(d,t,r),textBaseline:"middle",translation:[g,y]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=ke(e.grid&&e.grid.z,-1),r=ke(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==tr.prototype.draw?[{z:t,draw:l=>{this.draw(l)}}]:[{z:i,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let l,u;for(l=0,u=t.length;l<u;++l){const d=t[l];d[i]===this.id&&(!e||d.type===e)&&r.push(d)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return It(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class xc{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;Oj(t)&&(i=this.register(t));const r=this.items,l=e.id,u=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in r||(r[l]=e,Tj(e,u,i),this.override&&ft.override(e.id,e.overrides)),u}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in ft[r]&&(delete ft[r][i],this.override&&delete Ui[i])}}function Tj(s,e,t){const i=Do(Object.create(null),[t?ft.get(t):{},ft.get(e),s.defaults]);ft.set(e,i),s.defaultRoutes&&Dj(e,s.defaultRoutes),s.descriptors&&ft.describe(e,s.descriptors)}function Dj(s,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),l=[s].concat(i).join("."),u=e[t].split("."),d=u.pop(),m=u.join(".");ft.route(l,r,m,d)})}function Oj(s){return"id"in s&&"defaults"in s}class Rj{constructor(){this.controllers=new xc(Ii,"datasets",!0),this.elements=new xc(Bn,"elements"),this.plugins=new xc(Object,"plugins"),this.scales=new xc(tr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const l=i||this._getRegistryForType(r);i||l.isForType(r)||l===this.plugins&&r.id?this._exec(e,l,r):Pe(r,u=>{const d=i||this._getRegistryForType(u);this._exec(e,d,u)})})}_exec(e,t,i){const r=pf(e);Ge(i["before"+r],[],i),t[e](i),Ge(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Zn=new Rj;class Ej{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const l=r?this._descriptors(e).filter(r):this._descriptors(e),u=this._notify(l,e,t,i);return t==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall")),u}_notify(e,t,i,r){r=r||{};for(const l of e){const u=l.plugin,d=u[i],m=[t,r,l.options];if(Ge(d,m,u)===!1&&r.cancelable)return!1}return!0}invalidate(){qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=ke(i.options&&i.options.plugins,{}),l=zj(i);return r===!1&&!t?[]:Lj(e,l,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(l,u)=>l.filter(d=>!u.some(m=>d.plugin.id===m.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function zj(s){const e={},t=[],i=Object.keys(Zn.plugins.items);for(let l=0;l<i.length;l++)t.push(Zn.getPlugin(i[l]));const r=s.plugins||[];for(let l=0;l<r.length;l++){const u=r[l];t.indexOf(u)===-1&&(t.push(u),e[u.id]=!0)}return{plugins:t,localIds:e}}function qj(s,e){return!e&&s===!1?null:s===!0?{}:s}function Lj(s,{plugins:e,localIds:t},i,r){const l=[],u=s.getContext();for(const d of e){const m=d.id,g=qj(i[m],r);g!==null&&l.push({plugin:d,options:Bj(s.config,{plugin:d,local:t[m]},g,u)})}return l}function Bj(s,{plugin:e,local:t},i,r){const l=s.pluginScopeKeys(e),u=s.getOptionScopes(i,l);return t&&e.defaults&&u.push(e.defaults),s.createResolver(u,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Gh(s,e){const t=ft.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Hj(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function Pj(s,e){return s===e?"_index_":"_value_"}function By(s){if(s==="x"||s==="y"||s==="r")return s}function Yj(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Wh(s,...e){if(By(s))return s;for(const t of e){const i=t.axis||Yj(t.position)||s.length>1&&By(s[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function Hy(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function Vj(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===s||i.yAxisID===s);if(t.length)return Hy(s,"x",t[0])||Hy(s,"y",t[0])}return{}}function Ij(s,e){const t=Ui[s.type]||{scales:{}},i=e.scales||{},r=Gh(s.type,e),l=Object.create(null);return Object.keys(i).forEach(u=>{const d=i[u];if(!Oe(d))return console.error(`Invalid scale configuration for scale: ${u}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const m=Wh(u,d,Vj(u,s),ft.scales[d.type]),g=Pj(m,r),y=t.scales||{};l[u]=xo(Object.create(null),[{axis:m},d,y[m],y[g]])}),s.data.datasets.forEach(u=>{const d=u.type||s.type,m=u.indexAxis||Gh(d,e),y=(Ui[d]||{}).scales||{};Object.keys(y).forEach(x=>{const b=Hj(x,m),w=u[b+"AxisID"]||b;l[w]=l[w]||Object.create(null),xo(l[w],[{axis:b},i[w],y[x]])})}),Object.keys(l).forEach(u=>{const d=l[u];xo(d,[ft.scales[d.type],ft.scale])}),l}function yb(s){const e=s.options||(s.options={});e.plugins=ke(e.plugins,{}),e.scales=Ij(s,e)}function xb(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function Fj(s){return s=s||{},s.data=xb(s.data),yb(s),s}const Py=new Map,bb=new Set;function bc(s,e){let t=Py.get(s);return t||(t=e(),Py.set(s,t),bb.add(t)),t}const io=(s,e,t)=>{const i=Fi(e,t);i!==void 0&&s.add(i)};class Uj{constructor(e){this._config=Fj(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=xb(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),yb(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return bc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return bc(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return bc(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return bc(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:l}=this,u=this._cachedScopes(e,i),d=u.get(t);if(d)return d;const m=new Set;t.forEach(y=>{e&&(m.add(e),y.forEach(x=>io(m,e,x))),y.forEach(x=>io(m,r,x)),y.forEach(x=>io(m,Ui[l]||{},x)),y.forEach(x=>io(m,ft,x)),y.forEach(x=>io(m,$h,x))});const g=Array.from(m);return g.length===0&&g.push(Object.create(null)),bb.has(t)&&u.set(t,g),g}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ui[t]||{},ft.datasets[t]||{},{type:t},ft,$h]}resolveNamedOptions(e,t,i,r=[""]){const l={$shared:!0},{resolver:u,subPrefixes:d}=Yy(this._resolverCache,e,r);let m=u;if(Qj(u,t)){l.$shared=!1,i=li(i)?i():i;const g=this.createResolver(e,i,d);m=Ka(u,i,g)}for(const g of t)l[g]=m[g];return l}createResolver(e,t,i=[""],r){const{resolver:l}=Yy(this._resolverCache,e,i);return Oe(t)?Ka(l,t,void 0,r):l}}function Yy(s,e,t){let i=s.get(e);i||(i=new Map,s.set(e,i));const r=t.join();let l=i.get(r);return l||(l={resolver:Mf(e,t),subPrefixes:t.filter(d=>!d.toLowerCase().includes("hover"))},i.set(r,l)),l}const $j=s=>Oe(s)&&Object.getOwnPropertyNames(s).some(e=>li(s[e]));function Qj(s,e){const{isScriptable:t,isIndexable:i}=eb(s);for(const r of e){const l=t(r),u=i(r),d=(u||l)&&s[r];if(l&&(li(d)||$j(d))||u&&St(d))return!0}return!1}var Xj="4.4.9";const Gj=["top","bottom","left","right","chartArea"];function Vy(s,e){return s==="top"||s==="bottom"||Gj.indexOf(s)===-1&&e==="x"}function Iy(s,e){return function(t,i){return t[s]===i[s]?t[e]-i[e]:t[s]-i[s]}}function Fy(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ge(t&&t.onComplete,[s],e)}function Wj(s){const e=s.chart,t=e.options.animation;Ge(t&&t.onProgress,[s],e)}function vb(s){return jf()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const jc={},Uy=s=>{const e=vb(s);return Object.values(jc).filter(t=>t.canvas===e).pop()};function Zj(s,e,t){const i=Object.keys(s);for(const r of i){const l=+r;if(l>=e){const u=s[r];delete s[r],(t>0||l>e)&&(s[l+t]=u)}}}function Kj(s,e,t,i){return!t||s.type==="mouseout"?null:i?e:s}var ei;let Zc=(ei=class{static register(...e){Zn.add(...e),$y()}static unregister(...e){Zn.remove(...e),$y()}constructor(e,t){const i=this.config=new Uj(t),r=vb(e),l=Uy(r);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const u=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||pj(r)),this.platform.updateConfig(i);const d=this.platform.acquireContext(r,u.aspectRatio),m=d&&d.canvas,g=m&&m.height,y=m&&m.width;if(this.id=XM(),this.ctx=d,this.canvas=m,this.width=y,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ej,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fN(x=>this.update(x),u.resizeDelay||0),this._dataChanges=[],jc[this.id]=this,!d||!m){console.error("Failed to create chart: can't acquire context from the given item");return}Ms.listen(this,"complete",Fy),Ms.listen(this,"progress",Wj),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:l}=this;return qe(e)?t&&l?l:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Zn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():my(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return dy(this.canvas,this.ctx),this}stop(){return Ms.stop(this),this}resize(e,t){Ms.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,l=i.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(r,e,t,l),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,my(this,d,!0)&&(this.notifyPlugins("resize",{size:u}),Ge(i.onResize,[this,u],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Pe(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((u,d)=>(u[d]=!1,u),{});let l=[];t&&(l=l.concat(Object.keys(t).map(u=>{const d=t[u],m=Wh(u,d),g=m==="r",y=m==="x";return{options:d,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),Pe(l,u=>{const d=u.options,m=d.id,g=Wh(m,d),y=ke(d.type,u.dtype);(d.position===void 0||Vy(d.position,g)!==Vy(u.dposition))&&(d.position=u.dposition),r[m]=!0;let x=null;if(m in i&&i[m].type===y)x=i[m];else{const b=Zn.getScale(y);x=new b({id:m,type:y,ctx:this.ctx,chart:this}),i[x.id]=x}x.init(d,e)}),Pe(r,(u,d)=>{u||delete i[d]}),Pe(i,u=>{kn.configure(this,u,u.options),kn.addBox(this,u)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,l)=>r.index-l.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Iy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(l=>l===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const l=t[i];let u=this.getDatasetMeta(i);const d=l.type||this.config.type;if(u.type&&u.type!==d&&(this._destroyDatasetMeta(i),u=this.getDatasetMeta(i)),u.type=d,u.indexAxis=l.indexAxis||Gh(d,this.options),u.order=l.order||0,u.index=i,u.label=""+l.label,u.visible=this.isDatasetVisible(i),u.controller)u.controller.updateIndex(i),u.controller.linkScales();else{const m=Zn.getController(d),{datasetElementType:g,dataElementType:y}=ft.datasets[d];Object.assign(m,{dataElementType:Zn.getElement(y),datasetElementType:g&&Zn.getElement(g)}),u.controller=new m(this,i),e.push(u.controller)}}return this._updateMetasets(),e}_resetElements(){Pe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:x}=this.getDatasetMeta(g),b=!r&&l.indexOf(x)===-1;x.buildOrUpdateElements(b),u=Math.max(+x.getMaxOverflow(),u)}u=this._minPadding=i.layout.autoPadding?u:0,this._updateLayout(u),r||Pe(l,g=>{g.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Iy("z","_idx"));const{_active:d,_lastEvent:m}=this;m?this._eventHandler(m,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Pe(this.scales,e=>{kn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!ty(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:l}of t){const u=i==="_removeElements"?-l:l;Zj(e,r,u)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=l=>new Set(e.filter(u=>u[0]===l).map((u,d)=>d+","+u.splice(1).join(","))),r=i(0);for(let l=1;l<t;l++)if(!ty(r,i(l)))return;return Array.from(r).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;kn.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Pe(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,l)=>{r._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,li(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ms.has(this)?this.attached&&!Ms.running(this)&&Ms.start(this):(this.draw(),Fy({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,l;for(r=0,l=t.length;r<l;++r){const u=t[r];(!e||u.visible)&&i.push(u)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=bA(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&wf(t,r),e.controller.draw(),r&&_f(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return zo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const l=GA.modes[t];return typeof l=="function"?l(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(l=>l&&l._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Qi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",l=this.getDatasetMeta(e),u=l.controller._resolveAnimations(void 0,r);Oo(t)?(l.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),u.update(l,{visible:i}),this.update(d=>d.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ms.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),dy(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete jc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(l,u)=>{t.addEventListener(this,l,u),e[l]=u},r=(l,u,d)=>{l.offsetX=u,l.offsetY=d,this._eventHandler(l)};Pe(this.options.events,l=>i(l,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(m,g)=>{t.addEventListener(this,m,g),e[m]=g},r=(m,g)=>{e[m]&&(t.removeEventListener(this,m,g),delete e[m])},l=(m,g)=>{this.canvas&&this.resize(m,g)};let u;const d=()=>{r("attach",d),this.attached=!0,this.resize(),i("resize",l),i("detach",u)};u=()=>{this.attached=!1,r("resize",l),this._stop(),this._resize(0,0),i("attach",d)},t.isAttached(this.canvas)?d():u()}unbindEvents(){Pe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Pe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let l,u,d,m;for(t==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+r+"DatasetHoverStyle"]()),d=0,m=e.length;d<m;++d){u=e[d];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[r+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:l,index:u})=>{const d=this.getDatasetMeta(l);if(!d)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:d.data[u],index:u}});!zc(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,l=(m,g)=>m.filter(y=>!g.some(x=>y.datasetIndex===x.datasetIndex&&y.index===x.index)),u=l(t,e),d=i?e:l(e,t);u.length&&this.updateHoverStyle(u,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=u=>(u.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const l=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(l||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:l}=this,u=t,d=this._getActiveElements(e,r,i,u),m=eN(e),g=Kj(e,this._lastEvent,i,m);i&&(this._lastEvent=null,Ge(l.onHover,[e,d,this],this),m&&Ge(l.onClick,[e,d,this],this));const y=!zc(d,r);return(y||t)&&(this._active=d,this._updateHoverStyles(d,r,t)),this._lastEvent=g,y}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,r)}},U(ei,"defaults",ft),U(ei,"instances",jc),U(ei,"overrides",Ui),U(ei,"registry",Zn),U(ei,"version",Xj),U(ei,"getChart",Uy),ei);function $y(){return Pe(Zc.instances,s=>s._plugins.invalidate())}function Jj(s,e,t){const{startAngle:i,pixelMargin:r,x:l,y:u,outerRadius:d,innerRadius:m}=e;let g=r/d;s.beginPath(),s.arc(l,u,d,i-g,t+g),m>r?(g=r/m,s.arc(l,u,m,t+g,i-g,!0)):s.arc(l,u,r,t+Mt,i-Mt),s.closePath(),s.clip()}function ek(s){return Sf(s,["outerStart","outerEnd","innerStart","innerEnd"])}function tk(s,e,t,i){const r=ek(s.options.borderRadius),l=(t-e)/2,u=Math.min(l,i*e/2),d=m=>{const g=(t-Math.min(l,m))*i/2;return Vt(m,0,Math.min(l,g))};return{outerStart:d(r.outerStart),outerEnd:d(r.outerEnd),innerStart:Vt(r.innerStart,0,u),innerEnd:Vt(r.innerEnd,0,u)}}function Ia(s,e,t,i){return{x:t+s*Math.cos(e),y:i+s*Math.sin(e)}}function Yc(s,e,t,i,r,l){const{x:u,y:d,startAngle:m,pixelMargin:g,innerRadius:y}=e,x=Math.max(e.outerRadius+i+t-g,0),b=y>0?y+i+t+g:0;let w=0;const N=r-m;if(i){const te=y>0?y-i:0,R=x>0?x-i:0,G=(te+R)/2,se=G!==0?N*G/(G+i):N;w=(N-se)/2}const A=Math.max(.001,N*x-t/it)/x,j=(N-A)/2,M=m+j+w,E=r-j-w,{outerStart:D,outerEnd:Y,innerStart:S,innerEnd:T}=tk(e,b,x,E-M),$=x-D,I=x-Y,q=M+D/$,L=E-Y/I,J=b+S,oe=b+T,ce=M+S/J,me=E-T/oe;if(s.beginPath(),l){const te=(q+L)/2;if(s.arc(u,d,x,q,te),s.arc(u,d,x,te,L),Y>0){const ue=Ia(I,L,u,d);s.arc(ue.x,ue.y,Y,L,E+Mt)}const R=Ia(oe,E,u,d);if(s.lineTo(R.x,R.y),T>0){const ue=Ia(oe,me,u,d);s.arc(ue.x,ue.y,T,E+Mt,me+Math.PI)}const G=(E-T/b+(M+S/b))/2;if(s.arc(u,d,b,E-T/b,G,!0),s.arc(u,d,b,G,M+S/b,!0),S>0){const ue=Ia(J,ce,u,d);s.arc(ue.x,ue.y,S,ce+Math.PI,M-Mt)}const se=Ia($,M,u,d);if(s.lineTo(se.x,se.y),D>0){const ue=Ia($,q,u,d);s.arc(ue.x,ue.y,D,M-Mt,q)}}else{s.moveTo(u,d);const te=Math.cos(q)*x+u,R=Math.sin(q)*x+d;s.lineTo(te,R);const G=Math.cos(L)*x+u,se=Math.sin(L)*x+d;s.lineTo(G,se)}s.closePath()}function nk(s,e,t,i,r){const{fullCircles:l,startAngle:u,circumference:d}=e;let m=e.endAngle;if(l){Yc(s,e,t,i,m,r);for(let g=0;g<l;++g)s.fill();isNaN(d)||(m=u+(d%st||st))}return Yc(s,e,t,i,m,r),s.fill(),m}function sk(s,e,t,i,r){const{fullCircles:l,startAngle:u,circumference:d,options:m}=e,{borderWidth:g,borderJoinStyle:y,borderDash:x,borderDashOffset:b}=m,w=m.borderAlign==="inner";if(!g)return;s.setLineDash(x||[]),s.lineDashOffset=b,w?(s.lineWidth=g*2,s.lineJoin=y||"round"):(s.lineWidth=g,s.lineJoin=y||"bevel");let N=e.endAngle;if(l){Yc(s,e,t,i,N,r);for(let A=0;A<l;++A)s.stroke();isNaN(d)||(N=u+(d%st||st))}w&&Jj(s,e,N),l||(Yc(s,e,t,i,N,r),s.stroke())}class ho extends Bn{constructor(t){super();U(this,"circumference");U(this,"endAngle");U(this,"fullCircles");U(this,"innerRadius");U(this,"outerRadius");U(this,"pixelMargin");U(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const l=this.getProps(["x","y"],r),{angle:u,distance:d}=$x(l,{x:t,y:i}),{startAngle:m,endAngle:g,innerRadius:y,outerRadius:x,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),w=(this.options.spacing+this.options.borderWidth)/2,N=ke(b,g-m),A=Eo(u,m,g)&&m!==g,j=N>=st||A,M=ii(d,y+w,x+w);return j&&M}getCenterPoint(t){const{x:i,y:r,startAngle:l,endAngle:u,innerRadius:d,outerRadius:m}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:g,spacing:y}=this.options,x=(l+u)/2,b=(d+m+y+g)/2;return{x:i+Math.cos(x)*b,y:r+Math.sin(x)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,l=(i.offset||0)/4,u=(i.spacing||0)/2,d=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>st?Math.floor(r/st):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const m=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(m)*l,Math.sin(m)*l);const g=1-Math.sin(Math.min(it,r||0)),y=l*g;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,nk(t,this,y,u,d),sk(t,this,y,u,d),t.restore()}}U(ho,"id","arc"),U(ho,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),U(ho,"defaultRoutes",{backgroundColor:"backgroundColor"}),U(ho,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function wb(s,e,t=e){s.lineCap=ke(t.borderCapStyle,e.borderCapStyle),s.setLineDash(ke(t.borderDash,e.borderDash)),s.lineDashOffset=ke(t.borderDashOffset,e.borderDashOffset),s.lineJoin=ke(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=ke(t.borderWidth,e.borderWidth),s.strokeStyle=ke(t.borderColor,e.borderColor)}function ik(s,e,t){s.lineTo(t.x,t.y)}function ak(s){return s.stepped?jN:s.tension||s.cubicInterpolationMode==="monotone"?kN:ik}function _b(s,e,t={}){const i=s.length,{start:r=0,end:l=i-1}=t,{start:u,end:d}=e,m=Math.max(r,u),g=Math.min(l,d),y=r<u&&l<u||r>d&&l>d;return{count:i,start:m,loop:e.loop,ilen:g<m&&!y?i+g-m:g-m}}function rk(s,e,t,i){const{points:r,options:l}=e,{count:u,start:d,loop:m,ilen:g}=_b(r,t,i),y=ak(l);let{move:x=!0,reverse:b}=i||{},w,N,A;for(w=0;w<=g;++w)N=r[(d+(b?g-w:w))%u],!N.skip&&(x?(s.moveTo(N.x,N.y),x=!1):y(s,A,N,b,l.stepped),A=N);return m&&(N=r[(d+(b?g:0))%u],y(s,A,N,b,l.stepped)),!!m}function ok(s,e,t,i){const r=e.points,{count:l,start:u,ilen:d}=_b(r,t,i),{move:m=!0,reverse:g}=i||{};let y=0,x=0,b,w,N,A,j,M;const E=Y=>(u+(g?d-Y:Y))%l,D=()=>{A!==j&&(s.lineTo(y,j),s.lineTo(y,A),s.lineTo(y,M))};for(m&&(w=r[E(0)],s.moveTo(w.x,w.y)),b=0;b<=d;++b){if(w=r[E(b)],w.skip)continue;const Y=w.x,S=w.y,T=Y|0;T===N?(S<A?A=S:S>j&&(j=S),y=(x*y+Y)/++x):(D(),s.lineTo(Y,S),N=T,x=0,A=j=S),M=S}D()}function Zh(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?ok:rk}function lk(s){return s.stepped?rA:s.tension||s.cubicInterpolationMode==="monotone"?oA:zi}function ck(s,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),wb(s,e.options),s.stroke(r)}function uk(s,e,t,i){const{segments:r,options:l}=e,u=Zh(e);for(const d of r)wb(s,l,d.style),s.beginPath(),u(s,e,d,{start:t,end:t+i-1})&&s.closePath(),s.stroke()}const dk=typeof Path2D=="function";function hk(s,e,t,i){dk&&!e.options.segment?ck(s,e,t,i):uk(s,e,t,i)}class fo extends Bn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;KN(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=gA(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],l=this.points,u=hA(this,{property:t,start:r,end:r});if(!u.length)return;const d=[],m=lk(i);let g,y;for(g=0,y=u.length;g<y;++g){const{start:x,end:b}=u[g],w=l[x],N=l[b];if(w===N){d.push(w);continue}const A=Math.abs((r-w[t])/(N[t]-w[t])),j=m(w,N,A,i.stepped);j[t]=e[t],d.push(j)}return d.length===1?d[0]:d}pathSegment(e,t,i){return Zh(this)(e,this,t,i)}path(e,t,i){const r=this.segments,l=Zh(this);let u=this._loop;t=t||0,i=i||this.points.length-t;for(const d of r)u&=l(e,this,d,{start:t,end:t+i-1});return!!u}draw(e,t,i,r){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),hk(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}U(fo,"id","line"),U(fo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),U(fo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),U(fo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Qy(s,e,t,i){const r=s.options,{[t]:l}=s.getProps([t],i);return Math.abs(e-l)<r.radius+r.hitRadius}class kc extends Bn{constructor(t){super();U(this,"parsed");U(this,"skip");U(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const l=this.options,{x:u,y:d}=this.getProps(["x","y"],r);return Math.pow(t-u,2)+Math.pow(i-d,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(t,i){return Qy(this,t,"x",i)}inYRange(t,i){return Qy(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){const r=this.options;this.skip||r.radius<.1||!zo(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Qh(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}U(kc,"id","point"),U(kc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),U(kc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Sb(s,e){const{x:t,y:i,base:r,width:l,height:u}=s.getProps(["x","y","base","width","height"],e);let d,m,g,y,x;return s.horizontal?(x=u/2,d=Math.min(t,r),m=Math.max(t,r),g=i-x,y=i+x):(x=l/2,d=t-x,m=t+x,g=Math.min(i,r),y=Math.max(i,r)),{left:d,top:g,right:m,bottom:y}}function ai(s,e,t,i){return s?0:Vt(e,t,i)}function fk(s,e,t){const i=s.options.borderWidth,r=s.borderSkipped,l=Jx(i);return{t:ai(r.top,l.top,0,t),r:ai(r.right,l.right,0,e),b:ai(r.bottom,l.bottom,0,t),l:ai(r.left,l.left,0,e)}}function mk(s,e,t){const{enableBorderRadius:i}=s.getProps(["enableBorderRadius"]),r=s.options.borderRadius,l=Xa(r),u=Math.min(e,t),d=s.borderSkipped,m=i||Oe(r);return{topLeft:ai(!m||d.top||d.left,l.topLeft,0,u),topRight:ai(!m||d.top||d.right,l.topRight,0,u),bottomLeft:ai(!m||d.bottom||d.left,l.bottomLeft,0,u),bottomRight:ai(!m||d.bottom||d.right,l.bottomRight,0,u)}}function gk(s){const e=Sb(s),t=e.right-e.left,i=e.bottom-e.top,r=fk(s,t/2,i/2),l=mk(s,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:l},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,l.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(r.b,r.r))}}}}function Oh(s,e,t,i){const r=e===null,l=t===null,d=s&&!(r&&l)&&Sb(s,i);return d&&(r||ii(e,d.left,d.right))&&(l||ii(t,d.top,d.bottom))}function pk(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function yk(s,e){s.rect(e.x,e.y,e.w,e.h)}function Rh(s,e,t={}){const i=s.x!==t.x?-e:0,r=s.y!==t.y?-e:0,l=(s.x+s.w!==t.x+t.w?e:0)-i,u=(s.y+s.h!==t.y+t.h?e:0)-r;return{x:s.x+i,y:s.y+r,w:s.w+l,h:s.h+u,radius:s.radius}}class Cc extends Bn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:l,outer:u}=gk(this),d=pk(u.radius)?Bc:yk;e.save(),(u.w!==l.w||u.h!==l.h)&&(e.beginPath(),d(e,Rh(u,t,l)),e.clip(),d(e,Rh(l,-t,u)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),d(e,Rh(l,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return Oh(this,e,t,i)}inXRange(e,t){return Oh(this,e,null,t)}inYRange(e,t){return Oh(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:l}=this.getProps(["x","y","base","horizontal"],e);return{x:l?(t+r)/2:t,y:l?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}U(Cc,"id","bar"),U(Cc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),U(Cc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Xy=(s,e)=>{let{boxHeight:t=e,boxWidth:i=e}=s;return s.usePointStyle&&(t=Math.min(t,e),i=s.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},xk=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class Gy extends Bn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ge(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=It(i.font),l=r.size,u=this._computeTitleHeight(),{boxWidth:d,itemHeight:m}=Xy(i,l);let g,y;t.font=r.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(u,l,d,m)+10):(y=this.maxHeight,g=this._fitCols(u,r,d,m)+10),this.width=Math.min(g,e.maxWidth||this.maxWidth),this.height=Math.min(y,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:l,maxWidth:u,options:{labels:{padding:d}}}=this,m=this.legendHitBoxes=[],g=this.lineWidths=[0],y=r+d;let x=e;l.textAlign="left",l.textBaseline="middle";let b=-1,w=-y;return this.legendItems.forEach((N,A)=>{const j=i+t/2+l.measureText(N.text).width;(A===0||g[g.length-1]+j+2*d>u)&&(x+=y,g[g.length-(A>0?0:1)]=0,w+=y,b++),m[A]={left:0,top:w,row:b,width:j,height:r},g[g.length-1]+=j+d}),x}_fitCols(e,t,i,r){const{ctx:l,maxHeight:u,options:{labels:{padding:d}}}=this,m=this.legendHitBoxes=[],g=this.columnSizes=[],y=u-e;let x=d,b=0,w=0,N=0,A=0;return this.legendItems.forEach((j,M)=>{const{itemWidth:E,itemHeight:D}=bk(i,t,l,j,r);M>0&&w+D+2*d>y&&(x+=b+d,g.push({width:b,height:w}),N+=b+d,A++,b=w=0),m[M]={left:N,top:w,col:A,width:E,height:D},b=Math.max(b,E),w+=D+d}),x+=b,g.push({width:b,height:w}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:l}}=this,u=Ga(l,this.left,this.width);if(this.isHorizontal()){let d=0,m=Yt(i,this.left+r,this.right-this.lineWidths[d]);for(const g of t)d!==g.row&&(d=g.row,m=Yt(i,this.left+r,this.right-this.lineWidths[d])),g.top+=this.top+e+r,g.left=u.leftForLtr(u.x(m),g.width),m+=g.width+r}else{let d=0,m=Yt(i,this.top+e+r,this.bottom-this.columnSizes[d].height);for(const g of t)g.col!==d&&(d=g.col,m=Yt(i,this.top+e+r,this.bottom-this.columnSizes[d].height)),g.top=m,g.left+=this.left+r,g.left=u.leftForLtr(u.x(g.left),g.width),m+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;wf(e,this),this._draw(),_f(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:l,labels:u}=e,d=ft.color,m=Ga(e.rtl,this.left,this.width),g=It(u.font),{padding:y}=u,x=g.size,b=x/2;let w;this.drawTitle(),r.textAlign=m.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:N,boxHeight:A,itemHeight:j}=Xy(u,x),M=function(T,$,I){if(isNaN(N)||N<=0||isNaN(A)||A<0)return;r.save();const q=ke(I.lineWidth,1);if(r.fillStyle=ke(I.fillStyle,d),r.lineCap=ke(I.lineCap,"butt"),r.lineDashOffset=ke(I.lineDashOffset,0),r.lineJoin=ke(I.lineJoin,"miter"),r.lineWidth=q,r.strokeStyle=ke(I.strokeStyle,d),r.setLineDash(ke(I.lineDash,[])),u.usePointStyle){const L={radius:A*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:q},J=m.xPlus(T,N/2),oe=$+b;Kx(r,L,J,oe,u.pointStyleWidth&&N)}else{const L=$+Math.max((x-A)/2,0),J=m.leftForLtr(T,N),oe=Xa(I.borderRadius);r.beginPath(),Object.values(oe).some(ce=>ce!==0)?Bc(r,{x:J,y:L,w:N,h:A,radius:oe}):r.rect(J,L,N,A),r.fill(),q!==0&&r.stroke()}r.restore()},E=function(T,$,I){qo(r,I.text,T,$+j/2,g,{strikethrough:I.hidden,textAlign:m.textAlign(I.textAlign)})},D=this.isHorizontal(),Y=this._computeTitleHeight();D?w={x:Yt(l,this.left+y,this.right-i[0]),y:this.top+y+Y,line:0}:w={x:this.left+y,y:Yt(l,this.top+Y+y,this.bottom-t[0].height),line:0},ab(this.ctx,e.textDirection);const S=j+y;this.legendItems.forEach((T,$)=>{r.strokeStyle=T.fontColor,r.fillStyle=T.fontColor;const I=r.measureText(T.text).width,q=m.textAlign(T.textAlign||(T.textAlign=u.textAlign)),L=N+b+I;let J=w.x,oe=w.y;m.setWidth(this.width),D?$>0&&J+L+y>this.right&&(oe=w.y+=S,w.line++,J=w.x=Yt(l,this.left+y,this.right-i[w.line])):$>0&&oe+S>this.bottom&&(J=w.x=J+t[w.line].width+y,w.line++,oe=w.y=Yt(l,this.top+Y+y,this.bottom-t[w.line].height));const ce=m.x(J);if(M(ce,oe,T),J=mN(q,J+N+b,D?J+L:this.right,e.rtl),E(m.x(J),oe,T),D)w.x+=L+y;else if(typeof T.text!="string"){const me=g.lineHeight;w.y+=Mb(T,me)+y}else w.y+=S}),rb(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=It(t.font),r=Tn(t.padding);if(!t.display)return;const l=Ga(e.rtl,this.left,this.width),u=this.ctx,d=t.position,m=i.size/2,g=r.top+m;let y,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),y=this.top+g,x=Yt(e.align,x,this.right-b);else{const N=this.columnSizes.reduce((A,j)=>Math.max(A,j.height),0);y=g+Yt(e.align,this.top,this.bottom-N-e.labels.padding-this._computeTitleHeight())}const w=Yt(d,x,x+b);u.textAlign=l.textAlign(xf(d)),u.textBaseline="middle",u.strokeStyle=t.color,u.fillStyle=t.color,u.font=i.string,qo(u,t.text,w,y,i)}_computeTitleHeight(){const e=this.options.title,t=It(e.font),i=Tn(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,l;if(ii(e,this.left,this.right)&&ii(t,this.top,this.bottom)){for(l=this.legendHitBoxes,i=0;i<l.length;++i)if(r=l[i],ii(e,r.left,r.left+r.width)&&ii(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!_k(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,l=xk(r,i);r&&!l&&Ge(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!l&&Ge(t.onHover,[e,i,this],this)}else i&&Ge(t.onClick,[e,i,this],this)}}function bk(s,e,t,i,r){const l=vk(i,s,e,t),u=wk(r,i,e.lineHeight);return{itemWidth:l,itemHeight:u}}function vk(s,e,t,i){let r=s.text;return r&&typeof r!="string"&&(r=r.reduce((l,u)=>l.length>u.length?l:u)),e+t.size/2+i.measureText(r).width}function wk(s,e,t){let i=s;return typeof e.text!="string"&&(i=Mb(e,t)),i}function Mb(s,e){const t=s.text?s.text.length:0;return e*t}function _k(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var Sk={id:"legend",_element:Gy,start(s,e,t){const i=s.legend=new Gy({ctx:s.ctx,options:t,chart:s});kn.configure(s,i,t),kn.addBox(s,i)},stop(s){kn.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const i=s.legend;kn.configure(s,i,t),i.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:l,useBorderRadius:u,borderRadius:d}}=s.legend.options;return s._getSortedDatasetMetas().map(m=>{const g=m.controller.getStyle(t?0:void 0),y=Tn(g.borderWidth);return{text:e[m.index].label,fillStyle:g.backgroundColor,fontColor:l,hidden:!m.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:u&&(d||g.borderRadius),datasetIndex:m.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class Nb extends Bn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=St(i.text)?i.text.length:1;this._padding=Tn(i.padding);const l=r*It(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:l,options:u}=this,d=u.align;let m=0,g,y,x;return this.isHorizontal()?(y=Yt(d,i,l),x=t+e,g=l-i):(u.position==="left"?(y=i+e,x=Yt(d,r,t),m=it*-.5):(y=l-e,x=Yt(d,t,r),m=it*.5),g=r-t),{titleX:y,titleY:x,maxWidth:g,rotation:m}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=It(t.font),l=i.lineHeight/2+this._padding.top,{titleX:u,titleY:d,maxWidth:m,rotation:g}=this._drawArgs(l);qo(e,t.text,0,0,i,{color:t.color,maxWidth:m,rotation:g,textAlign:xf(t.align),textBaseline:"middle",translation:[u,d]})}}function Mk(s,e){const t=new Nb({ctx:s.ctx,options:e,chart:s});kn.configure(s,t,e),kn.addBox(s,t),s.titleBlock=t}var Nk={id:"title",_element:Nb,start(s,e,t){Mk(s,t)},stop(s){const e=s.titleBlock;kn.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,t){const i=s.titleBlock;kn.configure(s,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mo={average(s){if(!s.length)return!1;let e,t,i=new Set,r=0,l=0;for(e=0,t=s.length;e<t;++e){const d=s[e].element;if(d&&d.hasValue()){const m=d.tooltipPosition();i.add(m.x),r+=m.y,++l}}return l===0||i.size===0?!1:{x:[...i].reduce((d,m)=>d+m)/i.size,y:r/l}},nearest(s,e){if(!s.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,l,u,d;for(l=0,u=s.length;l<u;++l){const m=s[l].element;if(m&&m.hasValue()){const g=m.getCenterPoint(),y=Uh(e,g);y<r&&(r=y,d=m)}}if(d){const m=d.tooltipPosition();t=m.x,i=m.y}return{x:t,y:i}}};function Wn(s,e){return e&&(St(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function Ns(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function Ak(s,e){const{element:t,datasetIndex:i,index:r}=e,l=s.getDatasetMeta(i).controller,{label:u,value:d}=l.getLabelAndValue(r);return{chart:s,label:u,parsed:l.getParsed(r),raw:s.data.datasets[i].data[r],formattedValue:d,dataset:l.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function Wy(s,e){const t=s.chart.ctx,{body:i,footer:r,title:l}=s,{boxWidth:u,boxHeight:d}=e,m=It(e.bodyFont),g=It(e.titleFont),y=It(e.footerFont),x=l.length,b=r.length,w=i.length,N=Tn(e.padding);let A=N.height,j=0,M=i.reduce((Y,S)=>Y+S.before.length+S.lines.length+S.after.length,0);if(M+=s.beforeBody.length+s.afterBody.length,x&&(A+=x*g.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),M){const Y=e.displayColors?Math.max(d,m.lineHeight):m.lineHeight;A+=w*Y+(M-w)*m.lineHeight+(M-1)*e.bodySpacing}b&&(A+=e.footerMarginTop+b*y.lineHeight+(b-1)*e.footerSpacing);let E=0;const D=function(Y){j=Math.max(j,t.measureText(Y).width+E)};return t.save(),t.font=g.string,Pe(s.title,D),t.font=m.string,Pe(s.beforeBody.concat(s.afterBody),D),E=e.displayColors?u+2+e.boxPadding:0,Pe(i,Y=>{Pe(Y.before,D),Pe(Y.lines,D),Pe(Y.after,D)}),E=0,t.font=y.string,Pe(s.footer,D),t.restore(),j+=N.width,{width:j,height:A}}function jk(s,e){const{y:t,height:i}=e;return t<i/2?"top":t>s.height-i/2?"bottom":"center"}function kk(s,e,t,i){const{x:r,width:l}=i,u=t.caretSize+t.caretPadding;if(s==="left"&&r+l+u>e.width||s==="right"&&r-l-u<0)return!0}function Ck(s,e,t,i){const{x:r,width:l}=t,{width:u,chartArea:{left:d,right:m}}=s;let g="center";return i==="center"?g=r<=(d+m)/2?"left":"right":r<=l/2?g="left":r>=u-l/2&&(g="right"),kk(g,s,e,t)&&(g="center"),g}function Zy(s,e,t){const i=t.yAlign||e.yAlign||jk(s,t);return{xAlign:t.xAlign||e.xAlign||Ck(s,e,t,i),yAlign:i}}function Tk(s,e){let{x:t,width:i}=s;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function Dk(s,e,t){let{y:i,height:r}=s;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function Ky(s,e,t,i){const{caretSize:r,caretPadding:l,cornerRadius:u}=s,{xAlign:d,yAlign:m}=t,g=r+l,{topLeft:y,topRight:x,bottomLeft:b,bottomRight:w}=Xa(u);let N=Tk(e,d);const A=Dk(e,m,g);return m==="center"?d==="left"?N+=g:d==="right"&&(N-=g):d==="left"?N-=Math.max(y,b)+r:d==="right"&&(N+=Math.max(x,w)+r),{x:Vt(N,0,i.width-e.width),y:Vt(A,0,i.height-e.height)}}function vc(s,e,t){const i=Tn(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-i.right:s.x+i.left}function Jy(s){return Wn([],Ns(s))}function Ok(s,e,t){return Qi(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function ex(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const Ab={beforeTitle:Ss,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Ss,beforeBody:Ss,beforeLabel:Ss,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return qe(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ss,afterBody:Ss,beforeFooter:Ss,footer:Ss,afterFooter:Ss};function Kt(s,e,t,i){const r=s[e].call(t,i);return typeof r>"u"?Ab[e].call(t,i):r}class Kh extends Bn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,l=new lb(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=Ok(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Kt(i,"beforeTitle",this,e),l=Kt(i,"title",this,e),u=Kt(i,"afterTitle",this,e);let d=[];return d=Wn(d,Ns(r)),d=Wn(d,Ns(l)),d=Wn(d,Ns(u)),d}getBeforeBody(e,t){return Jy(Kt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Pe(e,l=>{const u={before:[],lines:[],after:[]},d=ex(i,l);Wn(u.before,Ns(Kt(d,"beforeLabel",this,l))),Wn(u.lines,Kt(d,"label",this,l)),Wn(u.after,Ns(Kt(d,"afterLabel",this,l))),r.push(u)}),r}getAfterBody(e,t){return Jy(Kt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Kt(i,"beforeFooter",this,e),l=Kt(i,"footer",this,e),u=Kt(i,"afterFooter",this,e);let d=[];return d=Wn(d,Ns(r)),d=Wn(d,Ns(l)),d=Wn(d,Ns(u)),d}_createItems(e){const t=this._active,i=this.chart.data,r=[],l=[],u=[];let d=[],m,g;for(m=0,g=t.length;m<g;++m)d.push(Ak(this.chart,t[m]));return e.filter&&(d=d.filter((y,x,b)=>e.filter(y,x,b,i))),e.itemSort&&(d=d.sort((y,x)=>e.itemSort(y,x,i))),Pe(d,y=>{const x=ex(e.callbacks,y);r.push(Kt(x,"labelColor",this,y)),l.push(Kt(x,"labelPointStyle",this,y)),u.push(Kt(x,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=l,this.labelTextColors=u,this.dataPoints=d,d}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let l,u=[];if(!r.length)this.opacity!==0&&(l={opacity:0});else{const d=mo[i.position].call(this,r,this._eventPosition);u=this._createItems(i),this.title=this.getTitle(u,i),this.beforeBody=this.getBeforeBody(u,i),this.body=this.getBody(u,i),this.afterBody=this.getAfterBody(u,i),this.footer=this.getFooter(u,i);const m=this._size=Wy(this,i),g=Object.assign({},d,m),y=Zy(this.chart,i,g),x=Ky(i,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,l={opacity:1,x:x.x,y:x.y,width:m.width,height:m.height,caretX:d.x,caretY:d.y}}this._tooltipItems=u,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const l=this.getCaretPosition(e,i,r);t.lineTo(l.x1,l.y1),t.lineTo(l.x2,l.y2),t.lineTo(l.x3,l.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:l}=this,{caretSize:u,cornerRadius:d}=i,{topLeft:m,topRight:g,bottomLeft:y,bottomRight:x}=Xa(d),{x:b,y:w}=e,{width:N,height:A}=t;let j,M,E,D,Y,S;return l==="center"?(Y=w+A/2,r==="left"?(j=b,M=j-u,D=Y+u,S=Y-u):(j=b+N,M=j+u,D=Y-u,S=Y+u),E=j):(r==="left"?M=b+Math.max(m,y)+u:r==="right"?M=b+N-Math.max(g,x)-u:M=this.caretX,l==="top"?(D=w,Y=D-u,j=M-u,E=M+u):(D=w+A,Y=D+u,j=M+u,E=M-u),S=D),{x1:j,x2:M,x3:E,y1:D,y2:Y,y3:S}}drawTitle(e,t,i){const r=this.title,l=r.length;let u,d,m;if(l){const g=Ga(i.rtl,this.x,this.width);for(e.x=vc(this,i.titleAlign,i),t.textAlign=g.textAlign(i.titleAlign),t.textBaseline="middle",u=It(i.titleFont),d=i.titleSpacing,t.fillStyle=i.titleColor,t.font=u.string,m=0;m<l;++m)t.fillText(r[m],g.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+d,m+1===l&&(e.y+=i.titleMarginBottom-d)}}_drawColorBox(e,t,i,r,l){const u=this.labelColors[i],d=this.labelPointStyles[i],{boxHeight:m,boxWidth:g}=l,y=It(l.bodyFont),x=vc(this,"left",l),b=r.x(x),w=m<y.lineHeight?(y.lineHeight-m)/2:0,N=t.y+w;if(l.usePointStyle){const A={radius:Math.min(g,m)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},j=r.leftForLtr(b,g)+g/2,M=N+m/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,Qh(e,A,j,M),e.strokeStyle=u.borderColor,e.fillStyle=u.backgroundColor,Qh(e,A,j,M)}else{e.lineWidth=Oe(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,e.strokeStyle=u.borderColor,e.setLineDash(u.borderDash||[]),e.lineDashOffset=u.borderDashOffset||0;const A=r.leftForLtr(b,g),j=r.leftForLtr(r.xPlus(b,1),g-2),M=Xa(u.borderRadius);Object.values(M).some(E=>E!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,Bc(e,{x:A,y:N,w:g,h:m,radius:M}),e.fill(),e.stroke(),e.fillStyle=u.backgroundColor,e.beginPath(),Bc(e,{x:j,y:N+1,w:g-2,h:m-2,radius:M}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(A,N,g,m),e.strokeRect(A,N,g,m),e.fillStyle=u.backgroundColor,e.fillRect(j,N+1,g-2,m-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:l,bodyAlign:u,displayColors:d,boxHeight:m,boxWidth:g,boxPadding:y}=i,x=It(i.bodyFont);let b=x.lineHeight,w=0;const N=Ga(i.rtl,this.x,this.width),A=function(I){t.fillText(I,N.x(e.x+w),e.y+b/2),e.y+=b+l},j=N.textAlign(u);let M,E,D,Y,S,T,$;for(t.textAlign=u,t.textBaseline="middle",t.font=x.string,e.x=vc(this,j,i),t.fillStyle=i.bodyColor,Pe(this.beforeBody,A),w=d&&j!=="right"?u==="center"?g/2+y:g+2+y:0,Y=0,T=r.length;Y<T;++Y){for(M=r[Y],E=this.labelTextColors[Y],t.fillStyle=E,Pe(M.before,A),D=M.lines,d&&D.length&&(this._drawColorBox(t,e,Y,N,i),b=Math.max(x.lineHeight,m)),S=0,$=D.length;S<$;++S)A(D[S]),b=x.lineHeight;Pe(M.after,A)}w=0,b=x.lineHeight,Pe(this.afterBody,A),e.y-=l}drawFooter(e,t,i){const r=this.footer,l=r.length;let u,d;if(l){const m=Ga(i.rtl,this.x,this.width);for(e.x=vc(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=m.textAlign(i.footerAlign),t.textBaseline="middle",u=It(i.footerFont),t.fillStyle=i.footerColor,t.font=u.string,d=0;d<l;++d)t.fillText(r[d],m.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:l,yAlign:u}=this,{x:d,y:m}=e,{width:g,height:y}=i,{topLeft:x,topRight:b,bottomLeft:w,bottomRight:N}=Xa(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(d+x,m),u==="top"&&this.drawCaret(e,t,i,r),t.lineTo(d+g-b,m),t.quadraticCurveTo(d+g,m,d+g,m+b),u==="center"&&l==="right"&&this.drawCaret(e,t,i,r),t.lineTo(d+g,m+y-N),t.quadraticCurveTo(d+g,m+y,d+g-N,m+y),u==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(d+w,m+y),t.quadraticCurveTo(d,m+y,d,m+y-w),u==="center"&&l==="left"&&this.drawCaret(e,t,i,r),t.lineTo(d,m+x),t.quadraticCurveTo(d,m,d+x,m),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,l=i&&i.y;if(r||l){const u=mo[e.position].call(this,this._active,this._eventPosition);if(!u)return;const d=this._size=Wy(this,e),m=Object.assign({},u,this._size),g=Zy(t,e,m),y=Ky(e,m,g,t);(r._to!==y.x||l._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=d.width,this.height=d.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},l={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const u=Tn(t.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&d&&(e.save(),e.globalAlpha=i,this.drawBackground(l,e,r,t),ab(e,t.textDirection),l.y+=u.top,this.drawTitle(l,e,t),this.drawBody(l,e,t),this.drawFooter(l,e,t),rb(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:d,index:m})=>{const g=this.chart.getDatasetMeta(d);if(!g)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:g.data[m],index:m}}),l=!zc(i,r),u=this._positionChanged(r,t);(l||u)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,l=this._active||[],u=this._getActiveElements(e,l,t,i),d=this._positionChanged(u,e),m=t||!zc(u,l)||d;return m&&(this._active=u,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),m}_getActiveElements(e,t,i,r){const l=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const u=this.chart.getElementsAtEventForMode(e,l.mode,l,i);return l.reverse&&u.reverse(),u}_positionChanged(e,t){const{caretX:i,caretY:r,options:l}=this,u=mo[l.position].call(this,e,t);return u!==!1&&(i!==u.x||r!==u.y)}}U(Kh,"positioners",mo);var Rk={id:"tooltip",_element:Kh,positioners:mo,afterInit(s,e,t){t&&(s.tooltip=new Kh({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ab},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Ek=(s,e,t,i)=>(typeof e=="string"?(t=s.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function zk(s,e,t,i){const r=s.indexOf(e);if(r===-1)return Ek(s,e,t,i);const l=s.lastIndexOf(e);return r!==l?t:r}const qk=(s,e)=>s===null?null:Vt(Math.round(s),0,e);function tx(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class Jh extends tr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:l}of t)i[r]===l&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(qe(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:zk(i,e,ke(t,e),this._addedLabels),qk(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let l=this.getLabels();l=e===0&&t===l.length-1?l:l.slice(e,t+1),this._valueRange=Math.max(l.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let u=e;u<=t;u++)r.push({value:u});return r}getLabelForValue(e){return tx.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}U(Jh,"id","category"),U(Jh,"defaults",{ticks:{callback:tx}});function Lk(s,e){const t=[],{bounds:r,step:l,min:u,max:d,precision:m,count:g,maxTicks:y,maxDigits:x,includeBounds:b}=s,w=l||1,N=y-1,{min:A,max:j}=e,M=!qe(u),E=!qe(d),D=!qe(g),Y=(j-A)/(x+1);let S=sy((j-A)/N/w)*w,T,$,I,q;if(S<1e-14&&!M&&!E)return[{value:A},{value:j}];q=Math.ceil(j/S)-Math.floor(A/S),q>N&&(S=sy(q*S/N/w)*w),qe(m)||(T=Math.pow(10,m),S=Math.ceil(S*T)/T),r==="ticks"?($=Math.floor(A/S)*S,I=Math.ceil(j/S)*S):($=A,I=j),M&&E&&l&&aN((d-u)/l,S/1e3)?(q=Math.round(Math.min((d-u)/S,y)),S=(d-u)/q,$=u,I=d):D?($=M?u:$,I=E?d:I,q=g-1,S=(I-$)/q):(q=(I-$)/S,bo(q,Math.round(q),S/1e3)?q=Math.round(q):q=Math.ceil(q));const L=Math.max(iy(S),iy($));T=Math.pow(10,qe(m)?L:m),$=Math.round($*T)/T,I=Math.round(I*T)/T;let J=0;for(M&&(b&&$!==u?(t.push({value:u}),$<u&&J++,bo(Math.round(($+J*S)*T)/T,u,nx(u,Y,s))&&J++):$<u&&J++);J<q;++J){const oe=Math.round(($+J*S)*T)/T;if(E&&oe>d)break;t.push({value:oe})}return E&&b&&I!==d?t.length&&bo(t[t.length-1].value,d,nx(d,Y,s))?t[t.length-1].value=d:t.push({value:d}):(!E||I===d)&&t.push({value:I}),t}function nx(s,e,{horizontal:t,minRotation:i}){const r=js(i),l=(t?Math.sin(r):Math.cos(r))||.001,u=.75*e*(""+s).length;return Math.min(e/l,u)}class Bk extends tr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return qe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:l}=this;const u=m=>r=t?r:m,d=m=>l=i?l:m;if(e){const m=ts(r),g=ts(l);m<0&&g<0?d(0):m>0&&g>0&&u(0)}if(r===l){let m=l===0?1:Math.abs(l*.05);d(l+m),e||u(r-m)}this.min=r,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},l=this._range||this,u=Lk(r,l);return e.bounds==="ticks"&&rN(u,this,"value"),e.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return vf(e,this.chart.options.locale,this.options.ticks.format)}}class ef extends Bk{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Cn(e)?e:0,this.max=Cn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=js(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,l.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}U(ef,"id","linear"),U(ef,"defaults",{ticks:{callback:Zx.formatters.numeric}});const Kc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nn=Object.keys(Kc);function sx(s,e){return s-e}function ix(s,e){if(qe(e))return null;const t=s._adapter,{parser:i,round:r,isoWeekday:l}=s._parseOpts;let u=e;return typeof i=="function"&&(u=i(u)),Cn(u)||(u=typeof i=="string"?t.parse(u,i):t.parse(u)),u===null?null:(r&&(u=r==="week"&&(Ro(l)||l===!0)?t.startOf(u,"isoWeek",l):t.startOf(u,r)),+u)}function ax(s,e,t,i){const r=nn.length;for(let l=nn.indexOf(s);l<r-1;++l){const u=Kc[nn[l]],d=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((t-e)/(d*u.size))<=i)return nn[l]}return nn[r-1]}function Hk(s,e,t,i,r){for(let l=nn.length-1;l>=nn.indexOf(t);l--){const u=nn[l];if(Kc[u].common&&s._adapter.diff(r,i,u)>=e-1)return u}return nn[t?nn.indexOf(t):0]}function Pk(s){for(let e=nn.indexOf(s)+1,t=nn.length;e<t;++e)if(Kc[nn[e]].common)return nn[e]}function rx(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:i,hi:r}=yf(t,e),l=t[i]>=e?t[i]:t[r];s[l]=!0}}function Yk(s,e,t,i){const r=s._adapter,l=+r.startOf(e[0].value,i),u=e[e.length-1].value;let d,m;for(d=l;d<=u;d=+r.add(d,1,i))m=t[d],m>=0&&(e[m].major=!0);return e}function ox(s,e,t){const i=[],r={},l=e.length;let u,d;for(u=0;u<l;++u)d=e[u],r[d]=u,i.push({value:d,major:!1});return l===0||!t?i:Yk(s,i,r,t)}class Bo extends tr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new db._date(e.adapters.date);r.init(t),xo(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:ix(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:l,minDefined:u,maxDefined:d}=this.getUserBounds();function m(g){!u&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!d&&!isNaN(g.max)&&(l=Math.max(l,g.max))}(!u||!d)&&(m(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&m(this.getMinMax(!1))),r=Cn(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),l=Cn(l)&&!isNaN(l)?l:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,l-1),this.max=Math.max(r+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const l=this.min,u=this.max,d=dN(r,l,u);return this._unit=t.unit||(i.autoSkip?ax(t.minUnit,this.min,this.max,this._getLabelCapacity(l)):Hk(this,d.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Pk(this._unit),this.initOffsets(r),e.reverse&&d.reverse(),ox(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,l;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?i=l:i=(l-this.getDecimalForValue(e[e.length-2]))/2);const u=e.length<3?.5:.25;t=Vt(t,0,u),i=Vt(i,0,u),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,l=r.time,u=l.unit||ax(l.minUnit,t,i,this._getLabelCapacity(t)),d=ke(r.ticks.stepSize,1),m=u==="week"?l.isoWeekday:!1,g=Ro(m)||m===!0,y={};let x=t,b,w;if(g&&(x=+e.startOf(x,"isoWeek",m)),x=+e.startOf(x,g?"day":u),e.diff(i,t,u)>1e5*d)throw new Error(t+" and "+i+" are too far apart with stepSize of "+d+" "+u);const N=r.ticks.source==="data"&&this.getDataTimestamps();for(b=x,w=0;b<i;b=+e.add(b,d,u),w++)rx(y,b,N);return(b===i||r.bounds==="ticks"||w===1)&&rx(y,b,N),Object.keys(y).sort(sx).map(A=>+A)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,l=this._unit,u=t||r[l];return this._adapter.format(e,u)}_tickFormatFunction(e,t,i,r){const l=this.options,u=l.ticks.callback;if(u)return Ge(u,[e,t,i],this);const d=l.time.displayFormats,m=this._unit,g=this._majorUnit,y=m&&d[m],x=g&&d[g],b=i[t],w=g&&x&&b&&b.major;return this._adapter.format(e,r||(w?x:y))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=js(this.isHorizontal()?t.maxRotation:t.minRotation),l=Math.cos(r),u=Math.sin(r),d=this._resolveTickFontOptions(0).size;return{w:i*l+d*u,h:i*u+d*l}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,l=this._tickFormatFunction(e,0,ox(this,[e],this._majorUnit),r),u=this._getLabelSize(l),d=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(ix(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Xx(e.sort(sx))}}U(Bo,"id","time"),U(Bo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function wc(s,e,t){let i=0,r=s.length-1,l,u,d,m;t?(e>=s[i].pos&&e<=s[r].pos&&({lo:i,hi:r}=Hi(s,"pos",e)),{pos:l,time:d}=s[i],{pos:u,time:m}=s[r]):(e>=s[i].time&&e<=s[r].time&&({lo:i,hi:r}=Hi(s,"time",e)),{time:l,pos:d}=s[i],{time:u,pos:m}=s[r]);const g=u-l;return g?d+(m-d)*(e-l)/g:d}class lx extends Bo{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=wc(t,this.min),this._tableRange=wc(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],l=[];let u,d,m,g,y;for(u=0,d=e.length;u<d;++u)g=e[u],g>=t&&g<=i&&r.push(g);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(u=0,d=r.length;u<d;++u)y=r[u+1],m=r[u-1],g=r[u],Math.round((y+m)/2)!==g&&l.push({time:g,pos:u/(d-1)});return l}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,l)=>r-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(wc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return wc(this._table,i*this._tableRange+this._minPos,!0)}}U(lx,"id","timeseries"),U(lx,"defaults",Bo.defaults);const jb="label";function cx(s,e){typeof s=="function"?s(e):s&&(s.current=e)}function Vk(s,e){const t=s.options;t&&e&&Object.assign(t,e)}function kb(s,e){s.labels=e}function Cb(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jb;const i=[];s.datasets=e.map(r=>{const l=s.datasets.find(u=>u[t]===r[t]);return!l||!r.data||i.includes(l)?{...r}:(i.push(l),Object.assign(l,r),l)})}function Ik(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb;const t={labels:[],datasets:[]};return kb(t,s.labels),Cb(t,s.datasets,e),t}function Fk(s,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:l,type:u,data:d,options:m,plugins:g=[],fallbackContent:y,updateMode:x,...b}=s,w=Q.useRef(null),N=Q.useRef(null),A=()=>{w.current&&(N.current=new Zc(w.current,{type:u,data:Ik(d,l),options:m&&{...m},plugins:g}),cx(e,N.current))},j=()=>{cx(e,null),N.current&&(N.current.destroy(),N.current=null)};return Q.useEffect(()=>{!r&&N.current&&m&&Vk(N.current,m)},[r,m]),Q.useEffect(()=>{!r&&N.current&&kb(N.current.config.data,d.labels)},[r,d.labels]),Q.useEffect(()=>{!r&&N.current&&d.datasets&&Cb(N.current.config.data,d.datasets,l)},[r,d.datasets]),Q.useEffect(()=>{N.current&&(r?(j(),setTimeout(A)):N.current.update(x))},[r,m,d.labels,d.datasets,x]),Q.useEffect(()=>{N.current&&(j(),setTimeout(A))},[u]),Q.useEffect(()=>(A(),()=>j()),[]),ne.createElement("canvas",{ref:w,role:"img",height:t,width:i,...b},y)}const Uk=Q.forwardRef(Fk);function Tf(s,e){return Zc.register(e),Q.forwardRef((t,i)=>ne.createElement(Uk,{...t,ref:i,type:s}))}const $k=Tf("line",Nc),Qk=Tf("bar",Mc),Xk=Tf("pie",Xh),Tb=6048e5,Gk=864e5,Po=6e4,Yo=36e5,Wk=1e3,ux=Symbol.for("constructDateFrom");function at(s,e){return typeof s=="function"?s(e):s&&typeof s=="object"&&ux in s?s[ux](e):s instanceof Date?new s.constructor(e):new Date(e)}function ve(s,e){return at(e||s,s)}function Jc(s,e,t){const i=ve(s,t==null?void 0:t.in);return isNaN(e)?at((t==null?void 0:t.in)||s,NaN):(e&&i.setDate(i.getDate()+e),i)}function Df(s,e,t){const i=ve(s,t==null?void 0:t.in);if(isNaN(e))return at(s,NaN);if(!e)return i;const r=i.getDate(),l=at(s,i.getTime());l.setMonth(i.getMonth()+e+1,0);const u=l.getDate();return r>=u?l:(i.setFullYear(l.getFullYear(),l.getMonth(),r),i)}function Of(s,e,t){return at(s,+ve(s)+e)}function Zk(s,e,t){return Of(s,e*Yo)}let Kk={};function Xi(){return Kk}function ns(s,e){var d,m,g,y;const t=Xi(),i=(e==null?void 0:e.weekStartsOn)??((m=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??t.weekStartsOn??((y=(g=t.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,r=ve(s,e==null?void 0:e.in),l=r.getDay(),u=(l<i?7:0)+l-i;return r.setDate(r.getDate()-u),r.setHours(0,0,0,0),r}function er(s,e){return ns(s,{...e,weekStartsOn:1})}function Db(s,e){const t=ve(s,e==null?void 0:e.in),i=t.getFullYear(),r=at(t,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const l=er(r),u=at(t,0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);const d=er(u);return t.getTime()>=l.getTime()?i+1:t.getTime()>=d.getTime()?i:i-1}function Vc(s){const e=ve(s),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+s-+t}function Gi(s,...e){const t=at.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function tf(s,e){const t=ve(s,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Ob(s,e,t){const[i,r]=Gi(t==null?void 0:t.in,s,e),l=tf(i),u=tf(r),d=+l-Vc(l),m=+u-Vc(u);return Math.round((d-m)/Gk)}function Jk(s,e){const t=Db(s,e),i=at(s,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),er(i)}function eC(s,e,t){const i=ve(s,t==null?void 0:t.in);return i.setTime(i.getTime()+e*Po),i}function tC(s,e,t){return Df(s,e*3,t)}function nC(s,e,t){return Of(s,e*1e3)}function sC(s,e,t){return Jc(s,e*7,t)}function iC(s,e,t){return Df(s,e*12,t)}function _o(s,e){const t=+ve(s)-+ve(e);return t<0?-1:t>0?1:t}function aC(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Rb(s){return!(!aC(s)&&typeof s!="number"||isNaN(+ve(s)))}function rC(s,e,t){const[i,r]=Gi(t==null?void 0:t.in,s,e),l=i.getFullYear()-r.getFullYear(),u=i.getMonth()-r.getMonth();return l*12+u}function oC(s,e,t){const[i,r]=Gi(t==null?void 0:t.in,s,e);return i.getFullYear()-r.getFullYear()}function Eb(s,e,t){const[i,r]=Gi(t==null?void 0:t.in,s,e),l=dx(i,r),u=Math.abs(Ob(i,r));i.setDate(i.getDate()-l*u);const d=+(dx(i,r)===-l),m=l*(u-d);return m===0?0:m}function dx(s,e){const t=s.getFullYear()-e.getFullYear()||s.getMonth()-e.getMonth()||s.getDate()-e.getDate()||s.getHours()-e.getHours()||s.getMinutes()-e.getMinutes()||s.getSeconds()-e.getSeconds()||s.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function Vo(s){return e=>{const i=(s?Math[s]:Math.trunc)(e);return i===0?0:i}}function lC(s,e,t){const[i,r]=Gi(t==null?void 0:t.in,s,e),l=(+i-+r)/Yo;return Vo(t==null?void 0:t.roundingMethod)(l)}function Rf(s,e){return+ve(s)-+ve(e)}function cC(s,e,t){const i=Rf(s,e)/Po;return Vo(t==null?void 0:t.roundingMethod)(i)}function zb(s,e){const t=ve(s,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function qb(s,e){const t=ve(s,e==null?void 0:e.in),i=t.getMonth();return t.setFullYear(t.getFullYear(),i+1,0),t.setHours(23,59,59,999),t}function uC(s,e){const t=ve(s,e==null?void 0:e.in);return+zb(t,e)==+qb(t,e)}function Lb(s,e,t){const[i,r,l]=Gi(t==null?void 0:t.in,s,s,e),u=_o(r,l),d=Math.abs(rC(r,l));if(d<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-u*d);let m=_o(r,l)===-u;uC(i)&&d===1&&_o(i,l)===1&&(m=!1);const g=u*(d-+m);return g===0?0:g}function dC(s,e,t){const i=Lb(s,e,t)/3;return Vo(t==null?void 0:t.roundingMethod)(i)}function hC(s,e,t){const i=Rf(s,e)/1e3;return Vo(t==null?void 0:t.roundingMethod)(i)}function fC(s,e,t){const i=Eb(s,e,t)/7;return Vo(t==null?void 0:t.roundingMethod)(i)}function mC(s,e,t){const[i,r]=Gi(t==null?void 0:t.in,s,e),l=_o(i,r),u=Math.abs(oC(i,r));i.setFullYear(1584),r.setFullYear(1584);const d=_o(i,r)===-l,m=l*(u-+d);return m===0?0:m}function gC(s,e){const t=ve(s,e==null?void 0:e.in),i=t.getMonth(),r=i-i%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function pC(s,e){const t=ve(s,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function yC(s,e){const t=ve(s,e==null?void 0:e.in),i=t.getFullYear();return t.setFullYear(i+1,0,0),t.setHours(23,59,59,999),t}function Bb(s,e){const t=ve(s,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function xC(s,e){const t=ve(s,e==null?void 0:e.in);return t.setMinutes(59,59,999),t}function bC(s,e){var d,m;const t=Xi(),i=t.weekStartsOn??((m=(d=t.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,r=ve(s,e==null?void 0:e.in),l=r.getDay(),u=(l<i?-7:0)+6-(l-i);return r.setDate(r.getDate()+u),r.setHours(23,59,59,999),r}function vC(s,e){const t=ve(s,e==null?void 0:e.in);return t.setSeconds(59,999),t}function wC(s,e){const t=ve(s,e==null?void 0:e.in),i=t.getMonth(),r=i-i%3+3;return t.setMonth(r,0),t.setHours(23,59,59,999),t}function _C(s,e){const t=ve(s,e==null?void 0:e.in);return t.setMilliseconds(999),t}const SC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MC=(s,e,t)=>{let i;const r=SC[s];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function Eh(s){return(e={})=>{const t=e.width?String(e.width):s.defaultWidth;return s.formats[t]||s.formats[s.defaultWidth]}}const NC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kC={date:Eh({formats:NC,defaultWidth:"full"}),time:Eh({formats:AC,defaultWidth:"full"}),dateTime:Eh({formats:jC,defaultWidth:"full"})},CC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TC=(s,e,t,i)=>CC[s];function ao(s){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let r;if(i==="formatting"&&s.formattingValues){const u=s.defaultFormattingWidth||s.defaultWidth,d=t!=null&&t.width?String(t.width):u;r=s.formattingValues[d]||s.formattingValues[u]}else{const u=s.defaultWidth,d=t!=null&&t.width?String(t.width):s.defaultWidth;r=s.values[d]||s.values[u]}const l=s.argumentCallback?s.argumentCallback(e):e;return r[l]}}const DC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LC=(s,e)=>{const t=Number(s),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},BC={ordinalNumber:LC,era:ao({values:DC,defaultWidth:"wide"}),quarter:ao({values:OC,defaultWidth:"wide",argumentCallback:s=>s-1}),month:ao({values:RC,defaultWidth:"wide"}),day:ao({values:EC,defaultWidth:"wide"}),dayPeriod:ao({values:zC,defaultWidth:"wide",formattingValues:qC,defaultFormattingWidth:"wide"})};function ro(s){return(e,t={})=>{const i=t.width,r=i&&s.matchPatterns[i]||s.matchPatterns[s.defaultMatchWidth],l=e.match(r);if(!l)return null;const u=l[0],d=i&&s.parsePatterns[i]||s.parsePatterns[s.defaultParseWidth],m=Array.isArray(d)?PC(d,x=>x.test(u)):HC(d,x=>x.test(u));let g;g=s.valueCallback?s.valueCallback(m):m,g=t.valueCallback?t.valueCallback(g):g;const y=e.slice(u.length);return{value:g,rest:y}}}function HC(s,e){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&e(s[t]))return t}function PC(s,e){for(let t=0;t<s.length;t++)if(e(s[t]))return t}function YC(s){return(e,t={})=>{const i=e.match(s.matchPattern);if(!i)return null;const r=i[0],l=e.match(s.parsePattern);if(!l)return null;let u=s.valueCallback?s.valueCallback(l[0]):l[0];u=t.valueCallback?t.valueCallback(u):u;const d=e.slice(r.length);return{value:u,rest:d}}}const VC=/^(\d+)(th|st|nd|rd)?/i,IC=/\d+/i,FC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},UC={any:[/^b/i,/^(a|c)/i]},$C={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QC={any:[/1/i,/2/i,/3/i,/4/i]},XC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eT={ordinalNumber:YC({matchPattern:VC,parsePattern:IC,valueCallback:s=>parseInt(s,10)}),era:ro({matchPatterns:FC,defaultMatchWidth:"wide",parsePatterns:UC,defaultParseWidth:"any"}),quarter:ro({matchPatterns:$C,defaultMatchWidth:"wide",parsePatterns:QC,defaultParseWidth:"any",valueCallback:s=>s+1}),month:ro({matchPatterns:XC,defaultMatchWidth:"wide",parsePatterns:GC,defaultParseWidth:"any"}),day:ro({matchPatterns:WC,defaultMatchWidth:"wide",parsePatterns:ZC,defaultParseWidth:"any"}),dayPeriod:ro({matchPatterns:KC,defaultMatchWidth:"any",parsePatterns:JC,defaultParseWidth:"any"})},Hb={code:"en-US",formatDistance:MC,formatLong:kC,formatRelative:TC,localize:BC,match:eT,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tT(s,e){const t=ve(s,e==null?void 0:e.in);return Ob(t,Bb(t))+1}function Pb(s,e){const t=ve(s,e==null?void 0:e.in),i=+er(t)-+Jk(t);return Math.round(i/Tb)+1}function Ef(s,e){var y,x,b,w;const t=ve(s,e==null?void 0:e.in),i=t.getFullYear(),r=Xi(),l=(e==null?void 0:e.firstWeekContainsDate)??((x=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(b=r.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,u=at((e==null?void 0:e.in)||s,0);u.setFullYear(i+1,0,l),u.setHours(0,0,0,0);const d=ns(u,e),m=at((e==null?void 0:e.in)||s,0);m.setFullYear(i,0,l),m.setHours(0,0,0,0);const g=ns(m,e);return+t>=+d?i+1:+t>=+g?i:i-1}function nT(s,e){var d,m,g,y;const t=Xi(),i=(e==null?void 0:e.firstWeekContainsDate)??((m=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(g=t.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,r=Ef(s,e),l=at((e==null?void 0:e.in)||s,0);return l.setFullYear(r,0,i),l.setHours(0,0,0,0),ns(l,e)}function Yb(s,e){const t=ve(s,e==null?void 0:e.in),i=+ns(t,e)-+nT(t,e);return Math.round(i/Tb)+1}function He(s,e){const t=s<0?"-":"",i=Math.abs(s).toString().padStart(e,"0");return t+i}const Js={y(s,e){const t=s.getFullYear(),i=t>0?t:1-t;return He(e==="yy"?i%100:i,e.length)},M(s,e){const t=s.getMonth();return e==="M"?String(t+1):He(t+1,2)},d(s,e){return He(s.getDate(),e.length)},a(s,e){const t=s.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(s,e){return He(s.getHours()%12||12,e.length)},H(s,e){return He(s.getHours(),e.length)},m(s,e){return He(s.getMinutes(),e.length)},s(s,e){return He(s.getSeconds(),e.length)},S(s,e){const t=e.length,i=s.getMilliseconds(),r=Math.trunc(i*Math.pow(10,t-3));return He(r,e.length)}},Fa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hx={G:function(s,e,t){const i=s.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(s,e,t){if(e==="yo"){const i=s.getFullYear(),r=i>0?i:1-i;return t.ordinalNumber(r,{unit:"year"})}return Js.y(s,e)},Y:function(s,e,t,i){const r=Ef(s,i),l=r>0?r:1-r;if(e==="YY"){const u=l%100;return He(u,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):He(l,e.length)},R:function(s,e){const t=Db(s);return He(t,e.length)},u:function(s,e){const t=s.getFullYear();return He(t,e.length)},Q:function(s,e,t){const i=Math.ceil((s.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return He(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(s,e,t){const i=Math.ceil((s.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return He(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(s,e,t){const i=s.getMonth();switch(e){case"M":case"MM":return Js.M(s,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(s,e,t){const i=s.getMonth();switch(e){case"L":return String(i+1);case"LL":return He(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(s,e,t,i){const r=Yb(s,i);return e==="wo"?t.ordinalNumber(r,{unit:"week"}):He(r,e.length)},I:function(s,e,t){const i=Pb(s);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):He(i,e.length)},d:function(s,e,t){return e==="do"?t.ordinalNumber(s.getDate(),{unit:"date"}):Js.d(s,e)},D:function(s,e,t){const i=tT(s);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):He(i,e.length)},E:function(s,e,t){const i=s.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(s,e,t,i){const r=s.getDay(),l=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return He(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(s,e,t,i){const r=s.getDay(),l=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return He(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(s,e,t){const i=s.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return He(r,e.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(s,e,t){const r=s.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(s,e,t){const i=s.getHours();let r;switch(i===12?r=Fa.noon:i===0?r=Fa.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(s,e,t){const i=s.getHours();let r;switch(i>=17?r=Fa.evening:i>=12?r=Fa.afternoon:i>=4?r=Fa.morning:r=Fa.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(s,e,t){if(e==="ho"){let i=s.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return Js.h(s,e)},H:function(s,e,t){return e==="Ho"?t.ordinalNumber(s.getHours(),{unit:"hour"}):Js.H(s,e)},K:function(s,e,t){const i=s.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):He(i,e.length)},k:function(s,e,t){let i=s.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):He(i,e.length)},m:function(s,e,t){return e==="mo"?t.ordinalNumber(s.getMinutes(),{unit:"minute"}):Js.m(s,e)},s:function(s,e,t){return e==="so"?t.ordinalNumber(s.getSeconds(),{unit:"second"}):Js.s(s,e)},S:function(s,e){return Js.S(s,e)},X:function(s,e,t){const i=s.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return mx(i);case"XXXX":case"XX":return qi(i);case"XXXXX":case"XXX":default:return qi(i,":")}},x:function(s,e,t){const i=s.getTimezoneOffset();switch(e){case"x":return mx(i);case"xxxx":case"xx":return qi(i);case"xxxxx":case"xxx":default:return qi(i,":")}},O:function(s,e,t){const i=s.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fx(i,":");case"OOOO":default:return"GMT"+qi(i,":")}},z:function(s,e,t){const i=s.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fx(i,":");case"zzzz":default:return"GMT"+qi(i,":")}},t:function(s,e,t){const i=Math.trunc(+s/1e3);return He(i,e.length)},T:function(s,e,t){return He(+s,e.length)}};function fx(s,e=""){const t=s>0?"-":"+",i=Math.abs(s),r=Math.trunc(i/60),l=i%60;return l===0?t+String(r):t+String(r)+e+He(l,2)}function mx(s,e){return s%60===0?(s>0?"-":"+")+He(Math.abs(s)/60,2):qi(s,e)}function qi(s,e=""){const t=s>0?"-":"+",i=Math.abs(s),r=He(Math.trunc(i/60),2),l=He(i%60,2);return t+r+e+l}const gx=(s,e)=>{switch(s){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Vb=(s,e)=>{switch(s){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},sT=(s,e)=>{const t=s.match(/(P+)(p+)?/)||[],i=t[1],r=t[2];if(!r)return gx(s,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",gx(i,e)).replace("{{time}}",Vb(r,e))},nf={p:Vb,P:sT},iT=/^D+$/,aT=/^Y+$/,rT=["D","DD","YY","YYYY"];function Ib(s){return iT.test(s)}function Fb(s){return aT.test(s)}function sf(s,e,t){const i=oT(s,e,t);if(console.warn(i),rT.includes(s))throw new RangeError(i)}function oT(s,e,t){const i=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uT=/^'([^]*?)'?$/,dT=/''/g,hT=/[a-zA-Z]/;function fT(s,e,t){var y,x,b,w,N,A,j,M;const i=Xi(),r=(t==null?void 0:t.locale)??i.locale??Hb,l=(t==null?void 0:t.firstWeekContainsDate)??((x=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(b=i.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,u=(t==null?void 0:t.weekStartsOn)??((A=(N=t==null?void 0:t.locale)==null?void 0:N.options)==null?void 0:A.weekStartsOn)??i.weekStartsOn??((M=(j=i.locale)==null?void 0:j.options)==null?void 0:M.weekStartsOn)??0,d=ve(s,t==null?void 0:t.in);if(!Rb(d))throw new RangeError("Invalid time value");let m=e.match(cT).map(E=>{const D=E[0];if(D==="p"||D==="P"){const Y=nf[D];return Y(E,r.formatLong)}return E}).join("").match(lT).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const D=E[0];if(D==="'")return{isToken:!1,value:mT(E)};if(hx[D])return{isToken:!0,value:E};if(D.match(hT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return{isToken:!1,value:E}});r.localize.preprocessor&&(m=r.localize.preprocessor(d,m));const g={firstWeekContainsDate:l,weekStartsOn:u,locale:r};return m.map(E=>{if(!E.isToken)return E.value;const D=E.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Fb(D)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Ib(D))&&sf(D,e,String(s));const Y=hx[D[0]];return Y(d,D,r.localize,g)}).join("")}function mT(s){const e=s.match(uT);return e?e[1].replace(dT,"'"):s}function gT(){return Object.assign({},Xi())}function pT(s,e){const t=ve(s,e==null?void 0:e.in).getDay();return t===0?7:t}function yT(s,e){const t=xT(e)?new e(0):at(e,0);return t.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),t.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),t}function xT(s){var e;return typeof s=="function"&&((e=s.prototype)==null?void 0:e.constructor)===s}const bT=10;class Ub{constructor(){U(this,"subPriority",0)}validate(e,t){return!0}}class vT extends Ub{constructor(e,t,i,r,l){super(),this.value=e,this.validateValue=t,this.setValue=i,this.priority=r,l&&(this.subPriority=l)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,i){return this.setValue(e,t,this.value,i)}}class wT extends Ub{constructor(t,i){super();U(this,"priority",bT);U(this,"subPriority",-1);this.context=t||(r=>at(i,r))}set(t,i){return i.timestampIsSet?t:at(t,yT(t,this.context))}}class ze{run(e,t,i,r){const l=this.parse(e,t,i,r);return l?{setter:new vT(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(e,t,i){return!0}}class _T extends ze{constructor(){super(...arguments);U(this,"priority",140);U(this,"incompatibleTokens",["R","u","t","T"])}parse(t,i,r){switch(i){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,i,r){return i.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}const mt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Jn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function gt(s,e){return s&&{value:e(s.value),rest:s.rest}}function Je(s,e){const t=e.match(s);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function es(s,e){const t=e.match(s);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const i=t[1]==="+"?1:-1,r=t[2]?parseInt(t[2],10):0,l=t[3]?parseInt(t[3],10):0,u=t[5]?parseInt(t[5],10):0;return{value:i*(r*Yo+l*Po+u*Wk),rest:e.slice(t[0].length)}}function $b(s){return Je(mt.anyDigitsSigned,s)}function rt(s,e){switch(s){case 1:return Je(mt.singleDigit,e);case 2:return Je(mt.twoDigits,e);case 3:return Je(mt.threeDigits,e);case 4:return Je(mt.fourDigits,e);default:return Je(new RegExp("^\\d{1,"+s+"}"),e)}}function Ic(s,e){switch(s){case 1:return Je(mt.singleDigitSigned,e);case 2:return Je(mt.twoDigitsSigned,e);case 3:return Je(mt.threeDigitsSigned,e);case 4:return Je(mt.fourDigitsSigned,e);default:return Je(new RegExp("^-?\\d{1,"+s+"}"),e)}}function zf(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Qb(s,e){const t=e>0,i=t?e:1-e;let r;if(i<=50)r=s||100;else{const l=i+50,u=Math.trunc(l/100)*100,d=s>=l%100;r=s+u-(d?100:0)}return t?r:1-r}function Xb(s){return s%400===0||s%4===0&&s%100!==0}class ST extends ze{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,i,r){const l=u=>({year:u,isTwoDigitYear:i==="yy"});switch(i){case"y":return gt(rt(4,t),l);case"yo":return gt(r.ordinalNumber(t,{unit:"year"}),l);default:return gt(rt(i.length,t),l)}}validate(t,i){return i.isTwoDigitYear||i.year>0}set(t,i,r){const l=t.getFullYear();if(r.isTwoDigitYear){const d=Qb(r.year,l);return t.setFullYear(d,0,1),t.setHours(0,0,0,0),t}const u=!("era"in i)||i.era===1?r.year:1-r.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class MT extends ze{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,i,r){const l=u=>({year:u,isTwoDigitYear:i==="YY"});switch(i){case"Y":return gt(rt(4,t),l);case"Yo":return gt(r.ordinalNumber(t,{unit:"year"}),l);default:return gt(rt(i.length,t),l)}}validate(t,i){return i.isTwoDigitYear||i.year>0}set(t,i,r,l){const u=Ef(t,l);if(r.isTwoDigitYear){const m=Qb(r.year,u);return t.setFullYear(m,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),ns(t,l)}const d=!("era"in i)||i.era===1?r.year:1-r.year;return t.setFullYear(d,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),ns(t,l)}}class NT extends ze{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,i){return Ic(i==="R"?4:i.length,t)}set(t,i,r){const l=at(t,0);return l.setFullYear(r,0,4),l.setHours(0,0,0,0),er(l)}}class AT extends ze{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,i){return Ic(i==="u"?4:i.length,t)}set(t,i,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}class jT extends ze{constructor(){super(...arguments);U(this,"priority",120);U(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,i,r){switch(i){case"Q":case"QQ":return rt(i.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=1&&i<=4}set(t,i,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}}class kT extends ze{constructor(){super(...arguments);U(this,"priority",120);U(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,i,r){switch(i){case"q":case"qq":return rt(i.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,i){return i>=1&&i<=4}set(t,i,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}}class CT extends ze{constructor(){super(...arguments);U(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);U(this,"priority",110)}parse(t,i,r){const l=u=>u-1;switch(i){case"M":return gt(Je(mt.month,t),l);case"MM":return gt(rt(2,t),l);case"Mo":return gt(r.ordinalNumber(t,{unit:"month"}),l);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=0&&i<=11}set(t,i,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class TT extends ze{constructor(){super(...arguments);U(this,"priority",110);U(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,i,r){const l=u=>u-1;switch(i){case"L":return gt(Je(mt.month,t),l);case"LL":return gt(rt(2,t),l);case"Lo":return gt(r.ordinalNumber(t,{unit:"month"}),l);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,i){return i>=0&&i<=11}set(t,i,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}function DT(s,e,t){const i=ve(s,t==null?void 0:t.in),r=Yb(i,t)-e;return i.setDate(i.getDate()-r*7),ve(i,t==null?void 0:t.in)}class OT extends ze{constructor(){super(...arguments);U(this,"priority",100);U(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,i,r){switch(i){case"w":return Je(mt.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return rt(i.length,t)}}validate(t,i){return i>=1&&i<=53}set(t,i,r,l){return ns(DT(t,r,l),l)}}function RT(s,e,t){const i=ve(s,t==null?void 0:t.in),r=Pb(i,t)-e;return i.setDate(i.getDate()-r*7),i}class ET extends ze{constructor(){super(...arguments);U(this,"priority",100);U(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,i,r){switch(i){case"I":return Je(mt.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return rt(i.length,t)}}validate(t,i){return i>=1&&i<=53}set(t,i,r){return er(RT(t,r))}}const zT=[31,28,31,30,31,30,31,31,30,31,30,31],qT=[31,29,31,30,31,30,31,31,30,31,30,31];class LT extends ze{constructor(){super(...arguments);U(this,"priority",90);U(this,"subPriority",1);U(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,i,r){switch(i){case"d":return Je(mt.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return rt(i.length,t)}}validate(t,i){const r=t.getFullYear(),l=Xb(r),u=t.getMonth();return l?i>=1&&i<=qT[u]:i>=1&&i<=zT[u]}set(t,i,r){return t.setDate(r),t.setHours(0,0,0,0),t}}class BT extends ze{constructor(){super(...arguments);U(this,"priority",90);U(this,"subpriority",1);U(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,i,r){switch(i){case"D":case"DD":return Je(mt.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return rt(i.length,t)}}validate(t,i){const r=t.getFullYear();return Xb(r)?i>=1&&i<=366:i>=1&&i<=365}set(t,i,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}}function qf(s,e,t){var x,b,w,N;const i=Xi(),r=(t==null?void 0:t.weekStartsOn)??((b=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??i.weekStartsOn??((N=(w=i.locale)==null?void 0:w.options)==null?void 0:N.weekStartsOn)??0,l=ve(s,t==null?void 0:t.in),u=l.getDay(),m=(e%7+7)%7,g=7-r,y=e<0||e>6?e-(u+g)%7:(m+g)%7-(u+g)%7;return Jc(l,y,t)}class HT extends ze{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,i,r){switch(i){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=0&&i<=6}set(t,i,r,l){return t=qf(t,r,l),t.setHours(0,0,0,0),t}}class PT extends ze{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,i,r,l){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+m};switch(i){case"e":case"ee":return gt(rt(i.length,t),u);case"eo":return gt(r.ordinalNumber(t,{unit:"day"}),u);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,i){return i>=0&&i<=6}set(t,i,r,l){return t=qf(t,r,l),t.setHours(0,0,0,0),t}}class YT extends ze{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,i,r,l){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+m};switch(i){case"c":case"cc":return gt(rt(i.length,t),u);case"co":return gt(r.ordinalNumber(t,{unit:"day"}),u);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,i){return i>=0&&i<=6}set(t,i,r,l){return t=qf(t,r,l),t.setHours(0,0,0,0),t}}function VT(s,e,t){const i=ve(s,t==null?void 0:t.in),r=pT(i,t),l=e-r;return Jc(i,l,t)}class IT extends ze{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,i,r){const l=u=>u===0?7:u;switch(i){case"i":case"ii":return rt(i.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return gt(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),l);case"iiiii":return gt(r.day(t,{width:"narrow",context:"formatting"}),l);case"iiiiii":return gt(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),l);case"iiii":default:return gt(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),l)}}validate(t,i){return i>=1&&i<=7}set(t,i,r){return t=VT(t,r),t.setHours(0,0,0,0),t}}class FT extends ze{constructor(){super(...arguments);U(this,"priority",80);U(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,i,r){switch(i){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,i,r){return t.setHours(zf(r),0,0,0),t}}class UT extends ze{constructor(){super(...arguments);U(this,"priority",80);U(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,i,r){switch(i){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,i,r){return t.setHours(zf(r),0,0,0),t}}class $T extends ze{constructor(){super(...arguments);U(this,"priority",80);U(this,"incompatibleTokens",["a","b","t","T"])}parse(t,i,r){switch(i){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,i,r){return t.setHours(zf(r),0,0,0),t}}class QT extends ze{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,i,r){switch(i){case"h":return Je(mt.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return rt(i.length,t)}}validate(t,i){return i>=1&&i<=12}set(t,i,r){const l=t.getHours()>=12;return l&&r<12?t.setHours(r+12,0,0,0):!l&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}}class XT extends ze{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,i,r){switch(i){case"H":return Je(mt.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return rt(i.length,t)}}validate(t,i){return i>=0&&i<=23}set(t,i,r){return t.setHours(r,0,0,0),t}}class GT extends ze{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,i,r){switch(i){case"K":return Je(mt.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return rt(i.length,t)}}validate(t,i){return i>=0&&i<=11}set(t,i,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}}class WT extends ze{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,i,r){switch(i){case"k":return Je(mt.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return rt(i.length,t)}}validate(t,i){return i>=1&&i<=24}set(t,i,r){const l=r<=24?r%24:r;return t.setHours(l,0,0,0),t}}class ZT extends ze{constructor(){super(...arguments);U(this,"priority",60);U(this,"incompatibleTokens",["t","T"])}parse(t,i,r){switch(i){case"m":return Je(mt.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return rt(i.length,t)}}validate(t,i){return i>=0&&i<=59}set(t,i,r){return t.setMinutes(r,0,0),t}}class KT extends ze{constructor(){super(...arguments);U(this,"priority",50);U(this,"incompatibleTokens",["t","T"])}parse(t,i,r){switch(i){case"s":return Je(mt.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return rt(i.length,t)}}validate(t,i){return i>=0&&i<=59}set(t,i,r){return t.setSeconds(r,0),t}}class JT extends ze{constructor(){super(...arguments);U(this,"priority",30);U(this,"incompatibleTokens",["t","T"])}parse(t,i){const r=l=>Math.trunc(l*Math.pow(10,-i.length+3));return gt(rt(i.length,t),r)}set(t,i,r){return t.setMilliseconds(r),t}}class eD extends ze{constructor(){super(...arguments);U(this,"priority",10);U(this,"incompatibleTokens",["t","T","x"])}parse(t,i){switch(i){case"X":return es(Jn.basicOptionalMinutes,t);case"XX":return es(Jn.basic,t);case"XXXX":return es(Jn.basicOptionalSeconds,t);case"XXXXX":return es(Jn.extendedOptionalSeconds,t);case"XXX":default:return es(Jn.extended,t)}}set(t,i,r){return i.timestampIsSet?t:at(t,t.getTime()-Vc(t)-r)}}class tD extends ze{constructor(){super(...arguments);U(this,"priority",10);U(this,"incompatibleTokens",["t","T","X"])}parse(t,i){switch(i){case"x":return es(Jn.basicOptionalMinutes,t);case"xx":return es(Jn.basic,t);case"xxxx":return es(Jn.basicOptionalSeconds,t);case"xxxxx":return es(Jn.extendedOptionalSeconds,t);case"xxx":default:return es(Jn.extended,t)}}set(t,i,r){return i.timestampIsSet?t:at(t,t.getTime()-Vc(t)-r)}}class nD extends ze{constructor(){super(...arguments);U(this,"priority",40);U(this,"incompatibleTokens","*")}parse(t){return $b(t)}set(t,i,r){return[at(t,r*1e3),{timestampIsSet:!0}]}}class sD extends ze{constructor(){super(...arguments);U(this,"priority",20);U(this,"incompatibleTokens","*")}parse(t){return $b(t)}set(t,i,r){return[at(t,r),{timestampIsSet:!0}]}}const iD={G:new _T,y:new ST,Y:new MT,R:new NT,u:new AT,Q:new jT,q:new kT,M:new CT,L:new TT,w:new OT,I:new ET,d:new LT,D:new BT,E:new HT,e:new PT,c:new YT,i:new IT,a:new FT,b:new UT,B:new $T,h:new QT,H:new XT,K:new GT,k:new WT,m:new ZT,s:new KT,S:new JT,X:new eD,x:new tD,t:new nD,T:new sD},aD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oD=/^'([^]*?)'?$/,lD=/''/g,cD=/\S/,uD=/[a-zA-Z]/;function dD(s,e,t,i){var j,M,E,D,Y,S,T,$;const r=()=>at((i==null?void 0:i.in)||t,NaN),l=gT(),u=(i==null?void 0:i.locale)??l.locale??Hb,d=(i==null?void 0:i.firstWeekContainsDate)??((M=(j=i==null?void 0:i.locale)==null?void 0:j.options)==null?void 0:M.firstWeekContainsDate)??l.firstWeekContainsDate??((D=(E=l.locale)==null?void 0:E.options)==null?void 0:D.firstWeekContainsDate)??1,m=(i==null?void 0:i.weekStartsOn)??((S=(Y=i==null?void 0:i.locale)==null?void 0:Y.options)==null?void 0:S.weekStartsOn)??l.weekStartsOn??(($=(T=l.locale)==null?void 0:T.options)==null?void 0:$.weekStartsOn)??0;if(!e)return s?r():ve(t,i==null?void 0:i.in);const g={firstWeekContainsDate:d,weekStartsOn:m,locale:u},y=[new wT(i==null?void 0:i.in,t)],x=e.match(rD).map(I=>{const q=I[0];if(q in nf){const L=nf[q];return L(I,u.formatLong)}return I}).join("").match(aD),b=[];for(let I of x){!(i!=null&&i.useAdditionalWeekYearTokens)&&Fb(I)&&sf(I,e,s),!(i!=null&&i.useAdditionalDayOfYearTokens)&&Ib(I)&&sf(I,e,s);const q=I[0],L=iD[q];if(L){const{incompatibleTokens:J}=L;if(Array.isArray(J)){const ce=b.find(me=>J.includes(me.token)||me.token===q);if(ce)throw new RangeError(`The format string mustn't contain \`${ce.fullToken}\` and \`${I}\` at the same time`)}else if(L.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${I}\` and any other token at the same time`);b.push({token:q,fullToken:I});const oe=L.run(s,I,u.match,g);if(!oe)return r();y.push(oe.setter),s=oe.rest}else{if(q.match(uD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");if(I==="''"?I="'":q==="'"&&(I=hD(I)),s.indexOf(I)===0)s=s.slice(I.length);else return r()}}if(s.length>0&&cD.test(s))return r();const w=y.map(I=>I.priority).sort((I,q)=>q-I).filter((I,q,L)=>L.indexOf(I)===q).map(I=>y.filter(q=>q.priority===I).sort((q,L)=>L.subPriority-q.subPriority)).map(I=>I[0]);let N=ve(t,i==null?void 0:i.in);if(isNaN(+N))return r();const A={};for(const I of w){if(!I.validate(N,g))return r();const q=I.set(N,A,g);Array.isArray(q)?(N=q[0],Object.assign(A,q[1])):N=q}return N}function hD(s){return s.match(oD)[1].replace(lD,"'")}function fD(s,e){const t=ve(s,e==null?void 0:e.in);return t.setMinutes(0,0,0),t}function mD(s,e){const t=ve(s,e==null?void 0:e.in);return t.setSeconds(0,0),t}function gD(s,e){const t=ve(s,e==null?void 0:e.in);return t.setMilliseconds(0),t}function pD(s,e){const t=()=>at(e==null?void 0:e.in,NaN),i=(e==null?void 0:e.additionalDigits)??2,r=vD(s);let l;if(r.date){const g=wD(r.date,i);l=_D(g.restDateString,g.year)}if(!l||isNaN(+l))return t();const u=+l;let d=0,m;if(r.time&&(d=SD(r.time),isNaN(d)))return t();if(r.timezone){if(m=MD(r.timezone),isNaN(m))return t()}else{const g=new Date(u+d),y=ve(0,e==null?void 0:e.in);return y.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),y.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),y}return ve(u+d+m,e==null?void 0:e.in)}const _c={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},yD=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,xD=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,bD=/^([+-])(\d{2})(?::?(\d{2}))?$/;function vD(s){const e={},t=s.split(_c.dateTimeDelimiter);let i;if(t.length>2)return e;if(/:/.test(t[0])?i=t[0]:(e.date=t[0],i=t[1],_c.timeZoneDelimiter.test(e.date)&&(e.date=s.split(_c.timeZoneDelimiter)[0],i=s.substr(e.date.length,s.length))),i){const r=_c.timezone.exec(i);r?(e.time=i.replace(r[1],""),e.timezone=r[1]):e.time=i}return e}function wD(s,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=s.match(t);if(!i)return{year:NaN,restDateString:""};const r=i[1]?parseInt(i[1]):null,l=i[2]?parseInt(i[2]):null;return{year:l===null?r:l*100,restDateString:s.slice((i[1]||i[2]).length)}}function _D(s,e){if(e===null)return new Date(NaN);const t=s.match(yD);if(!t)return new Date(NaN);const i=!!t[4],r=oo(t[1]),l=oo(t[2])-1,u=oo(t[3]),d=oo(t[4]),m=oo(t[5])-1;if(i)return CD(e,d,m)?ND(e,d,m):new Date(NaN);{const g=new Date(0);return!jD(e,l,u)||!kD(e,r)?new Date(NaN):(g.setUTCFullYear(e,l,Math.max(r,u)),g)}}function oo(s){return s?parseInt(s):1}function SD(s){const e=s.match(xD);if(!e)return NaN;const t=zh(e[1]),i=zh(e[2]),r=zh(e[3]);return TD(t,i,r)?t*Yo+i*Po+r*1e3:NaN}function zh(s){return s&&parseFloat(s.replace(",","."))||0}function MD(s){if(s==="Z")return 0;const e=s.match(bD);if(!e)return 0;const t=e[1]==="+"?-1:1,i=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return DD(i,r)?t*(i*Yo+r*Po):NaN}function ND(s,e,t){const i=new Date(0);i.setUTCFullYear(s,0,4);const r=i.getUTCDay()||7,l=(e-1)*7+t+1-r;return i.setUTCDate(i.getUTCDate()+l),i}const AD=[31,null,31,30,31,30,31,31,30,31,30,31];function Gb(s){return s%400===0||s%4===0&&s%100!==0}function jD(s,e,t){return e>=0&&e<=11&&t>=1&&t<=(AD[e]||(Gb(s)?29:28))}function kD(s,e){return e>=1&&e<=(Gb(s)?366:365)}function CD(s,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function TD(s,e,t){return s===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&s>=0&&s<25}function DD(s,e){return e>=0&&e<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const OD={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};db._date.override({_id:"date-fns",formats:function(){return OD},parse:function(s,e){if(s===null||typeof s>"u")return null;const t=typeof s;return t==="number"||s instanceof Date?s=ve(s):t==="string"&&(typeof e=="string"?s=dD(s,e,new Date,this.options):s=pD(s,this.options)),Rb(s)?s.getTime():null},format:function(s,e){return fT(s,e,this.options)},add:function(s,e,t){switch(t){case"millisecond":return Of(s,e);case"second":return nC(s,e);case"minute":return eC(s,e);case"hour":return Zk(s,e);case"day":return Jc(s,e);case"week":return sC(s,e);case"month":return Df(s,e);case"quarter":return tC(s,e);case"year":return iC(s,e);default:return s}},diff:function(s,e,t){switch(t){case"millisecond":return Rf(s,e);case"second":return hC(s,e);case"minute":return cC(s,e);case"hour":return lC(s,e);case"day":return Eb(s,e);case"week":return fC(s,e);case"month":return Lb(s,e);case"quarter":return dC(s,e);case"year":return mC(s,e);default:return 0}},startOf:function(s,e,t){switch(e){case"second":return gD(s);case"minute":return mD(s);case"hour":return fD(s);case"day":return tf(s);case"week":return ns(s);case"isoWeek":return ns(s,{weekStartsOn:+t});case"month":return pC(s);case"quarter":return gC(s);case"year":return Bb(s);default:return s}},endOf:function(s,e){switch(e){case"second":return _C(s);case"minute":return vC(s);case"hour":return xC(s);case"day":return zb(s);case"week":return bC(s);case"month":return qb(s);case"quarter":return wC(s);case"year":return yC(s);default:return s}}});Zc.register(Jh,ef,Cc,ho,kc,fo,Bo,Nk,Rk,Sk);const qh=(s,e)=>{if(s.length===0){alert("No data to export.");return}const t=Object.keys(s[0]).join(","),i=s.map(d=>Object.values(d).join(",")).join(`
`),r=`data:text/csv;charset=utf-8,${t}
${i}`,l=encodeURI(r),u=document.createElement("a");u.setAttribute("href",l),u.setAttribute("download",`${e}.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u)};function RD({currentUser:s}){const e=Ze(fe.moc.listRequests,s!=null&&s._id?{statusFilter:void 0,requestingUserId:s._id}:"skip")||[],t=Ze(fe.departments.listDepartments)||[],i=Q.useMemo(()=>{if(!e.length||!t.length)return{totalRfcs:0,rfcsByStatus:{},rfcsByDepartment:{},rfcsOverTime:[],averageCompletionTime:0};const y=e.length,x=e.reduce((M,E)=>(M[E.status]=(M[E.status]||0)+1,M),{}),b=e.reduce((M,E)=>{const D=E.requestedByDepartment;if(D){const Y=t.find(T=>T._id===D),S=(Y==null?void 0:Y.name)||"Unknown Department";M[S]=(M[S]||0)+1}else M["Unassigned Department"]=(M["Unassigned Department"]||0)+1;return M},{}),w=e.map(M=>({date:new Date(M._creationTime),count:1})).sort((M,E)=>M.date.getTime()-E.date.getTime()).reduce((M,E)=>{const D=E.date.toISOString().split("T")[0],Y=M.find(S=>S.x===D);return Y?Y.y+=1:M.push({x:D,y:1}),M},[]),N=e.filter(M=>M.status==="completed"&&M.submittedAt&&M.reviewedAt),A=N.reduce((M,E)=>{const D=(E.reviewedAt-E.submittedAt)/864e5;return M+D},0),j=N.length>0?parseFloat((A/N.length).toFixed(1)):0;return{totalRfcs:y,rfcsByStatus:x,rfcsByDepartment:b,rfcsOverTime:w,averageCompletionTime:j}},[e,t]),r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:""}}},l={labels:Object.keys(i.rfcsByStatus).map(y=>y.replace(/_/g," ")),datasets:[{label:"RFCs by Status",data:Object.values(i.rfcsByStatus),backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)","rgba(255, 159, 64, 0.7)","rgba(199, 199, 199, 0.7)","rgba(100, 159, 64, 0.7)"]}]},u={labels:Object.keys(i.rfcsByDepartment),datasets:[{label:"RFCs by Department",data:Object.values(i.rfcsByDepartment),backgroundColor:"rgba(75, 192, 192, 0.7)"}]},d={datasets:[{label:"RFC Creation Over Time",data:i.rfcsOverTime,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]},m={...r,scales:{x:{type:"time",time:{unit:"day",tooltipFormat:"MMM dd, yyyy"},title:{display:!0,text:"Date"}},y:{beginAtZero:!0,title:{display:!0,text:"Number of RFCs Created"}}}},g=({title:y,value:x,icon:b,color:w="bg-primary"})=>h.jsxs("div",{className:`p-5 rounded-xl shadow-lg text-white ${w}`,children:[b&&h.jsx("div",{className:"mb-2",children:b}),h.jsx("p",{className:"text-3xl font-bold",children:x}),h.jsx("p",{className:"text-sm opacity-90",children:y})]});return h.jsxs("div",{className:"space-y-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-primary",children:"KPI Dashboard"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsx(g,{title:"Total RFC Requests",value:i.totalRfcs,color:"bg-blue-500"}),h.jsx(g,{title:"Pending Approval (Dept & Final)",value:(i.rfcsByStatus.pending_department_approval||0)+(i.rfcsByStatus.pending_final_review||0),color:"bg-yellow-500"}),h.jsx(g,{title:"Avg. Completion Time (Days)",value:i.averageCompletionTime>0?i.averageCompletionTime:"N/A",color:"bg-green-500"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-secondary-dark",children:"RFCs by Status"}),h.jsxs("button",{onClick:()=>qh(Object.entries(i.rfcsByStatus).map(([y,x])=>({status:y.replace(/_/g," "),count:x})),"rfcs_by_status"),className:"btn btn-outline-secondary btn-sm flex items-center gap-1",children:[h.jsx(yo,{size:16})," Export"]})]}),h.jsx("div",{style:{height:"300px"},children:h.jsx(Xk,{data:l,options:{...r,plugins:{...r.plugins,title:{...r.plugins.title,text:"RFC Distribution by Status"}}}})})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-secondary-dark",children:"RFCs by Requesting Department"}),h.jsxs("button",{onClick:()=>qh(Object.entries(i.rfcsByDepartment).map(([y,x])=>({department:y,count:x})),"rfcs_by_department"),className:"btn btn-outline-secondary btn-sm flex items-center gap-1",children:[h.jsx(yo,{size:16})," Export"]})]}),h.jsx("div",{style:{height:"300px"},children:h.jsx(Qk,{data:u,options:{...r,plugins:{...r.plugins,title:{...r.plugins.title,text:"RFC Count per Department"}}}})})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-secondary-dark",children:"RFC Creation Over Time"}),h.jsxs("button",{onClick:()=>qh(i.rfcsOverTime.map(y=>({date:y.x,count:y.y})),"rfcs_creation_over_time"),className:"btn btn-outline-secondary btn-sm flex items-center gap-1",children:[h.jsx(yo,{size:16})," Export"]})]}),h.jsx("div",{style:{height:"400px"},children:h.jsx($k,{data:d,options:m})})]})]})}function ED({currentUser:s,onNavigate:e}){const[t,i]=Q.useState(!1),[r,l]=Q.useState(null),[u,d]=Q.useState(!0),m=Q.useRef(0),g=Q.useRef(!1),y=Ze(fe.notifications.getRecentNotifications,s!=null&&s._id?{userId:s._id}:"skip")||[],x=Ze(fe.notifications.getUnreadCount,s!=null&&s._id?{userId:s._id}:"skip")||0,b=Fe(fe.notifications.markAsRead),w=Fe(fe.notifications.markAllAsRead);Q.useEffect(()=>{if(!g.current){m.current=x,g.current=!0;return}x>m.current&&x>0&&G0(),m.current=x},[x]),Q.useEffect(()=>{d(Hx());const D=()=>{oM(),document.removeEventListener("click",D),document.removeEventListener("keydown",D)};return document.addEventListener("click",D),document.addEventListener("keydown",D),()=>{document.removeEventListener("click",D),document.removeEventListener("keydown",D)}},[]);const N=()=>{const D=!u;d(D),rM(D),D?(G0(),ie.success("Notification sounds enabled")):ie.success("Notification sounds disabled")},A=async D=>{if(s)try{await b({notificationId:D,userId:s._id})}catch(Y){console.error("Failed to mark notification as read:",Y)}},j=async()=>{if(s)try{await w({userId:s._id})}catch(D){console.error("Failed to mark all notifications as read:",D)}},M=async D=>{try{l(D._id),D.isRead||await A(D._id),D.mocRequestId&&e&&(console.log("Navigating to RFC from notification:",D.mocRequestId),ie.success(`Opening RFC: ${D.relatedMocTitle}`),e({type:"details",mocId:D.mocRequestId})),i(!1)}catch(Y){console.error("Error handling notification click:",Y),ie.error("Failed to open RFC")}finally{l(null)}},E=()=>{e&&e({type:"notifications"}),i(!1)};return h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>i(!t),className:"relative p-2 text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-full",children:[x>0?h.jsx(B_,{className:"h-6 w-6"}):h.jsx(Cx,{className:"h-6 w-6"}),x>0&&h.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:x>99?"99+":x})]}),t&&h.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[h.jsx("div",{className:"p-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),h.jsxs("div",{className:"flex gap-2",children:[x>0&&h.jsxs("button",{onClick:j,className:"text-sm text-primary hover:text-primary-dark flex items-center gap-1",children:[h.jsx(ri,{size:14}),"Mark all read"]}),h.jsx("button",{onClick:N,className:"text-sm text-gray-600 hover:text-gray-900 flex items-center gap-1",title:u?"Disable notification sounds":"Enable notification sounds",children:u?h.jsx(tM,{size:14}):h.jsx(sM,{size:14})}),h.jsxs("button",{onClick:E,className:"text-sm text-gray-600 hover:text-gray-900 flex items-center gap-1",children:[h.jsx(Ox,{size:14}),"View all"]})]})]})}),h.jsx("div",{className:"max-h-96 overflow-y-auto",children:y.length===0?h.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):h.jsx("div",{className:"divide-y divide-gray-100",children:y.map(D=>h.jsx("div",{onClick:()=>M(D),className:`p-4 hover:bg-gray-50 cursor-pointer transition-all duration-200 hover:shadow-sm ${D.isRead?"":"bg-blue-50 border-l-4 border-l-blue-500"} ${r===D._id?"opacity-50 pointer-events-none":""}`,title:"Click to view RFC details",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:`text-sm ${D.isRead?"text-gray-700":"font-semibold text-gray-900"}`,children:D.message}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r===D._id?h.jsx(mS,{size:12,className:"animate-spin"}):h.jsx(sS,{size:12}),"RFC: ",D.relatedMocTitle]}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:hf(D.createdAt)})]}),!D.isRead&&r!==D._id&&h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-2 mt-1"})]})},D._id))})}),y.length>0&&h.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:h.jsx("button",{onClick:E,className:"w-full text-center text-sm text-primary hover:text-primary-dark font-medium",children:"View all notifications"})})]})]})}function zD({currentUser:s}){const[e,t]=Q.useState("all"),i=Ze(fe.notifications.getAllNotifications,s!=null&&s._id?{userId:s._id}:"skip")||[],r=Ze(fe.notifications.getUnreadCount,s!=null&&s._id?{userId:s._id}:"skip")||0,l=Fe(fe.notifications.markAsRead),u=Fe(fe.notifications.markAsUnread),d=Fe(fe.notifications.deleteNotification),m=Fe(fe.notifications.clearAllNotifications),g=e==="unread"?i.filter(A=>!A.isRead):i,y=async A=>{if(s)try{await l({notificationId:A,userId:s._id}),ie.success("Notification marked as read")}catch{ie.error("Failed to mark notification as read")}},x=async A=>{if(s)try{await u({notificationId:A,userId:s._id}),ie.success("Notification marked as unread")}catch{ie.error("Failed to mark notification as unread")}},b=async A=>{if(s&&window.confirm("Are you sure you want to delete this notification?"))try{await d({notificationId:A,userId:s._id}),ie.success("Notification deleted")}catch{ie.error("Failed to delete notification")}},w=async()=>{if(s&&window.confirm("Are you sure you want to clear all notifications? This action cannot be undone."))try{await m({userId:s._id}),ie.success("All notifications cleared")}catch{ie.error("Failed to clear notifications")}},N=A=>{A.isRead||y(A._id)};return h.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6 md:p-8 space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Cx,{className:"text-primary",size:28}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Notifications"}),h.jsx("p",{className:"text-sm text-gray-600",children:r>0?`${r} unread notification${r>1?"s":""}`:"All caught up!"})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>{},className:"btn btn-outline-secondary",children:"Back to RFCs"}),i.length>0&&h.jsxs("button",{onClick:w,className:"btn btn-danger flex items-center gap-2",children:[h.jsx(ko,{size:16}),"Clear All"]})]})]}),h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("nav",{className:"-mb-px flex space-x-8",children:[h.jsxs("button",{onClick:()=>t("all"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="all"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["All (",i.length,")"]}),h.jsxs("button",{onClick:()=>t("unread"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="unread"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Unread (",r,")"]})]})}),h.jsx("div",{className:"space-y-2",children:g.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Dx,{className:"mx-auto text-gray-400 mb-4",size:48}),h.jsx("p",{className:"text-gray-600 text-lg",children:e==="unread"?"No unread notifications":"No notifications found"}),h.jsx("p",{className:"text-gray-500 text-sm mt-2",children:e==="unread"?"All caught up!":"Notifications will appear here when there are updates to your RFCs."})]}):g.map(A=>h.jsx("div",{className:`border rounded-lg p-4 transition-all hover:shadow-md ${A.isRead?"bg-white border-gray-200 hover:bg-gray-50":"bg-blue-50 border-blue-200 border-l-4 border-l-blue-500"}`,children:h.jsxs("div",{className:"flex justify-between items-start gap-4",children:[h.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>N(A),children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:`text-sm ${A.isRead?"text-gray-700":"font-semibold text-gray-900"}`,children:A.message}),h.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["RFC: ",h.jsx("span",{className:"font-medium",children:A.relatedMocTitle})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:hf(A.createdAt)})]}),!A.isRead&&h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-2 mt-1"})]})}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:()=>A.isRead?x(A._id):y(A._id),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:A.isRead?"Mark as unread":"Mark as read",children:A.isRead?h.jsx(Qa,{size:16}):h.jsx(ri,{size:16})}),h.jsx("button",{onClick:()=>b(A._id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Delete notification",children:h.jsx(ko,{size:16})})]})]})},A._id))})]})}function qD({isOpen:s,onClose:e,currentUser:t}){const[i,r]=Q.useState(""),[l,u]=Q.useState(""),[d,m]=Q.useState(""),[g,y]=Q.useState(!1),[x,b]=Q.useState(!1),[w,N]=Q.useState(!1),[A,j]=Q.useState(!1),M=Uc(fe.users.changePassword),E=async D=>{if(D.preventDefault(),l.length<6){ie.error("New password must be at least 6 characters long");return}if(l!==d){ie.error("New passwords do not match");return}j(!0);try{await M({currentPassword:i,newPassword:l,userId:t._id}),ie.success("Password changed successfully"),e(),r(""),u(""),m("")}catch{ie.error("Failed to change password. Please check your current password.")}finally{j(!1)}};return s?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[h.jsx(jo,{size:20}),"Change Password"]}),h.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:h.jsx($i,{size:20})})]}),h.jsxs("form",{onSubmit:E,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:"currentPassword",type:g?"text":"password",value:i,onChange:D=>r(D.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your current password",required:!0}),h.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:g?h.jsx(Qa,{size:20}):h.jsx(ri,{size:20})})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:"newPassword",type:x?"text":"password",value:l,onChange:D=>u(D.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your new password",required:!0}),h.jsx("button",{type:"button",onClick:()=>b(!x),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:x?h.jsx(Qa,{size:20}):h.jsx(ri,{size:20})})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters long"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:"confirmPassword",type:w?"text":"password",value:d,onChange:D=>m(D.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your new password",required:!0}),h.jsx("button",{type:"button",onClick:()=>N(!w),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:w?h.jsx(Qa,{size:20}):h.jsx(ri,{size:20})})]})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:A,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:A?"Changing...":"Change Password"})]})]})]})}):null}function LD({currentUser:s}){const[e,t]=Q.useState(!1),i=Ze(fe.users.getCurrentUserById,s!=null&&s._id?{userId:s._id}:"skip"),r=Ze(fe.departments.listDepartments)||[];if(!i)return h.jsx("div",{className:"flex items-center justify-center min-h-64",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})});const l=i.departmentId?r.find(g=>g._id===i.departmentId):null,u=g=>new Date(g).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),m=[{key:"isAdmin",label:"Administrator",color:"bg-red-100 text-red-800"},{key:"canCreateMocs",label:"Create RFCs",color:"bg-blue-100 text-blue-800"},{key:"canEditAnyMoc",label:"Edit Any RFC",color:"bg-green-100 text-green-800"},{key:"canDeleteAnyMoc",label:"Delete Any RFC",color:"bg-purple-100 text-purple-800"},{key:"canViewAllMocs",label:"View All RFCs",color:"bg-yellow-100 text-yellow-800"},{key:"canManageUsers",label:"Manage Users",color:"bg-indigo-100 text-indigo-800"},{key:"canManageDepartments",label:"Manage Departments",color:"bg-pink-100 text-pink-800"}].filter(g=>i&&i[g.key]);return h.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-8",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"bg-white rounded-full p-3",children:h.jsx(Co,{size:32,className:"text-blue-600"})}),h.jsxs("div",{className:"text-white",children:[h.jsx("h1",{className:"text-2xl font-bold",children:i.name}),h.jsx("p",{className:"text-blue-100",children:i.email})]})]})}),h.jsx("div",{className:"px-6 py-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[h.jsx(Co,{size:20}),"Basic Information"]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(wS,{size:16,className:"text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),h.jsx("p",{className:"font-medium",children:i.email})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(uf,{size:16,className:"text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Department"}),h.jsx("p",{className:"font-medium",children:(l==null?void 0:l.name)||"No department assigned"})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx($c,{size:16,className:"text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Account Created"}),h.jsx("p",{className:"font-medium",children:u(i._creationTime)})]})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[h.jsx(Qc,{size:20}),"Account Status"]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Approval Status"}),h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${i.isApproved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:i.isApproved?"Approved":"Pending Approval"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Permissions"}),m.length>0?h.jsx("div",{className:"flex flex-wrap gap-1",children:m.map(g=>h.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${g.color}`,children:g.label},g.key))}):h.jsx("p",{className:"text-sm text-gray-500",children:"No special permissions"})]})]})]})]})})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[h.jsx(jo,{size:20}),"Security"]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900",children:"Password"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Change your account password"})]}),h.jsxs("button",{onClick:()=>t(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2",children:[h.jsx(jo,{size:16}),"Change Password"]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600",children:"User ID"}),h.jsx("p",{className:"font-mono text-xs bg-gray-100 p-2 rounded",children:i._id})]}),i.passwordHash&&h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600",children:"Password Status"}),h.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Password Set & Encrypted"})]})]})]}),h.jsx(qD,{isOpen:e,onClose:()=>t(!1),currentUser:s})]})}function BD({currentUser:s}){const[e,t]=Q.useState(s),[i,r]=Q.useState({type:"dashboard"}),[l,u]=Q.useState(!0),d=Fe(fe.simpleAuth.signOut),m=Ze(fe.simpleAuth.getCurrentUser,e!=null&&e._id?{userId:e._id}:"skip");Q.useEffect(()=>{s&&!e&&(t(s),u(!1))},[s,e]),Q.useEffect(()=>{m&&e&&JSON.stringify(m)!==JSON.stringify(e)&&(console.log("Updating user data from Convex:",m.email),t(m),localStorage.setItem("currentUser",JSON.stringify(m))),m!==void 0&&u(!1)},[m,e]);const g=j=>{j&&j._id&&j.email?(t(j),localStorage.setItem("currentUser",JSON.stringify(j)),u(!1),console.log("User logged in successfully:",j.email),ie.success(`Welcome back, ${j.name||j.email}!`)):(console.error("Invalid user object received:",j),ie.error("Login failed: Invalid user data"))},y=()=>{t(null),localStorage.removeItem("currentUser"),sessionStorage.clear(),r({type:"dashboard"}),u(!1)},x=()=>{y(),ie.success("Logged out successfully"),e!=null&&e._id&&d({userId:e._id})},b=j=>{if((j.type==="admin"||j.type==="kpi_dashboard")&&(e==null?void 0:e.isAdmin)!==!0){console.warn("Attempted to navigate to admin page without admin privileges"),ie.error("Access denied. Administrator privileges required.");return}r(j)},w=Ze(fe.moc.getRequestDetails,e!=null&&e._id&&i.type==="edit"&&i.mocId?{id:i.mocId,requestingUserId:e._id}:"skip");Q.useEffect(()=>{const j=localStorage.getItem("currentUser");if(j)try{const M=JSON.parse(j);M&&M._id&&M.email?(console.log("Restoring user session:",M.email),t(M)):(console.log("Invalid saved user data, clearing localStorage"),y())}catch(M){console.error("Error parsing saved user:",M),y()}else u(!1)},[]);const N=j=>{b({type:"details",mocId:j})},A=j=>{b({type:"details",mocId:j})};return l?h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e?h.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[h.jsx(Vh,{position:"top-right",richColors:!0}),h.jsx("header",{className:"bg-primary shadow-md sticky top-0 z-50",children:h.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[h.jsx("div",{className:"text-2xl font-bold text-white cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>b({type:"dashboard"}),children:"Management of Change Platform"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(ED,{currentUser:e,onNavigate:b}),h.jsx("span",{className:"text-sm text-white hidden md:block",children:(e==null?void 0:e.name)||(e==null?void 0:e.email)||"User"}),h.jsxs("button",{onClick:x,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[h.jsx(bS,{size:16}),"Sign Out"]})]})]})}),h.jsx("nav",{className:"bg-white shadow-sm",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"flex items-center justify-start space-x-1 md:space-x-2 overflow-x-auto py-2",children:[h.jsx("button",{onClick:()=>b({type:"dashboard"}),className:`nav-button ${i.type==="dashboard"?"nav-button-active":""}`,children:"Dashboard"}),h.jsx("button",{onClick:()=>b({type:"list"}),className:`nav-button ${i.type==="list"?"nav-button-active":""}`,children:"All MOCs"}),((e==null?void 0:e.canCreateMocs)||(e==null?void 0:e.isAdmin))&&h.jsx("button",{onClick:()=>b({type:"create"}),className:`nav-button ${i.type==="create"?"nav-button-active":""}`,children:"+ New MOC"}),h.jsxs("button",{onClick:()=>b({type:"my_profile"}),className:`nav-button ${i.type==="my_profile"?"nav-button-active":""}`,children:[h.jsx(G_,{size:16,className:"inline mr-1"})," My Profile"]}),(e==null?void 0:e.isAdmin)===!0&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>b({type:"admin"}),className:`nav-button ${i.type==="admin"?"nav-button-active":""}`,children:"Admin"}),h.jsxs("button",{onClick:()=>b({type:"kpi_dashboard"}),className:`nav-button ${i.type==="kpi_dashboard"?"nav-button-active":""}`,children:[h.jsx(F_,{size:16,className:"inline mr-1"})," KPI Dashboard"]})]})]})})}),h.jsxs("main",{className:"flex-grow container mx-auto p-4 md:p-6 lg:p-8",children:[i.type==="dashboard"&&h.jsx(NM,{currentUser:e}),i.type==="list"&&h.jsx(gM,{onSelectMoc:A,currentUser:e}),i.type==="create"&&h.jsx(Ih,{onSuccess:N,currentUser:e}),i.type==="details"&&h.jsx(bM,{mocId:i.mocId,onBack:()=>r({type:"list"}),currentUser:e}),i.type==="edit"&&w&&h.jsx(Ih,{onSuccess:N,mocToEdit:w,currentUser:e}),i.type==="admin"&&(e==null?void 0:e.isAdmin)===!0&&h.jsx(MM,{currentUser:e}),i.type==="kpi_dashboard"&&(e==null?void 0:e.isAdmin)===!0&&h.jsx(RD,{currentUser:e}),i.type==="my_profile"&&h.jsx(LD,{currentUser:e}),i.type==="notifications"&&h.jsx(zD,{currentUser:e}),(i.type==="admin"||i.type==="kpi_dashboard")&&(e==null?void 0:e.isAdmin)!==!0&&h.jsx("div",{className:"text-center text-red-500 font-semibold p-10 bg-white rounded-lg shadow",children:"Access Denied. You must be an administrator to view this page."})]}),h.jsxs("footer",{className:"bg-gray-800 text-white text-center p-4 text-xs",children:[h.jsxs("p",{children:["© ",new Date().getFullYear()," Management of Change Platform. All rights reserved."]}),h.jsxs("p",{children:[h.jsx("a",{href:"https://linkedin.com/in/whereishassan",target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-primary-light",children:"Hassan Hany"})," - Asset Integrity Management Team"]})]})]}):h.jsxs(h.Fragment,{children:[h.jsx(Vh,{position:"top-center",richColors:!0}),h.jsx(Bx,{onLogin:g})]})}function HD(){const[s,e]=Q.useState(null),[t,i]=Q.useState(!1),r=Ze(fe.auth.loggedInUser);Q.useEffect(()=>{if(t||i(!0),r){const u=r.isApproved!==void 0?r.isApproved:!0;e(u?r:null)}else e(null)},[r,t]);const l=u=>{u?(e(null),(u.isApproved!==void 0?u.isApproved:!0)?(console.log("Setting current user in App.tsx:",u.email),e(u)):ie.error("Your account is pending approval. Please contact an administrator.")):e(null)};return h.jsxs("main",{className:"min-h-screen bg-gray-50",children:[h.jsx(Vh,{position:"top-right"}),s?h.jsx(BD,{currentUser:s}):h.jsx(Bx,{onLogin:l})]})}const PD=new z2("https://perceptive-ibex-695.convex.cloud",{verbose:!1});mw.createRoot(document.getElementById("root")).render(h.jsx(s_,{client:PD,children:h.jsx(HD,{})}));
